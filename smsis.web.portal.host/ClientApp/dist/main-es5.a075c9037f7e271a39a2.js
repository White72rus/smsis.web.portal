!function(){var e,t,n,r,i,o;function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function c(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)})(e)}function d(e,t,n){return(d=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=S();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},DYJC:function(e,t){var n={userAgent:!1},r={};if(void 0===i)var i={};i.lang={extend:function(e,t,r){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),r){var o;for(o in r)e.prototype[o]=r[o];var a=function(){},u=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(a=function(e,t){for(o=0;o<u.length;o+=1){var n=u[o],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(s){}a(e.prototype,r)}}};var o,s,a,u,c,l,h,f,d,v,p,g=g||(o=Math,a=(s={}).lib={},u=a.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=o.ceil(t/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*o.random()|0);return new c.init(t,e)}}),l=s.enc={},h=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},d=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},v=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,s=r/(4*i),a=(s=e?o.ceil(s):o.max((0|s)-this._minBufferSize,0))*i,u=o.min(4*a,r);if(a){for(var l=0;l<a;l+=i)this._doProcessBlock(n,l);var h=n.splice(0,a);t.sigBytes-=u}return new c.init(h,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),a.Hasher=v.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),p=s.algo={},s);!function(e){var t,n=(t=g).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=g.lib.WordArray;g.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)e.push(r.charAt(o>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(t){var n=t.length,r=this._map;(i=r.charAt(64))&&-1!=(i=t.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(t.charAt(s-1))<<s%4*2,u=r.indexOf(t.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return e.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=g,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],s=[],a=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{for(var h=e.sqrt(l=u),f=2;f<=h;f++)if(!(l%f)){l=!1;break e}l=!0}l&&(8>c&&(o[c]=a(e.pow(u,.5))),s[c]=a(e.pow(u,1/3)),c++),u++}var d=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=0;64>f;f++){if(16>f)d[f]=0|e[t+f];else{var v=d[f-15],p=d[f-2];d[f]=((v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3)+d[f-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+d[f-16]}v=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+s[f]+d[f],p=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=l,l=c,c=u,u=a+v|0,a=o,o=i,i=r,r=v+p|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=g,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n,r=(n=this._hash.words)[0],i=n[1],o=n[2],u=n[3],c=n[4],l=n[5],h=n[6],f=r.high,d=r.low,v=i.high,p=i.low,g=o.high,y=o.low,m=u.high,w=u.low,S=c.high,b=c.low,k=l.high,C=l.low,_=h.high,E=h.low,F=(n=n[7]).high,x=n.low,A=f,P=d,T=v,I=p,R=g,D=y,O=m,M=w,N=S,H=b,V=k,j=C,U=_,B=E,L=F,K=x,z=0;80>z;z++){var q=a[z];if(16>z)var W=q.high=0|e[t+2*z],G=q.low=0|e[t+2*z+1];else{W=((G=(W=a[z-15]).high)>>>1|(J=W.low)<<31)^(G>>>8|J<<24)^G>>>7;var J=(J>>>1|G<<31)^(J>>>8|G<<24)^(J>>>7|G<<25),$=((G=($=a[z-2]).high)>>>19|(Z=$.low)<<13)^(G<<3|Z>>>29)^G>>>6,Z=(Z>>>19|G<<13)^(Z<<3|G>>>29)^(Z>>>6|G<<26);q.high=W=(W=(W=W+(Y=(G=a[z-7]).high)+((G=J+G.low)>>>0<J>>>0?1:0))+$+((G+=Z)>>>0<Z>>>0?1:0))+(ne=(X=a[z-16]).high)+((G+=X=X.low)>>>0<X>>>0?1:0),q.low=G}var Y=N&V^~N&U,X=H&j^~H&B,Q=(q=A&T^A&R^T&R,P&I^P&D^I&D),ee=(Z=s[z]).high,te=Z.low,ne=L+((N>>>14|H<<18)^(N>>>18|H<<14)^(N<<23|H>>>9))+((Z=K+((H>>>14|N<<18)^(H>>>18|N<<14)^(H<<23|N>>>9)))>>>0<K>>>0?1:0);L=U,K=B,U=V,B=j,V=N,j=H,N=O+(ne=(ne=(ne=ne+Y+((Z+=X)>>>0<X>>>0?1:0))+ee+((Z+=te)>>>0<te>>>0?1:0))+W+((Z+=G)>>>0<G>>>0?1:0))+((H=M+Z|0)>>>0<M>>>0?1:0)|0,O=R,M=D,R=T,D=I,T=A,I=P,A=ne+(q=(J=(A>>>28|P<<4)^(A<<30|P>>>2)^(A<<25|P>>>7))+q+((G=($=(P>>>28|A<<4)^(P<<30|A>>>2)^(P<<25|A>>>7))+Q)>>>0<$>>>0?1:0))+((P=Z+G|0)>>>0<Z>>>0?1:0)|0}d=r.low=d+P,r.high=f+A+(d>>>0<P>>>0?1:0),p=i.low=p+I,i.high=v+T+(p>>>0<I>>>0?1:0),y=o.low=y+D,o.high=g+R+(y>>>0<D>>>0?1:0),w=u.low=w+M,u.high=m+O+(w>>>0<M>>>0?1:0),b=c.low=b+H,c.high=S+N+(b>>>0<H>>>0?1:0),C=l.low=C+j,l.high=k+V+(C>>>0<j>>>0?1:0),E=h.low=E+B,h.high=_+U+(E>>>0<B>>>0?1:0),x=n.low=x+K,n.high=F+L+(x>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=g,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();var y,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function w(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=m.charAt(n>>6)+m.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=m.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=m.charAt(n>>2)+m.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function S(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=m.indexOf(e.charAt(t)))<0||(0==o?(i+=x(r>>2),n=3&r,o=1):1==o?(i+=x(n<<2|r>>4),n=15&r,o=2):2==o?(i+=x(n),i+=x(r>>2),n=3&r,o=3):(i+=x(n<<2|r>>4),i+=x(15&r),o=0));return 1==o&&(i+=x(n<<2)),i}function b(e){var t,n=S(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function k(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function C(){return new k(null)}"Microsoft Internet Explorer"==n.appName?(k.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},y=30):"Netscape"!=n.appName?(k.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},y=26):(k.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},y=28),k.prototype.DB=y,k.prototype.DM=(1<<y)-1,k.prototype.DV=1<<y,k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-y,k.prototype.F2=2*y-52;var _,E,F=new Array;for(_="0".charCodeAt(0),E=0;E<=9;++E)F[_++]=E;for(_="a".charCodeAt(0),E=10;E<36;++E)F[_++]=E;for(_="A".charCodeAt(0),E=10;E<36;++E)F[_++]=E;function x(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function A(e,t){var n=F[e.charCodeAt(t)];return null==n?-1:n}function P(e){var t=C();return t.fromInt(e),t}function T(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e}function R(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function D(e,t){return e&t}function O(e,t){return e|t}function M(e,t){return e^t}function N(e,t){return e&~t}function H(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function V(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function j(){}function U(e){return e}function B(e){this.r2=C(),this.q3=C(),k.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},R.prototype.convert=function(e){var t=C();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(k.ZERO)>0&&this.m.subTo(t,t),t},R.prototype.revert=function(e){var t=C();return e.copyTo(t),this.reduce(t),t},R.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},R.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},R.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},k.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},k.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},k.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=8==n?255&e[r]:A(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&k.ZERO.subTo(this,this)},k.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},k.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},k.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},k.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},k.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},k.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},k.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&k.ZERO.subTo(t,t)},k.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},k.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=C());var o=C(),s=this.s,a=e.s,u=this.DB-T(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var h=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/h,d=(1<<this.F1)/h,v=1<<this.F2,p=n.t,g=p-c,y=null==t?C():t;for(o.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),k.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--g>=0;){var m=n[--p]==l?this.DM:Math.floor(n[p]*f+(n[p-1]+v)*d);if((n[p]+=o.am(0,m,n,g,0,c))<m)for(o.dlShiftTo(g,y),n.subTo(y,n);n[p]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&k.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&k.ZERO.subTo(n,n)}}},k.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},k.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},k.prototype.exp=function(e,t){if(e>4294967295||e<1)return k.ONE;var n=C(),r=C(),i=t.convert(this),o=T(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)},k.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=x(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=x(n));return i?o:"0"},k.prototype.negate=function(){var e=C();return k.ZERO.subTo(this,e),e},k.prototype.abs=function(){return this.s<0?this.negate():this},k.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},k.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)},k.prototype.mod=function(e){var t=C();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(k.ZERO)>0&&e.subTo(t,t),t},k.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new I(t):new R(t),this.exp(e,n)},k.ZERO=P(0),k.ONE=P(1),j.prototype.convert=U,j.prototype.revert=U,j.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},j.prototype.sqrTo=function(e,t){e.squareTo(t)},B.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=C();return e.copyTo(t),this.reduce(t),t},B.prototype.revert=function(e){return e},B.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},B.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},B.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var L,K,z,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],W=(1<<26)/q[q.length-1];function G(){this.i=0,this.j=0,this.S=new Array}function J(){!function(e){K[z++]^=255&e,K[z++]^=e>>8&255,K[z++]^=e>>16&255,K[z++]^=e>>24&255,z>=256&&(z-=256)}((new Date).getTime())}if(k.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},k.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=P(n),i=C(),o=C(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s},k.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,a=0;a<e.length;++a){var u=A(e,a);u<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(s=t*s+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&k.ZERO.subTo(this,this)},k.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(k.ONE.shiftLeft(e-1),O,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(k.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},k.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},k.prototype.changeBit=function(e,t){var n=k.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},k.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},k.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},k.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},k.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},k.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},k.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},k.prototype.millerRabin=function(e){var t=this.subtract(k.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>q.length&&(e=q.length);for(var i=C(),o=0;o<e;++o){i.fromInt(q[Math.floor(Math.random()*q.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(k.ONE)&&0!=s.compareTo(t)){for(var a=1;a++<n&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(k.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},k.prototype.clone=function(){var e=C();return this.copyTo(e),e},k.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},k.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},k.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},k.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},k.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},k.prototype.equals=function(e){return 0==this.compareTo(e)},k.prototype.min=function(e){return this.compareTo(e)<0?this:e},k.prototype.max=function(e){return this.compareTo(e)>0?this:e},k.prototype.and=function(e){var t=C();return this.bitwiseTo(e,D,t),t},k.prototype.or=function(e){var t=C();return this.bitwiseTo(e,O,t),t},k.prototype.xor=function(e){var t=C();return this.bitwiseTo(e,M,t),t},k.prototype.andNot=function(e){var t=C();return this.bitwiseTo(e,N,t),t},k.prototype.not=function(){for(var e=C(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},k.prototype.shiftLeft=function(e){var t=C();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},k.prototype.shiftRight=function(e){var t=C();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},k.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+H(this[e]);return this.s<0?this.t*this.DB:-1},k.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=V(this[n]^t);return e},k.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},k.prototype.setBit=function(e){return this.changeBit(e,O)},k.prototype.clearBit=function(e){return this.changeBit(e,N)},k.prototype.flipBit=function(e){return this.changeBit(e,M)},k.prototype.add=function(e){var t=C();return this.addTo(e,t),t},k.prototype.subtract=function(e){var t=C();return this.subTo(e,t),t},k.prototype.multiply=function(e){var t=C();return this.multiplyTo(e,t),t},k.prototype.divide=function(e){var t=C();return this.divRemTo(e,t,null),t},k.prototype.remainder=function(e){var t=C();return this.divRemTo(e,null,t),t},k.prototype.divideAndRemainder=function(e){var t=C(),n=C();return this.divRemTo(e,t,n),new Array(t,n)},k.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=P(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new I(t):t.isEven()?new B(t):new R(t);var s=new Array,a=3,u=n-1,c=(1<<n)-1;if(s[1]=r.convert(this),n>1){var l=C();for(r.sqrTo(s[1],l);a<=c;)s[a]=C(),r.mulTo(l,s[a-2],s[a]),a+=2}var h,f,d=e.t-1,v=!0,p=C();for(i=T(e[d])-1;d>=0;){for(i>=u?h=e[d]>>i-u&c:(h=(e[d]&(1<<i+1)-1)<<u-i,d>0&&(h|=e[d-1]>>this.DB+i-u)),a=n;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),v)s[h].copyTo(o),v=!1;else{for(;a>1;)r.sqrTo(o,p),r.sqrTo(p,o),a-=2;a>0?r.sqrTo(o,p):(f=o,o=p,p=f),r.mulTo(p,s[h],o)}for(;d>=0&&0==(e[d]&1<<i);)r.sqrTo(o,p),f=o,o=p,p=f,--i<0&&(i=this.DB-1,--d)}return r.revert(o)},k.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return k.ZERO;for(var n=e.clone(),r=this.clone(),i=P(1),o=P(0),s=P(0),a=P(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),t&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(k.ONE)?k.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},k.prototype.pow=function(e){return this.exp(e,new j)},k.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},k.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(n[0]==q[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<q.length;){for(var r=q[t],i=t+1;i<q.length&&r<W;)r*=q[i++];for(r=n.modInt(r);t<i;)if(r%q[t++]==0)return!1}return n.millerRabin(e)},k.prototype.square=function(){var e=C();return this.squareTo(e),e},G.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)r=this.S[t],this.S[t]=this.S[n=n+this.S[t]+e[t%e.length]&255],this.S[n]=r;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==K){var $;if(K=new Array,z=0,void 0!==r&&(void 0!==r.crypto||void 0!==r.msCrypto)){var Z=r.crypto||r.msCrypto;if(Z.getRandomValues){var Y=new Uint8Array(32);for(Z.getRandomValues(Y),$=0;$<32;++$)K[z++]=Y[$]}else if("Netscape"==n.appName&&n.appVersion<"5"){var X=r.crypto.random(32);for($=0;$<X.length;++$)K[z++]=255&X.charCodeAt($)}}for(;z<256;)$=Math.floor(65536*Math.random()),K[z++]=$>>>8,K[z++]=255&$;z=0,J()}function Q(){if(null==L){for(J(),(L=new G).init(K),z=0;z<K.length;++z)K[z]=0;z=0}return L.next()}function ee(){}function te(e,t){return new k(e,t)}function ne(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function re(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t){this.x=t,this.q=e}function oe(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?k.ONE:r,this.zinv=null}function se(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=Q()},re.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},re.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},re.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new ee,s=new Array;t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new k(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},re.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ue.crypto.MessageDigest,o=ue.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(e){return ke(o.hashHex(Ce(e),s))}),e.length+2*r+2>t)throw"Message too long for RSA";var a,u="";for(a=0;a<t-e.length-2*r-2;a+=1)u+="\0";var c=n("")+u+"\x01"+e,l=new Array(r);(new ee).nextBytes(l);var h=ne(l,c.length,n),f=[];for(a=0;a<c.length;a+=1)f[a]=c.charCodeAt(a)^h.charCodeAt(a);var d=ne(f,l.length,n),v=[0];for(a=0;a<l.length;a+=1)v[a+1]=l[a]^d.charCodeAt(a);return new k(v.concat(f))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},re.prototype.type="RSA",ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ie.prototype.toBigInteger=function(){return this.x},ie.prototype.negate=function(){return new ie(this.q,this.x.negate().mod(this.q))},ie.prototype.add=function(e){return new ie(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ie.prototype.subtract=function(e){return new ie(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ie.prototype.multiply=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ie.prototype.square=function(){return new ie(this.q,this.x.square().mod(this.q))},ie.prototype.divide=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(k.ZERO.equals(n))return k.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new k("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),a=s.multiply(n),u=i.multiply(s),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(a).multiply(n).mod(this.curve.q),h=u.multiply(r).multiply(t).subtract(o.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),f)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new k("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(e);k.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=s.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new k("3")),i=this.negate(),o=this,s=this.curve.q.subtract(e),a=s.multiply(new k("3")),u=new oe(this.curve,this.x,this.y),c=u.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var l=r.testBit(t);l!=n.testBit(t)&&(o=o.add(l?this:i))}for(t=a.bitLength()-2;t>0;--t){u=u.twice();var h=a.testBit(t);h!=s.testBit(t)&&(u=u.add(h?u:c))}return o},oe.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},se.prototype.getQ=function(){return this.q},se.prototype.getA=function(){return this.a},se.prototype.getB=function(){return this.b},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},se.prototype.getInfinity=function(){return this.infinity},se.prototype.fromBigInteger=function(e){return new ie(this.q,e)},se.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new k(n,16)),this.fromBigInteger(new k(r,16)));default:return null}},ie.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},oe.decodeFrom=function(e,t){var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new k(r),s=new k(i);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(s))},oe.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new k(r,16),s=new k(i,16);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(s))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(k.valueOf(2)),t=this.curve.fromBigInteger(k.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new k("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add2D(s?this:i))}return o},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),s=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(s)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(k.ONE)<0||t.compareTo(e.subtract(k.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(k.ONE)<0||n.compareTo(e.subtract(k.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ae=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,s){var a,u,c=n.match(e),l=c[0],h=!1;"{"===l?a={}:"["===l?a=[]:(a=[],h=!0);for(var f=[a],d=1-h,v=c.length;d<v;++d){var p;switch((l=c[d]).charCodeAt(0)){default:(p=f[0])[u||p.length]=+l,u=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(t,r)),p=f[0],!u){if(!(p instanceof Array)){u=l||i;break}u=p.length}p[u]=l,u=void 0;break;case 91:f.unshift((p=f[0])[u||p.length]=[]),u=void 0;break;case 93:f.shift();break;case 102:(p=f[0])[u||p.length]=!1,u=void 0;break;case 110:(p=f[0])[u||p.length]=null,u=void 0;break;case 116:(p=f[0])[u||p.length]=!0,u=void 0;break;case 123:f.unshift((p=f[0])[u||p.length]={}),u=void 0;break;case 125:f.shift()}}if(h){if(1!==f.length)throw new Error;a=a[0]}else if(f.length)throw new Error;if(s){a=function e(t,n){var r=t[n];if(r&&"object"==typeof r){var i=null;for(var a in r)if(o.call(r,a)&&r!==t){var u=e(r,a);void 0!==u?r[a]=u:(i||(i=[]),i.push(a))}if(i)for(var c=i.length;--c>=0;)delete r[i[c]]}return s.call(t,n,r)}({"":a},"")}return a}}();void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),ue.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new k(r,16).xor(e).add(k.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return xe(e,t)},this.newObject=function(e){var t=ue.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERBitString,o=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,u=t.DEREnumerated,c=t.DERUTF8String,l=t.DERNumericString,h=t.DERPrintableString,f=t.DERTeletexString,d=t.DERIA5String,v=t.DERUTCTime,p=t.DERGeneralizedTime,g=t.DERSequence,y=t.DERSet,m=t.DERTaggedObject,w=t.ASN1Util.newObject,S=Object.keys(e);if(1!=S.length)throw"key of param shall be only one.";var b=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+b+":"))throw"undefined key: "+b;if("bool"==b)return new n(e[b]);if("int"==b)return new r(e[b]);if("bitstr"==b)return new i(e[b]);if("octstr"==b)return new o(e[b]);if("null"==b)return new s(e[b]);if("oid"==b)return new a(e[b]);if("enum"==b)return new u(e[b]);if("utf8str"==b)return new c(e[b]);if("numstr"==b)return new l(e[b]);if("prnstr"==b)return new h(e[b]);if("telstr"==b)return new f(e[b]);if("ia5str"==b)return new d(e[b]);if("utctime"==b)return new v(e[b]);if("gentime"==b)return new p(e[b]);if("seq"==b){for(var k=e[b],C=[],_=0;_<k.length;_++){var E=w(k[_]);C.push(E)}return new g({array:C})}if("set"==b){for(k=e[b],C=[],_=0;_<k.length;_++)E=w(k[_]),C.push(E);return new y({array:C})}if("tag"==b){var F=e[b];if("[object Array]"===Object.prototype.toString.call(F)&&3==F.length){var x=w(F[2]);return new m({tag:F[0],explicit:F[1],obj:x})}var A={};if(void 0!==F.explicit&&(A.explicit=F.explicit),void 0!==F.tag&&(A.tag=F.tag),void 0===F.obj)throw"obj shall be specified for 'tag'.";return A.obj=w(F.obj),new m(A)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ue.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new k(r,2).toString(10),r="")}return t},ue.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new k(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},ue.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ue.asn1.DERAbstractString=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Se(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},i.lang.extend(ue.asn1.DERAbstractString,ue.asn1.ASN1Object),ue.asn1.DERAbstractTime=function(e){ue.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var a=i.getMilliseconds();if(0!=a){var u=r(String(a),3);s=s+"."+(u=u.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=pe(e)},this.setByDateValue=function(e,t,n,r,i,o){var s=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},i.lang.extend(ue.asn1.DERAbstractTime,ue.asn1.ASN1Object),ue.asn1.DERAbstractStructured=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},i.lang.extend(ue.asn1.DERAbstractStructured,ue.asn1.ASN1Object),ue.asn1.DERBoolean=function(){ue.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},i.lang.extend(ue.asn1.DERBoolean,ue.asn1.ASN1Object),ue.asn1.DERInteger=function(e){ue.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ue.asn1.DERInteger,ue.asn1.ASN1Object),ue.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ue.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)t+=1==e[n]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},i.lang.extend(ue.asn1.DERBitString,ue.asn1.ASN1Object),ue.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ue.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},i.lang.extend(ue.asn1.DEROctetString,ue.asn1.DERAbstractString),ue.asn1.DERNull=function(){ue.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},i.lang.extend(ue.asn1.DERNull,ue.asn1.ASN1Object),ue.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new k(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};ue.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=ue.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},i.lang.extend(ue.asn1.DERObjectIdentifier,ue.asn1.ASN1Object),ue.asn1.DEREnumerated=function(e){ue.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ue.asn1.DEREnumerated,ue.asn1.ASN1Object),ue.asn1.DERUTF8String=function(e){ue.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},i.lang.extend(ue.asn1.DERUTF8String,ue.asn1.DERAbstractString),ue.asn1.DERNumericString=function(e){ue.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},i.lang.extend(ue.asn1.DERNumericString,ue.asn1.DERAbstractString),ue.asn1.DERPrintableString=function(e){ue.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},i.lang.extend(ue.asn1.DERPrintableString,ue.asn1.DERAbstractString),ue.asn1.DERTeletexString=function(e){ue.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},i.lang.extend(ue.asn1.DERTeletexString,ue.asn1.DERAbstractString),ue.asn1.DERIA5String=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},i.lang.extend(ue.asn1.DERIA5String,ue.asn1.DERAbstractString),ue.asn1.DERUTCTime=function(e){ue.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=pe(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=pe(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},i.lang.extend(ue.asn1.DERUTCTime,ue.asn1.DERAbstractTime),ue.asn1.DERGeneralizedTime=function(e){ue.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=pe(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=pe(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},i.lang.extend(ue.asn1.DERGeneralizedTime,ue.asn1.DERAbstractTime),ue.asn1.DERSequence=function(e){ue.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},i.lang.extend(ue.asn1.DERSequence,ue.asn1.DERAbstractStructured),ue.asn1.DERSet=function(e){ue.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++)e.push(this.asn1Array[t].getEncodedHex());return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},i.lang.extend(ue.asn1.DERSet,ue.asn1.DERAbstractStructured),ue.asn1.DERTaggedObject=function(e){ue.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},i.lang.extend(ue.asn1.DERTaggedObject,ue.asn1.ASN1Object);var ue,ce,le,he=new function(){};function fe(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function de(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function ve(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function pe(e){return ve(fe(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function me(e){return e.length%2==1&&(e="0"+e),ge(w(e))}function we(e){return S(ye(e))}function Se(e){return Ie(Ne(e))}function be(e){return decodeURIComponent(Re(e))}function ke(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Ce(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function _e(e){return w(e)}function Ee(e){return _e(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Fe(e){return S(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function xe(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(e)+"\r\n-----END "+t+"-----\r\n"}function Ae(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Fe(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pe(e){var t,n,r,i,o,s,a,u,c,l,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=h[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),o=parseInt(h[5]),s=parseInt(h[6]),a=0,""!==(c=h[7])&&(l=(c.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(t,n,r,i,o,s,a);throw"unsupported zulu format: "+e}function Te(e){return~~(Pe(e)/1e3)}function Ie(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function De(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Oe(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function Me(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Oe(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(s){throw t}}function Ne(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+pe(t[r]);return n}function He(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}he.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},he.getL=function(e,t){var n=he.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},he.getVblen=function(e,t){var n;return""==(n=he.getL(e,t))?-1:("8"===n.substr(0,1)?new k(n.substr(2),16):new k(n,16)).intValue()},he.getVidx=function(e,t){var n=he.getLblen(e,t);return n<0?n:t+2*(n+1)},he.getV=function(e,t){var n=he.getVidx(e,t),r=he.getVblen(e,t);return e.substr(n,2*r)},he.getTLV=function(e,t){return e.substr(t,2)+he.getL(e,t)+he.getV(e,t)},he.getNextSiblingIdx=function(e,t){return he.getVidx(e,t)+2*he.getVblen(e,t)},he.getChildIdx=function(e,t){var n=he,r=new Array,i=n.getVidx(e,t);"03"==e.substr(t,2)?r.push(i+2):r.push(i);for(var o=n.getVblen(e,t),s=i,a=0;;){var u=n.getNextSiblingIdx(e,s);if(null==u||u-i>=2*o)break;if(a>=200)break;r.push(u),s=u,a++}return r},he.getNthChildIdx=function(e,t,n){return he.getChildIdx(e,t)[n]},he.getIdxbyList=function(e,t,n,r){var i,o,s=he;if(0==n.length){if(void 0!==r&&e.substr(t,2)!==r)throw"checking tag doesn't match: "+e.substr(t,2)+"!="+r;return t}return i=n.shift(),o=s.getChildIdx(e,t),s.getIdxbyList(e,o[i],n,r)},he.getTLVbyList=function(e,t,n,r){var i=he,o=i.getIdxbyList(e,t,n);if(void 0===o)throw"can't find nthList object";if(void 0!==r&&e.substr(o,2)!=r)throw"checking tag doesn't match: "+e.substr(o,2)+"!="+r;return i.getTLV(e,o)},he.getVbyList=function(e,t,n,r,i){var o,s,a=he;if(void 0===(o=a.getIdxbyList(e,t,n,r)))throw"can't find nthList object";return s=a.getV(e,o),!0===i&&(s=s.substr(2)),s},he.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],c="";for(a=0;a<s.length;a++)128&s[a]?c+=t((127&s[a]).toString(2),7):(c+=t((127&s[a]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=n.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},he.dump=function(e,t,n,r){var i=he,o=i.getV,s=i.dump,a=i.getChildIdx,u=e;e instanceof ue.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l=t.ommit_long_octet;if("01"==u.substr(n,2))return"00"==(h=o(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==u.substr(n,2))return r+"INTEGER "+c(h=o(u,n),l)+"\n";if("03"==u.substr(n,2))return r+"BITSTRING "+c(h=o(u,n),l)+"\n";if("04"==u.substr(n,2)){var h=o(u,n);return i.isASN1HEX(h)?(k=r+"OCTETSTRING, encapsulates\n")+s(h,t,0,r+"  "):r+"OCTETSTRING "+c(h,l)+"\n"}if("05"==u.substr(n,2))return r+"NULL\n";if("06"==u.substr(n,2)){var f=o(u,n),d=ue.asn1.ASN1Util.oidHexToInt(f),v=ue.asn1.x509.OID.oid2name(d),p=d.replace(/\./g," ");return""!=v?r+"ObjectIdentifier "+v+" ("+p+")\n":r+"ObjectIdentifier ("+p+")\n"}if("0c"==u.substr(n,2))return r+"UTF8String '"+be(o(u,n))+"'\n";if("13"==u.substr(n,2))return r+"PrintableString '"+be(o(u,n))+"'\n";if("14"==u.substr(n,2))return r+"TeletexString '"+be(o(u,n))+"'\n";if("16"==u.substr(n,2))return r+"IA5String '"+be(o(u,n))+"'\n";if("17"==u.substr(n,2))return r+"UTCTime "+be(o(u,n))+"\n";if("18"==u.substr(n,2))return r+"GeneralizedTime "+be(o(u,n))+"\n";if("30"==u.substr(n,2)){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";k=r+"SEQUENCE\n";var g=t;if((2==(w=a(u,n)).length||3==w.length)&&"06"==u.substr(w[0],2)&&"04"==u.substr(w[w.length-1],2)){v=i.oidname(o(u,w[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=v,g=y}for(var m=0;m<w.length;m++)k+=s(u,g,w[m],r+"  ");return k}if("31"==u.substr(n,2)){k=r+"SET\n";var w=a(u,n);for(m=0;m<w.length;m++)k+=s(u,t,w[m],r+"  ");return k}var S=parseInt(u.substr(n,2),16);if(0!=(128&S)){var b=31&S;if(0!=(32&S)){var k=r+"["+b+"]\n";for(w=a(u,n),m=0;m<w.length;m++)k+=s(u,t,w[m],r+"  ");return k}return"68747470"==(h=o(u,n)).substr(0,8)&&(h=be(h)),"subjectAltName"===t.x509ExtName&&2==b&&(h=be(h)),r+"["+b+"] "+h+"\n"}return r+"UNKNOWN("+u.substr(n,2)+") "+o(u,n)+"\n"},he.isASN1HEX=function(e){var t=he;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},he.oidname=function(e){var t=ue.asn1;ue.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ue&&ue||(ue={}),void 0!==ue.lang&&ue.lang||(ue.lang={}),ue.lang.String=function(){},"function"==typeof Buffer?(ce=function(e){return ge(new Buffer(e,"utf8").toString("base64"))},le=function(e){return new Buffer(ye(e),"base64").toString("utf8")}):(ce=function(e){return me(Ie(Ne(e)))},le=function(e){return decodeURIComponent(Re(we(e)))}),ue.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ue.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},ue.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ue.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ue.lang.String.isBase64(e))},ue.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",s="00"+r,a="",u=i-o.length-s.length,c=0;c<u;c+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return new ue.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(e)},this.sha256=function(e){return new ue.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(e)},this.sha256Hex=function(e){return new ue.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(e)},this.sha512=function(e){return new ue.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(e)},this.sha512Hex=function(e){return new ue.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(e)}},ue.crypto.Util.md5=function(e){return new ue.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.ripemd160=function(e){return new ue.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.SECURERANDOMGEN=new ee,ue.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(t),ve(t)},ue.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new k(ue.crypto.Util.getRandomHexOfNbytes(e),16)},ue.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],ve(n)},ue.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new k(ue.crypto.Util.getRandomHexOfNbits(e),16)},ue.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ue.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ue.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ue.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ue.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ue.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(o){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+o}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(o){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+o}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ue.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ue.crypto.MessageDigest.getHashLength=function(e){var t=ue.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ue.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ue.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{this.mac=g.algo.HMAC.create(ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n],this.pass)}catch(h){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+h}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ce(e)),void(this.pass=g.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Se(e.utf8)),void 0!==e.rstr&&(t=Ce(e.rstr)),void 0!==e.b64&&(t=S(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=g.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ue.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ue.crypto.MessageDigest({alg:this.mdAlgName})}catch(n){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+n}this.init=function(e,t){var n=null;try{n=void 0===t?Ve.getKey(e):Ve.getKey(e,t)}catch(r){throw"init failed:"+r}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var e=new ue.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof re&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ue.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ue.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new ue.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,e,this.ecpubhex);if(this.pubKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof re&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.ECDSA&&this.pubKey instanceof ue.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.DSA&&this.pubKey instanceof ue.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?ue.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Ve.getKey(e.prvkeypem),this.init(t)}catch(l){throw"fatal error to load pem private key: "+l}}},ue.crypto.Cipher=function(e){},ue.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof re&&t.isPublic){var r=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ue.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof re&&t.isPrivate){var r=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ue.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof re){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ue.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECDSA=function(e){var t=k,n=oe,r=ue.crypto.ECDSA,i=ue.crypto.ECParameterDB,o=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new t(e.bitLength(),o).mod(e.subtract(t.ONE)).add(t.ONE)},this.setNamedCurve=function(e){this.ecparams=i.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.getBigRandom(this.ecparams.n),t=this.ecparams.G.multiply(e),n=t.getX().toBigInteger(),r=t.getY().toBigInteger(),i=this.ecparams.keylen/4,o=("0000000000"+e.toString(16)).slice(-i),s="04"+("0000000000"+n.toString(16)).slice(-i)+("0000000000"+r.toString(16)).slice(-i);return this.setPrivateKeyHex(o),this.setPublicKeyHex(s),{ecprvhex:o,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,n){var i=new t(n,16),o=this.ecparams.n,s=new t(e.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(o),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(u.compareTo(t.ZERO)<=0);var c=a.modInverse(o).multiply(s.add(i.multiply(u))).mod(o);return r.biRSSigToASN1Sig(u,c)},this.sign=function(e,n){var r=n,i=this.ecparams.n,o=t.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(k.ZERO)<=0);var u=s.modInverse(i).multiply(o.add(r.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,i,o){var s,a,u=r.parseSigHex(i);s=u.r,a=u.s;var c=n.decodeFromHex(this.ecparams.curve,o),l=new t(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,s,a,c)},this.verify=function(e,r,i){var o,s,a;if(Bitcoin.Util.isArray(r)){var u=this.parseSig(r);o=u.r,s=u.s}else{if("object"!=typeof r||!r.r||!r.s)throw"Invalid value for signature";o=r.r,s=r.s}if(i instanceof oe)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=n.decodeFrom(this.ecparams.curve,i)}var c=t.fromByteArrayUnsigned(e);return this.verifyRaw(c,o,s,a)},this.verifyRaw=function(e,n,r,i){var o=this.ecparams.n,s=this.ecparams.G;if(n.compareTo(t.ONE)<0||n.compareTo(o)>=0)return!1;if(r.compareTo(t.ONE)<0||r.compareTo(o)>=0)return!1;var a=r.modInverse(o),u=e.multiply(a).mod(o),c=n.multiply(a).mod(o);return s.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(n)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var n;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[n=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(n+2,n+2+e[n+1]);if(2!=e[n+=2+e[n+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(n+2,n+2+e[n+1]);return n+=2+e[n+1],{r:t.fromByteArrayUnsigned(r),s:t.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var n=e[0]-27;if(n<0||n>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:t.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:t.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:n}},this.readPKCS5PrvKeyHex=function(e){var t,n,i,o=r.getName,s=he.getVbyList;if(!1===he.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[2,0],"06"),n=s(e,0,[1],"04");try{i=s(e,0,[3,0],"03").substr(2)}catch(a){}}catch(a){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t,n,r,i=ue.crypto.ECDSA.getName,o=he.getVbyList;if(!1===he.isASN1HEX(e))throw"not ASN.1 hex string";try{o(e,0,[1,0],"06"),t=o(e,0,[1,1],"06"),n=o(e,0,[2,0,1],"04");try{r=o(e,0,[2,0,2,0],"03").substr(2)}catch(s){}}catch(s){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t,n,r=ue.crypto.ECDSA.getName,i=he.getVbyList;if(!1===he.isASN1HEX(e))throw"not ASN.1 hex string";try{i(e,0,[0,0],"06"),t=i(e,0,[0,1],"06"),n=i(e,0,[1],"03").substr(2)}catch(o){throw"malformed PKCS#8 ECC public key"}if(this.curveName=r(t),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n,i,o=r.getName,s=he.getVbyList;if(!1===he.isASN1HEX(e))throw"not ASN.1 hex string";try{n=s(e,0,[0,t,0,1],"06"),i=s(e,0,[0,t,1],"03").substr(2)}catch(a){throw"malformed X.509 certificate ECC public key"}if(this.curveName=o(n),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ue.crypto.ECDSA.parseSigHex=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new k(t.r,16),s:new k(t.s,16)}},ue.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=he.getChildIdx,n=he.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var r=t(e,0);if(2!=r.length)throw"number of signature ASN.1 sequence elements seem wrong";var i=r[0],o=r[1];if("02"!=e.substr(i,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(o,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:n(e,i),s:n(e,o)}},ue.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},ue.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ue.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ue.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new k(e,16),r=new k(t,16);return ue.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ue.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ue.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},ue.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new k(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,u,c,l,h,f,d,v){e[r]={};var p=n(o),g=n(s),y=n(a),m=n(u),w=n(c),S=new se(p,g,y),b=S.decodePointHex("04"+l+h);e[r].name=r,e[r].keylen=i,e[r].curve=S,e[r].G=b,e[r].n=m,e[r].h=w,e[r].oid=d,e[r].info=v;for(var k=0;k<f.length;k++)t[f[k]]=r}},ue.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ue.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ue.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ue.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ue.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ue.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ue.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ue.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Ve=function(){var e=function(e,n,r){return t(g.AES,e,n,r)},t=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),s=g.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var u=e.decrypt(a,o,{iv:s});return g.enc.Hex.stringify(u)},n=function(e,t,n){return r(g.AES,e,t,n)},r=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),s=g.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),u=g.enc.Hex.parse(a.toString());return g.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(g.TripleDES,e,n,r)},eproc:function(e,t,n){return r(g.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(g.DES,e,n,r)},eproc:function(e,t,n){return r(g.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},s=function(e,t,n){for(var r=n.substring(0,16),o=g.enc.Hex.parse(r),s=g.enc.Utf8.parse(t),a=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=g.algo.MD5.create();if(null!=c&&l.update(c),l.update(s),l.update(o),c=l.finalize(),(u+=g.enc.Hex.stringify(c)).length>=2*a)break}var h={};return h.keyhex=u.substr(0,2*i[e].keylen),h.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),h},a=function(e,t,n,r){var o=g.enc.Base64.parse(e),s=g.enc.Hex.stringify(o);return(0,i[t].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return s(e,t,n)},decryptKeyB64:function(e,t,n,r){return a(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=n.cipher,i=n.ivsalt,u=n.data,c=s(r,t,i);return a(u,r,c.keyhex,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw"KEYUTIL unsupported algorithm: "+r;void 0!==o&&null!=o||(o=function(e){var t=g.lib.WordArray.random(e);return g.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,s(r,n,o).keyhex,o);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+o+"\r\n",a+="\r\n",(a+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=he.getChildIdx,n=he.getV,r={},i=t(e,0);if(2!=i.length)throw"malformed format: SEQUENCE(0).items != 2: "+i.length;r.ciphertext=n(e,i[1]);var o=t(e,i[0]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+o.length;if("2a864886f70d01050d"!=n(e,o[0]))throw"this only supports pkcs5PBES2";var s=t(e,o[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+s.length;var a=t(e,s[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+a.length;if("2a864886f70d0307"!=n(e,a[0]))throw"this only supports TripleDES";r.encryptionSchemeAlg="TripleDES",r.encryptionSchemeIV=n(e,a[1]);var u=t(e,s[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=n(e,u[0]))throw"this only supports pkcs5PBKDF2";var c=t(e,u[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;r.pbkdf2Salt=n(e,c[0]);var l=n(e,c[1]);try{r.pbkdf2Iter=parseInt(l,16)}catch(h){throw"malformed format pbkdf2Iter: "+l}return r},getPBKDF2KeyHexFromParam:function(e,t){var n=g.enc.Hex.parse(e.pbkdf2Salt),r=g.PBKDF2(t,n,{keySize:6,iterations:e.pbkdf2Iter});return g.enc.Hex.stringify(r)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Ae(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ve.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=g.enc.Hex.parse(r.ciphertext);var s=g.enc.Hex.parse(i),a=g.enc.Hex.parse(r.encryptionSchemeIV),u=g.TripleDES.decrypt(o,s,{iv:a});return g.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=he,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(e,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ae(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new re;else if("2a8648ce380401"==n.algoid)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new ue.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=he.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new re;else if("2a8648ce380401"===n)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new ue.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=he.getChildIdx,n=he.getV,r={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var i=t(e,0);if(2!=i.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(i[0],2))throw"malformed RSA key(code:003)";if(r.n=n(e,i[0]),"02"!=e.substr(i[1],2))throw"malformed RSA key(code:004)";return r.e=n(e,i[1]),r},parsePublicPKCS8Hex:function(e){var t=he,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=e.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=n(e,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,o[1]).substr(2),i}}}();Ve.getKey=function(e,t,n){var r,i=(w=he).getChildIdx,o=w.getVbyList,s=ue.crypto,a=s.ECDSA,u=s.DSA,c=re,l=Ae,h=Ve;if(void 0!==c&&e instanceof c)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(I=new c).setPublic(e.n,e.e),I;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(I=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),I;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(I=new c).setPrivate(e.n,e.e,e.d),I;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(I=new u).setPublic(e.p,e.q,e.g,e.y),I;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(I=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),I;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(I=new c).setPublic(we(e.n),we(e.e)),I;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(I=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),I;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(I=new c).setPrivate(we(e.n),we(e.e),we(e.d)),I;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var f=(T=new a({curve:e.crv})).ecparams.keylen/4,d=("0000000000"+we(e.x)).slice(-f),v=("0000000000"+we(e.y)).slice(-f);return T.setPublicKeyHex(p="04"+d+v),T}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){f=(T=new a({curve:e.crv})).ecparams.keylen/4;var p="04"+(d=("0000000000"+we(e.x)).slice(-f))+(v=("0000000000"+we(e.y)).slice(-f)),g=("0000000000"+we(e.d)).slice(-f);return T.setPublicKeyHex(p),T.setPrivateKeyHex(g),T}if("pkcs5prv"===n){var y,m=e,w=he;if(9===(y=i(m,0)).length)(I=new c).readPKCS5PrvKeyHex(m);else if(6===y.length)(I=new u).readPKCS5PrvKeyHex(m);else{if(!(y.length>2&&"04"===m.substr(y[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(I=new a).readPKCS5PrvKeyHex(m)}return I}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Ke.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Ke.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var S=Ae(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(S)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=l(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var C=o(r=l(e,"DSA PRIVATE KEY"),0,[1],"02"),_=o(r,0,[2],"02"),E=o(r,0,[3],"02"),F=o(r,0,[4],"02"),x=o(r,0,[5],"02");return(I=new u).setPrivate(new k(C,16),new k(_,16),new k(E,16),new k(F,16),new k(x,16)),I}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=l(e,"EC PRIVATE KEY"),h.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=h.getDecryptedKeyHex(e,t),P=new re;return P.readPKCS5PrvKeyHex(A),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T,I=o(r=h.getDecryptedKeyHex(e,t),0,[1],"04"),R=o(r,0,[2,0],"06"),D=o(r,0,[3,0],"03").substr(2);if(void 0===ue.crypto.OID.oidhex2name[R])throw"undefined OID(hex) in KJUR.crypto.OID: "+R;return(T=new a({curve:ue.crypto.OID.oidhex2name[R]})).setPublicKeyHex(D),T.setPrivateKeyHex(I),T.isPublic=!1,T}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return C=o(r=h.getDecryptedKeyHex(e,t),0,[1],"02"),_=o(r,0,[2],"02"),E=o(r,0,[3],"02"),F=o(r,0,[4],"02"),x=o(r,0,[5],"02"),(I=new u).setPrivate(new k(C,16),new k(_,16),new k(E,16),new k(F,16),new k(x,16)),I;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw"not supported argument"},Ve.generateKeypair=function(e,t){if("RSA"==e){var n=t;(s=new re).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new re,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}if("EC"==e){var s,a,u=t,c=new ue.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new ue.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),s.setPrivateKeyHex(c.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new ue.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}throw"unknown algorithm: "+e},Ve.getPEM=function(e,t,n,r,i,o){var s=ue.asn1,a=s.DERObjectIdentifier,u=s.DERInteger,c=s.ASN1Util.newObject,l=ue.crypto,h=l.DSA,f=l.ECDSA,d=re;function v(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function p(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function y(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==d&&e instanceof d||void 0!==h&&e instanceof h||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return xe(b=new(0,s.x509.SubjectPublicKeyInfo)(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate)return xe(b=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate){var m=new a({name:e.curveName}).getEncodedHex(),w=p(e).getEncodedHex(),S="";return(S+=xe(m,"EC PARAMETERS"))+xe(w,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate)return xe(b=y(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate){var b=v(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",b,n,r,o)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return b=p(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",b,n,r,o);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return b=y(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",b,n,r,o);var k=function(e,t){var n=C(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(e,t){var n=g.lib.WordArray.random(8),r=g.lib.WordArray.random(8),i=g.PBKDF2(t,n,{keySize:6,iterations:100}),o=g.enc.Hex.parse(e),s=g.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=g.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=g.enc.Hex.stringify(r),a};if("PKCS8PRV"==t&&null!=d&&e instanceof d&&1==e.isPrivate){var _=v(e).getEncodedHex();return b=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:_}}]}).getEncodedHex(),void 0===n||null==n?xe(b,"PRIVATE KEY"):xe(w=k(b,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return _=new c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),b=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:_}}]}).getEncodedHex(),void 0===n||null==n?xe(b,"PRIVATE KEY"):xe(w=k(b,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return _=new u({bigint:e.x}).getEncodedHex(),b=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:_}}]}).getEncodedHex(),void 0===n||null==n?xe(b,"PRIVATE KEY"):xe(w=k(b,n),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},Ve.getKeyFromCSRPEM=function(e){var t=Ae(e,"CERTIFICATE REQUEST");return Ve.getKeyFromCSRHex(t)},Ve.getKeyFromCSRHex=function(e){var t=Ve.parseCSRHex(e);return Ve.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Ve.parseCSRHex=function(e){var t=he.getChildIdx,n=he.getTLV,r={},i=e;if("30"!=i.substr(0,2))throw"malformed CSR(code:001)";var o=t(i,0);if(o.length<1)throw"malformed CSR(code:002)";if("30"!=i.substr(o[0],2))throw"malformed CSR(code:003)";var s=t(i,o[0]);if(s.length<3)throw"malformed CSR(code:004)";return r.p8pubkeyhex=n(i,s[2]),r},Ve.getJWKFromKey=function(e){var t={};if(e instanceof re&&e.isPrivate)return t.kty="RSA",t.n=me(e.n.toString(16)),t.e=me(e.e.toString(16)),t.d=me(e.d.toString(16)),t.p=me(e.p.toString(16)),t.q=me(e.q.toString(16)),t.dp=me(e.dmp1.toString(16)),t.dq=me(e.dmq1.toString(16)),t.qi=me(e.coeff.toString(16)),t;if(e instanceof re&&e.isPublic)return t.kty="RSA",t.n=me(e.n.toString(16)),t.e=me(e.e.toString(16)),t;if(e instanceof ue.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=me(n.x),t.y=me(n.y),t.d=me(e.prvKeyHex),t}if(e instanceof ue.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=me(n.x),t.y=me(n.y),t}throw"not supported key object"},re.getPosArrayOfChildrenFromHex=function(e){return he.getChildIdx(e,0)},re.getHexValueArrayOfChildrenFromHex=function(e){var t,n=he.getV,r=n(e,(t=re.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),s=n(e,t[3]),a=n(e,t[4]),u=n(e,t[5]),c=n(e,t[6]),l=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,o,s,a,u,c,l,h),t},re.prototype.readPrivateKeyFromPEMString=function(e){var t=Ae(e),n=re.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},re.prototype.readPKCS5PrvKeyHex=function(e){var t=re.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},re.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,s,a,u,c=he.getVbyList;if(!1===he.isASN1HEX(e))throw"not ASN.1 hex string";try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),r=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),o=c(e,0,[2,0,5],"02"),s=c(e,0,[2,0,6],"02"),a=c(e,0,[2,0,7],"02"),u=c(e,0,[2,0,8],"02")}catch(v){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,n,r,i,o,s,a,u)},re.prototype.readPKCS5PubKeyHex=function(e){var t=he,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},re.prototype.readPKCS8PubKeyHex=function(e){var t=he;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==t.getTLVbyList(e,0,[0,0]))throw"not PKCS8 RSA public key";var n=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},re.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new Ke).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var je=new RegExp("[^0-9a-f]","gi");function Ue(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Be(e,t,n){for(var r="",i=0;r.length<t;)r+=ke(n(Ce(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Le(e){for(var t in ue.crypto.Util.DIGESTINFOHEAD){var n=ue.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function Ke(){var e=he,t=e.getChildIdx,n=e.getV,r=e.getTLV,i=e.getVbyList,o=e.getTLVbyList,s=e.getIdxbyList,a=e.getVidx,u=e.oidname,c=Ke,h=Ae;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return u(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return c.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return c.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=i(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=i(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return s(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Ve.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return u(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),r=o(this.hex,0,[0],"30"),i=new ue.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=s(this.hex,0,[0,7,0],"30"),r=t(this.hex,n);this.aExtInfo=new Array;for(var o=0;o<r.length;o++){var u={critical:!1},c=0;3===t(this.hex,r[o]).length&&(u.critical=!0,c=1),u.oid=e.hextooidstr(i(this.hex,r[o],[0],"06"));var l=s(this.hex,r[o],[1+c]);u.vidx=a(this.hex,l),this.aExtInfo.push(u)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ue.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var r=n(t,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw"malformed key usage value";var r=parseInt(t.substr(0,2)),i=parseInt(t.substr(2),16).toString(2);return i.substr(0,i.length-r)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(Ke.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var i={},o=r(this.hex,e.vidx),s=t(o,0),a=0;a<s.length;a++)"80"===o.substr(s[a],2)&&(i.kid=n(o,s[a]));return i},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var i=new Array,o=r(this.hex,e.vidx);if(""===o)return i;for(var s=t(o,0),a=0;a<s.length;a++)i.push(u(n(o,s[a])));return i},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,n=0;n<e.length;n++)"DNS"===e[n][0]&&t.push(e[n][1]);return t},this.getExtSubjectAltName2=function(){var e,i,o,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var a=new Array,u=r(this.hex,s.vidx),c=t(u,0),l=0;l<c.length;l++)o=u.substr(c[l],2),e=n(u,c[l]),"81"===o&&(i=be(e),a.push(["MAIL",i])),"82"===o&&(i=be(e),a.push(["DNS",i])),"84"===o&&(i=Ke.hex2dn(e,0),a.push(["DN",i])),"86"===o&&(i=be(e),a.push(["URI",i])),"87"===o&&(i=Me(e),a.push(["IP",i]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var n=new Array,r=t(this.hex,e.vidx),o=0;o<r.length;o++)try{var s=be(i(this.hex,r[o],[0,0,0],"86"));n.push(s)}catch(a){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var n={ocsp:[],caissuer:[]},r=t(this.hex,e.vidx),o=0;o<r.length;o++){var s=i(this.hex,r[o],[0],"06"),a=i(this.hex,r[o],[1],"86");"2b06010505073001"===s&&n.ocsp.push(be(a)),"2b06010505073002"===s&&n.caissuer.push(be(a))}return n},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var o=r(this.hex,e.vidx),s=[],a=t(o,0),c=0;c<a.length;c++){var l={},h=t(o,a[c]);if(l.id=u(n(o,h[0])),2===h.length)for(var f=t(o,h[1]),d=0;d<f.length;d++){var v=i(o,f[d],[0],"06");"2b06010505070201"===v?l.cps=be(i(o,f[d],[1])):"2b06010505070202"===v&&(l.unotice=be(i(o,f[d],[1,0])))}s.push(l)}return s},this.readCertPEM=function(e){this.readCertHex(h(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{s(this.hex,0,[0,7],"a3"),this.parseExt()}catch(l){}},this.getInfo=function(){var e,t,n;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+He(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+He(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var r=0;r<n.length;r++){var i=n[r],o=ue.asn1.x509.OID.oid2name(i.oid);""===o&&(o=i.oid);var s="";if(!0===i.critical&&(s="CRITICAL"),e+="  "+o+" "+s+":\n","basicConstraints"===o){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===o)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===o)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===o){var u=this.getExtAuthorityKeyIdentifier();void 0!==u.kid&&(e+="    kid="+u.kid+"\n")}else if("extKeyUsage"===o)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===o)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===o)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===o){var c=this.getExtAIAInfo();void 0!==c.ocsp&&(e+="    ocsp: "+c.ocsp.join(",")+"\n"),void 0!==c.caissuer&&(e+="    caissuer: "+c.caissuer.join(",")+"\n")}else if("certificatePolicies"===o)for(var l=this.getExtCertificatePolicies(),h=0;h<l.length;h++)void 0!==l[h].id&&(e+="    policy oid: "+l[h].id+"\n"),void 0!==l[h].cps&&(e+="    cps: "+l[h].cps+"\n")}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}re.prototype.sign=function(e,t){var n=function(e){return ue.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},re.prototype.signWithMessageHash=function(e,t){var n=te(ue.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ue(this.doPrivate(n).toString(16),this.n.bitLength())},re.prototype.signPSS=function(e,t,n){var r,i=(r=Ce(e),ue.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},re.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=ke(e),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),u=function(e){return ue.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=a-o-2;else if(n<-2)throw"invalid salt length";if(a<o+n+2)throw"data too long";var c="";n>0&&(c=new Array(n),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=ke(u(Ce("\0\0\0\0\0\0\0\0"+i+c))),h=[];for(r=0;r<a-n-o-2;r+=1)h[r]=0;var f=String.fromCharCode.apply(String,h)+"\x01"+c,d=Be(l,f.length,u),v=[];for(r=0;r<f.length;r+=1)v[r]=f.charCodeAt(r)^d.charCodeAt(r);for(v[0]&=~(65280>>8*a-s&255),r=0;r<o;r++)v.push(l.charCodeAt(r));return v.push(188),Ue(this.doPrivate(new k(v)).toString(16),this.n.bitLength())},re.prototype.verify=function(e,t){var n=te(t=(t=t.replace(je,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=Le(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;var i=r[0];return r[1]==function(e){return ue.crypto.Util.hashString(e,i)}(e)},re.prototype.verifyWithMessageHash=function(e,t){var n=te(t=(t=t.replace(je,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=Le(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&r[1]==e},re.prototype.verifyPSS=function(e,t,n,r){var i,o=(i=Ce(e),ue.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(o,t,n,r)},re.prototype.verifyWithMessageHashPSS=function(e,t,n,r){var i=new k(t,16);if(i.bitLength()>this.n.bitLength())return!1;var o,s=function(e){return ue.crypto.Util.hashHex(e,n)},a=ke(e),u=a.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=l-u-2;else if(r<-2)throw"invalid salt length";if(l<u+r+2)throw"data too long";var h=this.doPublic(i).toByteArray();for(o=0;o<h.length;o+=1)h[o]&=255;for(;h.length<l;)h.unshift(0);if(188!==h[l-1])throw"encoded message does not end in 0xbc";var f=(h=String.fromCharCode.apply(String,h)).substr(0,l-u-1),d=h.substr(f.length,u),v=65280>>8*l-c&255;if(0!=(f.charCodeAt(0)&v))throw"bits beyond keysize not zero";var p=Be(d,f.length,s),g=[];for(o=0;o<f.length;o+=1)g[o]=f.charCodeAt(o)^p.charCodeAt(o);g[0]&=~v;var y=l-u-r-2;for(o=0;o<y;o+=1)if(0!==g[o])throw"leftmost octets not zero";if(1!==g[y])throw"0x01 marker not found";return d===ke(s(Ce("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,g.slice(-r)))))},re.SALT_LEN_HLEN=-1,re.SALT_LEN_MAX=-2,re.SALT_LEN_RECOVER=-2,Ke.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,r=he.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Ke.hex2rdn(e,r[i]));return"/"+(n=n.map(function(e){return e.replace("/","\\/")})).join("/")},Ke.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,r=he.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Ke.hex2attrTypeValue(e,r[i]));return(n=n.map(function(e){return e.replace("+","\\+")})).join("+")},Ke.hex2attrTypeValue=function(e,t){var n=he,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),s=ue.asn1.ASN1Util.oidHexToInt(o);return ue.asn1.x509.OID.oid2atype(s)+"="+ke(r(e,i[1]))},Ke.getPublicKeyFromCertHex=function(e){var t=new Ke;return t.readCertHex(e),t.getPublicKey()},Ke.getPublicKeyFromCertPEM=function(e){var t=new Ke;return t.readCertPEM(e),t.getPublicKey()},Ke.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=he.getVbyList,i={algparam:null};return(t=new Ke).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Ke.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ue&&ue||(ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWS=function(){var e=ue.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!n){var u=we(s),c=te(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=le(i),h=le(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ue.jws.JWS.sign=function(e,t,n,r,i){var o,s,a,u=ue.jws.JWS,c=u.readSafeJSONString,l=u.isSafeJSONString,h=ue.crypto,f=h.Mac,d=h.Signature,v=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(o=v.stringify(s=t)),"string"==typeof t){if(!l(o=t))throw"JWS Head is not safe JSON string: "+o;s=c(o)}if(a=n,"object"==typeof n&&(a=v.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,o=v.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var p=null;if(void 0===u.jwsalg2sigalg[e])throw"unsupported alg name: "+e;p=u.jwsalg2sigalg[e];var g=ce(o)+"."+ce(a),y="";if("Hmac"==p.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var m=new f({alg:p,prov:"cryptojs",pass:r});m.updateString(g),y=m.doFinal()}else{var w;-1!=p.indexOf("withECDSA")?((w=new d({alg:p})).init(r,i),w.updateString(g),hASN1Sig=w.sign(),y=ue.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=p&&((w=new d({alg:p})).init(r,i),w.updateString(g),y=w.sign())}return g+"."+me(y)},ue.jws.JWS.verify=function(e,t,n){var r,i=ue.jws.JWS,o=i.readSafeJSONString,s=ue.crypto,a=s.ECDSA,u=s.Mac,c=s.Signature;r=re;var l=e.split(".");if(3!==l.length)return!1;var h,f=l[0]+"."+l[1],d=we(l[2]),v=o(le(l[0])),p=null;if(void 0===v.alg)throw"algorithm not specified in header";if(h=(p=v.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+p+":"))throw"algorithm '"+p+"' not accepted in the list";if("none"!=p&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Ve.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof a))throw"key shall be a ECDSA obj for ES* algs";var g=null;if(void 0===i.jwsalg2sigalg[v.alg])throw"unsupported alg name: "+p;if("none"==(g=i.jwsalg2sigalg[p]))throw"not supported";if("Hmac"==g.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var y=new u({alg:g,pass:t});return y.updateString(f),d==y.doFinal()}if(-1!=g.indexOf("withECDSA")){var m,w=null;try{w=a.concatSigToASN1Sig(d)}catch(S){return!1}return(m=new c({alg:g})).init(t),m.updateString(f),m.verify(w)}return(m=new c({alg:g})).init(t),m.updateString(f),m.verify(d)},ue.jws.JWS.parse=function(e){var t,n,r=e.split("."),i={};if(2!=r.length&&3!=r.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=r[1],3==r.length&&(n=r[2]),i.headerObj=ue.jws.JWS.readSafeJSONString(le(r[0])),i.payloadObj=ue.jws.JWS.readSafeJSONString(le(t)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadPP=null==i.payloadObj?le(t):JSON.stringify(i.payloadObj,null,"  "),void 0!==n&&(i.sigHex=we(n)),i},ue.jws.JWS.verifyJWT=function(e,t,n){var r=ue.jws,i=r.JWS,o=i.readSafeJSONString,s=i.inArray,a=i.includedArray,u=e.split("."),c=u[0],l=u[1],h=(we(u[2]),o(le(c))),f=o(le(l));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(h.alg,n.alg))return!1;if(void 0!==f.iss&&"object"==typeof n.iss&&!s(f.iss,n.iss))return!1;if(void 0!==f.sub&&"object"==typeof n.sub&&!s(f.sub,n.sub))return!1;if(void 0!==f.aud&&"object"==typeof n.aud)if("string"==typeof f.aud){if(!s(f.aud,n.aud))return!1}else if("object"==typeof f.aud&&!a(f.aud,n.aud))return!1;var d=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+n.gracePeriod<d||void 0!==f.nbf&&"number"==typeof f.nbf&&d<f.nbf-n.gracePeriod||void 0!==f.iat&&"number"==typeof f.iat&&d<f.iat-n.gracePeriod||void 0!==f.jti&&void 0!==n.jti&&f.jti!==n.jti||!i.verify(e,t,n.alg))},ue.jws.JWS.includedArray=function(e,t){var n=ue.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},ue.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ue.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ue.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=ae(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(s){return 0}},ue.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=ae(e))||t.constructor===Array?null:t}catch(s){return null}},ue.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ue.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Ce(t);return me(ue.crypto.Util.hashHex(n,"sha256"))},ue.jws.IntDate={},ue.jws.IntDate.get=function(e){var t=ue.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ue.jws.IntDate.getZulu=function(e){return Te(e)},ue.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ue.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ue.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=ee,t.rng_seed_time=J,t.BigInteger=k,t.RSAKey=re,t.ECDSA=ue.crypto.ECDSA,t.DSA=ue.crypto.DSA,t.Signature=ue.crypto.Signature,t.MessageDigest=ue.crypto.MessageDigest,t.Mac=ue.crypto.Mac,t.Cipher=ue.crypto.Cipher,t.KEYUTIL=Ve,t.ASN1HEX=he,t.X509=Ke,t.CryptoJS=g,t.b64tohex=S,t.b64toBA=b,t.ECFieldElementFp=ie,t.ECPointFp=oe,t.ECCurveFp=se,t.stoBA=fe,t.BAtos=de,t.BAtohex=ve,t.stohex=pe,t.stob64=function(e){return w(pe(e))},t.stob64u=function(e){return ge(w(pe(e)))},t.b64utos=function(e){return de(b(ye(e)))},t.b64tob64u=ge,t.b64utob64=ye,t.hex2b64=w,t.hextob64u=me,t.b64utohex=we,t.utf8tob64u=ce,t.b64utoutf8=le,t.utf8tob64=function(e){return w(Ie(Ne(e)))},t.b64toutf8=function(e){return decodeURIComponent(Re(S(e)))},t.utf8tohex=Se,t.hextoutf8=be,t.hextorstr=ke,t.rstrtohex=Ce,t.hextob64=_e,t.hextob64nl=Ee,t.b64nltohex=Fe,t.hextopem=xe,t.pemtohex=Ae,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Pe,t.zulutosec=Te,t.zulutodate=function(e){return new Date(Pe(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Ie,t.hextouricmp=Re,t.ipv6tohex=De,t.hextoipv6=Oe,t.hextoip=Me,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return De(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(d){throw t}},t.encodeURIComponentAll=Ne,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=He,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(s){throw"malformed integer array string: "+s}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=ue,t.crypto=ue.crypto,t.asn1=ue.asn1,t.jws=ue.jws,t.lang=ue.lang},zUnb:function(l,h,g){"use strict";function S(e){return"function"==typeof e}g.r(h);var C=!1,E={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else C&&console.log("RxJS: Back to a better error behavior. Thank you. <3");C=e},get useDeprecatedSynchronousErrorHandling(){return C}};function F(e){setTimeout(function(){throw e},0)}var x={closed:!0,next:function(e){},error:function(e){if(E.useDeprecatedSynchronousErrorHandling)throw e;F(e)},complete:function(){}},A=Array.isArray||function(e){return e&&"number"==typeof e.length};function P(e){return null!==e&&"object"==typeof e}var T,I=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),R=((T=function(){function e(t){k(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(S(r))try{r.call(this)}catch(c){t=c instanceof I?D(c.errors):[c]}if(A(i))for(var s=-1,a=i.length;++s<a;){var u=i[s];if(P(u))try{u.unsubscribe()}catch(c){t=t||[],c instanceof I?t=t.concat(D(c.errors)):t.push(c)}}if(t)throw new I(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new T),T);function D(e){return e.reduce(function(e,t){return e.concat(t instanceof I?t.errors:t)},[])}var O="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),M=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;switch(k(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=x;break;case 1:if(!e){o.destination=x;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(w(o))):(o.syncErrorThrowable=!0,o.destination=new N(w(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new N(w(o),e,r,i)}return o}return _(n,[{key:O,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,v(b(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(R),N=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s,a;k(this,n),(s=t.call(this))._parentSubscriber=e;var u=w(s);return S(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==x&&(S((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(w(s)))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return _(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;E.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=E.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):F(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;F(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};E.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),E.useDeprecatedSynchronousErrorHandling)throw n;F(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!E.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return E.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(F(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(M),H="function"==typeof Symbol&&Symbol.observable||"@@observable";function V(e){return e}var j,U=((j=function(){function e(t){k(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof M)return e;if(e[O])return e[O]()}return e||t||n?new M(e,t,n):new M(x)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||E.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),E.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){E.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof M?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=B(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:H,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(r=t).length?V:1===r.length?r[0]:function(e){return r.reduce(function(e,t){return t(e)},e)})(this);var r}},{key:"toPromise",value:function(e){var t=this;return new(e=B(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}()).create=function(e){return new j(e)},j);function B(e){if(e||(e=E.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var L,K=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),z=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(R),q=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).destination=e,r}return n}(M),W=((L=function(e){p(n,e);var t=y(n);function n(){var e;return k(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _(n,[{key:O,value:function(){return new q(this)}},{key:"lift",value:function(e){var t=new G(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new K;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new K;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new K;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new K;return v(b(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new K;return this.hasError?(e.error(this.thrownError),R.EMPTY):this.isStopped?(e.complete(),R.EMPTY):(this.observers.push(e),new z(this,e))}},{key:"asObservable",value:function(){var e=new U;return e.source=this,e}}]),n}(U)).create=function(e,t){return new G(e,t)},L),G=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):R.EMPTY}}]),n}(W);function J(e){return e&&"function"==typeof e.schedule}var $=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(M),Z=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var Y="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",X=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Q(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ee=function(e){if(e&&"function"==typeof e[H])return r=e,function(e){var t=r[H]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(X(e))return Z(e);if(Q(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,F),e};if(e&&"function"==typeof e[Y])return t=e,function(e){for(var n=t[Y]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,r,i=P(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function te(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new $(e,n,r);if(!i.closed)return t instanceof U?t.subscribe(i):ee(t)(i)}var ne=function(e){p(n,e);var t=y(n);function n(){return k(this,n),t.apply(this,arguments)}return _(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(M);function re(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ie(e,t))}}var ie=function(){function e(t,n){k(this,e),this.project=t,this.thisArg=n}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new oe(e,this.project,this.thisArg))}}]),e}(),oe=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||w(o),o}return _(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(M);function se(e,t){return new U(function(n){var r=new R,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function ae(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[H]}(e))return function(e,t){return new U(function(n){var r=new R;return r.add(t.schedule(function(){var i=e[H]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(Q(e))return function(e,t){return new U(function(n){var r=new R;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(X(e))return se(e,t);if(function(e){return e&&"function"==typeof e[Y]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new U(function(n){var r,i=new R;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[Y](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof U?e:new U(ee(e))}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(ue(function(n,r){return ae(e(n,r)).pipe(re(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ce(e,n))})}var ce=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;k(this,e),this.project=t,this.concurrent=n}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new le(e,this.project,this.concurrent))}}]),e}(),le=function(e){p(n,e);var t=y(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return k(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new $(this,t,n),i=this.destination;i.add(r);var o=te(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(ne);function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return ue(V,e)}function fe(e,t){return t?se(e,t):new U(Z(e))}function de(){return function(e){return e.lift(new pe(e))}}var ve,pe=function(){function e(t){k(this,e),this.connectable=t}return _(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ge(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ge=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).connectable=r,i}return _(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(M),ye=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new R).add(this.source.subscribe(new we(this.getSubject(),this))),e.closed&&(this._connection=null,e=R.EMPTY)),e}},{key:"refCount",value:function(){return de()(this)}}]),n}(U),me={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(ve=ye.prototype)._subscribe},_isComplete:{value:ve._isComplete,writable:!0},getSubject:{value:ve.getSubject},connect:{value:ve.connect},refCount:{value:ve.refCount}},we=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).connectable=r,i}return _(n,[{key:"_error",value:function(e){this._unsubscribe(),v(b(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),v(b(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(q);function Se(){return new W}
/**
 * @license Angular v11.2.1
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function be(e){for(var t in e)if(e[t]===be)return t;throw Error("Could not find renamed property on target object.")}function ke(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _e(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Ee=be({__forward_ref__:be});function Fe(e){return e.__forward_ref__=Fe,e.toString=function(){return Ce(this())},e}function xe(e){return Ae(e)?e():e}function Ae(e){return"function"==typeof e&&e.hasOwnProperty(Ee)&&e.__forward_ref__===Fe}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Te(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function Ie(e){return Re(e,Me)||Re(e,He)}function Re(e,t){return e.hasOwnProperty(t)?e[t]:null}function De(e){return e&&(e.hasOwnProperty(Ne)||e.hasOwnProperty(Ve))?e[Ne]:null}var Oe,Me=be({"\u0275prov":be}),Ne=be({"\u0275inj":be}),He=be({ngInjectableDef:be}),Ve=be({ngInjectorDef:be}),je=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ue(e){var t=Oe;return Oe=e,t}function Be(e,t,n){var r=Ie(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&je.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(Ce(e),"]"))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Le(e){return{toString:e}.toString()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Ke=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ze=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),qe="undefined"!=typeof globalThis&&globalThis,We="undefined"!=typeof window&&window,Ge="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Je="undefined"!=typeof global&&global,$e=qe||Je||We||Ge,Ze={},Ye=[],Xe=be({"\u0275cmp":be}),Qe=be({"\u0275dir":be}),et=be({"\u0275pipe":be}),tt=be({"\u0275mod":be}),nt=be({"\u0275loc":be}),rt=be({"\u0275fac":be}),it=be({__NG_ELEMENT_ID__:be}),ot=0;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function st(e){return Le(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ye,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ze.Emulated,id:"c",styles:e.styles||Ye,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ot++,n.inputs=ht(e.inputs,t),n.outputs=ht(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(at)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ut)}:null,n})}function at(e){return dt(e)||function(e){return e[Qe]||null}(e)}function ut(e){return function(e){return e[et]||null}(e)}var ct={};function lt(e){var t={type:e.type,bootstrap:e.bootstrap||Ye,declarations:e.declarations||Ye,imports:e.imports||Ye,exports:e.exports||Ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Le(function(){ct[e.id]=e.type}),t}function ht(e,t){if(null==e)return Ze;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var ft=st;function dt(e){return e[Xe]||null}function vt(e,t){var n=e[tt]||null;if(!n&&!0===t)throw new Error("Type ".concat(Ce(e)," does not have '\u0275mod' property."));return n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function pt(e){return Array.isArray(e)&&"object"==typeof e[1]}function gt(e){return Array.isArray(e)&&!0===e[1]}function yt(e){return 0!=(8&e.flags)}function mt(e){return 2==(2&e.flags)}function wt(e){return 1==(1&e.flags)}function St(e){return null!==e.template}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function bt(e,t){return e.hasOwnProperty(rt)?e[rt]:null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var kt=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e,r))).code=e,i}return n}(f(Error));function Ct(e){return"string"==typeof e?e:null==e?"":String(e)}function _t(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ct(e)}function Et(e,t){var n=t?" in ".concat(t):"";throw new kt("201","No provider for ".concat(_t(e)," found").concat(n))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Ft,xt=function(){function e(t,n,r){k(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function At(){return Pt}function Pt(e){return e.type.prototype.ngOnChanges&&(e.setInput=It),Tt}function Tt(){var e=Rt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Ze)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function It(e,t,n,r){var i=Rt(e)||function(e,t){return e.__ngSimpleChanges__=t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e,{previous:Ze,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new xt(u&&u.currentValue,t,s===Ze),e[r]=t}function Rt(e){return e.__ngSimpleChanges__||null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Dt(e){return!!e.listen}At.ngInherit=!0;var Ot={createRenderer:function(e,t){return void 0!==Ft?Ft:"undefined"!=typeof document?document:void 0}};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Mt(e){for(;Array.isArray(e);)e=e[0];return e}function Nt(e,t){return Mt(t[e])}function Ht(e,t){return Mt(t[e.index])}function Vt(e,t){return e.data[t]}function jt(e,t){var n=t[e];return pt(n)?n:n[0]}function Ut(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Bt(e){return 128==(128&e[2])}function Lt(e,t){return null==t?null:e[t]}function Kt(e){e[18]=0}function zt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}var qt={lFrame:hn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return qt.bindingsEnabled}function Gt(){return qt.lFrame.lView}function Jt(){return qt.lFrame.tView}function $t(e){qt.lFrame.contextLView=e}function Zt(){for(var e=Yt();null!==e&&64===e.type;)e=e.parent;return e}function Yt(){return qt.lFrame.currentTNode}function Xt(e,t){var n=qt.lFrame;n.currentTNode=e,n.isParent=t}function Qt(){return qt.lFrame.isParent}function en(){return qt.isInCheckNoChangesMode}function tn(e){qt.isInCheckNoChangesMode=e}function nn(){var e=qt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function rn(){return qt.lFrame.bindingIndex++}function on(e){qt.lFrame.currentDirectiveIndex=e}function sn(e){qt.lFrame.currentQueryIndex=e}function an(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function un(e,t,n){if(n&je.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&je.Host||(r=an(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var o=qt.lFrame=ln();return o.currentTNode=t,o.lView=e,!0}function cn(e){var t=ln(),n=e[1];qt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ln(){var e=qt.lFrame,t=null===e?null:e.child;return null===t?hn(e):t}function hn(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function fn(){var e=qt.lFrame;return qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var dn=fn;function vn(){var e=fn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pn(){return qt.lFrame.selectedIndex}function gn(e){qt.lFrame.selectedIndex=e}function yn(){var e=qt.lFrame;return Vt(e.tView,e.selectedIndex)}function mn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,a=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),a&&(e.viewHooks||(e.viewHooks=[])).push(-n,a),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function wn(e,t,n){kn(e,t,3,n)}function Sn(e,t,n,r){(3&e[2])===n&&kn(e,t,n,r)}function bn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function kn(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,s=0,a=void 0!==r?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=r&&s>=r)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&(Cn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Cn(e,t,n,r){var i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var _n=function e(t,n,r){k(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function En(e,t,n){for(var r=Dt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];xn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Fn(e){return 3===e||4===e||6===e}function xn(e){return 64===e.charCodeAt(0)}function An(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Pn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Pn(e,t,n,r,i){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Tn(e){return-1!==e}function In(e){return 32767&e}function Rn(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Dn=!0;function On(e){var t=Dn;return Dn=e,t}var Mn=0;function Nn(e,t){var n=Vn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Hn(r.data,e),Hn(t,null),Hn(r.blueprint,null));var i=jn(e,t),o=e.injectorIndex;if(Tn(i))for(var s=In(i),a=Rn(i,t),u=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c];return t[o+8]=i,o}function Hn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function jn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Un(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(it)&&(r=n[it]),null==r&&(r=n[it]=Mn++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Bn(e,t,n){if(n&je.Optional)return e;Et(t,"NodeInjector")}function Ln(e,t,n,r){if(n&je.Optional&&void 0===r&&(r=null),0==(n&(je.Self|je.Host))){var i=e[9],o=Ue(void 0);try{return i?i.get(t,r,n&je.Optional):Be(t,r,n&je.Optional)}finally{Ue(o)}}return Bn(r,t,n)}function Kn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:je.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(it)?e[it]:void 0;return"number"==typeof t?t>=0?255&t:qn:t}(n);if("function"==typeof o){if(!un(t,e,r))return r&je.Host?Bn(i,n,r):Ln(t,n,r,i);try{var s=o();if(null!=s||r&je.Optional)return s;Et(n)}finally{dn()}}else if("number"==typeof o){var a=null,u=Vn(e,t),c=-1,l=r&je.Host?t[16][6]:null;for((-1===u||r&je.SkipSelf)&&(-1!==(c=-1===u?jn(e,t):t[u+8])&&$n(r,!1)?(a=t[1],u=In(c),t=Rn(c,t)):u=-1);-1!==u;){var h=t[1];if(Jn(o,u,h.data)){var f=Wn(u,t,n,a,r,l);if(f!==zn)return f}-1!==(c=t[u+8])&&$n(r,t[1].data[u+8]===l)&&Jn(o,u,t)?(a=h,u=In(c),t=Rn(c,t)):u=-1}}}return Ln(t,n,r,i)}var zn={};function qn(){return new Zn(Zt(),Gt())}function Wn(e,t,n,r,i,o){var s=t[1],a=s.data[e+8],u=function(e,t,n,r,i){for(var o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,c=o>>20,l=i?a+c:e.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&St(d)&&d.type===n)return u}return null}(a,s,n,null==r?mt(a)&&Dn:r!=s&&0!=(3&a.type),i&je.Host&&o===a);return null!==u?Gn(t,s,u,a):zn}function Gn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof _n){var s=i;s.resolving&&function(e,t){throw new kt("200","Circular dependency in DI detected for ".concat(e))}(_t(o[n]));var a=On(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?Ue(s.injectImpl):null;un(e,r,je.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var a=Pt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,o[n],t)}finally{null!==u&&Ue(u),On(a),s.resolving=!1,dn()}}return i}function Jn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function $n(e,t){return!(e&je.Self||e&je.Host&&t)}var Zn=function(){function e(t,n){k(this,e),this._tNode=t,this._lView=n}return _(e,[{key:"get",value:function(e,t){return Kn(this._tNode,this._lView,e,void 0,t)}}]),e}();function Yn(e){var t=e;if(Ae(e))return function(){var e=Yn(xe(t));return e?e():null};var n=bt(t);if(null===n){var r=De(t);n=r&&r.factory}return n||null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Xn(e,t,n){return Le(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=d(i,t);return s.annotation=o,s;function s(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Qn=function(){function e(t,n){k(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),er=new Qn("AnalyzeForEntryComponents"),tr=Function;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function nr(e,t){e.forEach(function(e){return Array.isArray(e)?nr(e,t):t(e)})}function rr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ir(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function or(e,t){var n=sr(e,t);if(n>=0)return e[1|n]}function sr(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),s=e[o<<1];if(t===s)return o<<1;s>t?i=o:r=o+1}return~(i<<1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e,t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ar,ur={},cr=/\n/gm,lr=be({provide:String,useValue:be});function hr(e){var t=ar;return ar=e,t}function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.Default;if(void 0===ar)throw new Error("inject() must be called from an injection context");return null===ar?Be(e,void 0,t):ar.get(e,t&je.Optional?null:void 0,t)}function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.Default;return(Oe||fr)(xe(e),t)}function vr(e){for(var t=[],n=0;n<e.length;n++){var r=xe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=je.Default,s=0;s<r.length;s++){var a=r[s],u=a.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(dr(i,o))}else t.push(dr(r))}return t}function pr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var gr=pr(Xn("Inject",function(e){return{token:e}}),-1),yr=pr(Xn("Optional"),8),mr=pr(Xn("SkipSelf"),4);function wr(e){return e.ngDebugContext}function Sr(e){return e.ngOriginalError}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var kr=function(){function e(){k(this,e),this._console=console}return _(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||br}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?wr(e)?wr(e):this._findContext(Sr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Sr(e);t&&Sr(t);)t=Sr(t);return t}}]),e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Cr(e,t){e.__ngContext__=t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var _r=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($e);function Er(e){return e instanceof Function?e():e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Fr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function xr(e,t){return(void 0)(e,t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ar(e){var t=e[3];return gt(t)?t[3]:t}function Pr(e){return Ir(e[13])}function Tr(e){return Ir(e[4])}function Ir(e){for(;null!==e&&!gt(e);)e=e[4];return e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Rr(e,t,n,r,i){if(null!=r){var o,s=!1;gt(r)?o=r:pt(r)&&(s=!0,r=r[0]);var a=Mt(r);0===e&&null!==n?null==i?jr(t,n,a):Vr(t,n,a,i||null,!0):1===e&&null!==n?Vr(t,n,a,i||null,!0):2===e?function(e,t,n){var r=Br(e,t);r&&function(e,t,n,r){Dt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Mt(n)&&Rr(t,e,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];Gr(a[1],a,e,t,r,o)}}(t,e,o,n,i)}}function Dr(e,t,n){return Dt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Or(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,zt(i,-1)),n.splice(r,1)}function Mr(e,t){if(!(e.length<=10)){var n,r=10+t,i=e[r];if(i){var o=i[17];null!==o&&o!==e&&Or(o,i),t>0&&(e[r-1][4]=i[4]);var s=ir(e,10+t);Gr(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Nr(e,t){if(!(256&t[2])){var n=t[11];Dt(n)&&n.destroyNode&&Gr(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Hr(e[1],e);for(;t;){var n=null;if(pt(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)pt(t)&&Hr(t[1],t),t=t[3];null===t&&(t=e),pt(t)&&Hr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Hr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof _n)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var s=n[o+1],a="function"==typeof s?s(t):Mt(t[s]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();t[7]=null}}(e,t),1===t[1].type&&Dt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&gt(t[3])){n!==t[3]&&Or(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Vr(e,t,n,r,i){Dt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function jr(e,t,n){Dt(e)?e.appendChild(t,n):t.appendChild(n)}function Ur(e,t,n,r,i){null!==r?Vr(e,t,n,r,i):jr(e,t,n)}function Br(e,t){return Dt(e)?e.parentNode(t):t.parentNode}function Lr(e,t,n,r){var i=function(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===ze.None||i===ze.Emulated)return null}return Ht(r,n)}(e,t.parent,n)}(e,r,t),o=t[11],s=function(e,t,n){return function(e,t,n){return 40&e.type?Ht(e,n):null}(e,0,n)}(r.parent||t[6],0,t);if(null!=i)if(Array.isArray(n))for(var a=0;a<n.length;a++)Ur(o,i,n[a],s,!1);else Ur(o,i,n,s,!1)}function Kr(e,t){if(null!==t){var n=t.type;if(3&n)return Ht(t,e);if(4&n)return qr(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return Kr(e,r);var i=e[t.index];return gt(i)?qr(-1,i):Mt(i)}if(32&n)return xr(t,e)()||Mt(e[t.index]);var o=zr(e,t);return null!==o?Array.isArray(o)?o[0]:Kr(Ar(e[16]),o):Kr(e,t.next)}return null}function zr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function qr(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return Kr(r,i)}return t[7]}function Wr(e,t,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;if(s&&0===t&&(a&&Cr(Mt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Wr(e,t,n.child,r,i,o,!1),Rr(t,e,i,a,o);else if(32&u){for(var c=xr(n,r),l=void 0;l=c();)Rr(t,e,i,l,o);Rr(t,e,i,a,o)}else 16&u?Jr(e,t,r,n,i,o):Rr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Gr(e,t,n,r,i,o){Wr(n,r,e.firstChild,t,i,o,!1)}function Jr(e,t,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Rr(t,e,i,a[u],o);else Wr(e,t,a,s[3],i,o,!0)}function $r(e,t,n){Dt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Zr(e,t,n){Dt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Yr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Xr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Yr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Qr(e){return 4===e.type&&"ng-template"!==e.value}function ei(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function ti(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Fn(e[t]))return t;return e.length}(i),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ei(e,u,n)||""===u&&1===t.length){if(ni(r))return!1;s=!0}}else{var c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Xr(e.attrs,c,n)){if(ni(r))return!1;s=!0}continue}var l=ri(8&r?"class":u,i,Qr(e),n);if(-1===l){if(ni(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Yr(f,c,0)||2&r&&c!==h){if(ni(r))return!1;s=!0}}}}else{if(!s&&!ni(r)&&!ni(u))return!1;if(s&&ni(u))continue;s=!1,r=u|1&r}}return ni(r)||s}function ni(e){return 0==(1&e)}function ri(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++i];"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ii(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(ti(e,t[r],n))return!0;return!1}function oi(e,t){return e?":not("+t.trim()+")":t}function si(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ni(s)||(t+=oi(o,i),i=""),r=s,o=o||!ni(r);n++}return""!==i&&(t+=oi(o,i)),t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ai={};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ui(e){ci(Jt(),Gt(),pn()+e,en())}function ci(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&wn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Sn(t,o,0,n)}gn(n)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function li(e,t){return e<<17|t<<2}function hi(e){return e>>17&32767}function fi(e){return 2|e}function di(e){return(131068&e)>>2}function vi(e,t){return-131069&e|t<<2}function pi(e){return 1|e}function gi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=e.data[o];sn(i),s.contentQueries(2,t[o],o)}}}function yi(e,t,n,r,i,o,s,a,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Kt(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function mi(e,t,n,r,i){var o,s,a=e.data[t];if(null===a)a=function(e,t,n,r,i){var o=Yt(),s=Qt(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,n,r,i),qt.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;var u=(o=qt.lFrame,s=o.currentTNode,o.isParent?s:s.parent);a.injectorIndex=null===u?-1:u.injectorIndex}return Xt(a,!0),a}function wi(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Si(e,t,n){cn(t);try{var r=e.viewQuery;null!==r&&Ji(1,r,n);var i=e.template;null!==i&&Ci(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gi(e,t),e.staticViewQueries&&Ji(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Ki(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,vn()}}function bi(e,t,n,r){var i=t[2];if(256!=(256&i)){cn(t);var o=en();try{Kt(t),qt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ci(e,t,n,2,r);var s=3==(3&i);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&wn(t,a,null)}else{var u=e.preOrderHooks;null!==u&&Sn(t,u,0,null),bn(t,0)}if(function(e){for(var t=Pr(e);null!==t;t=Tr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&zt(o,1),i[2]|=1024}}(t),function(e){for(var t=Pr(e);null!==t;t=Tr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Bt(r)&&bi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&gi(e,t),!o)if(s){var c=e.contentCheckHooks;null!==c&&wn(t,c)}else{var l=e.contentHooks;null!==l&&Sn(t,l,1),bn(t,1)}!function(e,t){var n,r,i,o=e.hostBindingOpCodes;if(null!==o)try{for(var s=0;s<o.length;s++){var a=o[s];if(a<0)gn(~a);else{var u=a,c=o[++s],l=o[++s];n=c,r=u,i=void 0,(i=qt.lFrame).bindingIndex=i.bindingRootIndex=n,on(r),l(2,t[u])}}}finally{gn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Bi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ji(2,f,r),!o)if(s){var d=e.viewCheckHooks;null!==d&&wn(t,d)}else{var v=e.viewHooks;null!==v&&Sn(t,v,2),bn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,zt(t[3],-1))}finally{vn()}}}function ki(e,t,n,r){var i=t[10],o=!en(),s=4==(4&t[2]);try{o&&!s&&i.begin&&i.begin(),s&&Si(e,t,r),bi(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ci(e,t,n,r,i){var o=pn();try{gn(-1),2&r&&t.length>20&&ci(e,t,20,en()),n(r,i)}finally{gn(o)}}function _i(e,t,n){Wt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Nn(n,t),Cr(r,t);for(var s=n.initialInputs,a=i;a<o;a++){var u=e.data[a],c=St(u);c&&Hi(t,n,u);var l=Gn(t,e,a,n);Cr(l,t),null!==s&&Vi(0,a-i,l,u,0,s),c&&(jt(n.index,t)[8]=l)}}(e,t,n,Ht(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{gn(o);for(var a=r;a<i;a++){var u=e.data[a],c=t[a];on(a),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Ri(u,c)}}finally{gn(-1),on(s)}}(e,t,n))}function Ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}function Fi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xi(e,t,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:ai);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ai(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Pi(e,t,n,r,i,o,s,a){var u,c,l=Ht(t,n),h=t.inputs;!a&&null!=h&&(u=h[r])?(Qi(e,n,u,r,i),mt(t)&&function(e,t){var n=jt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=s?s(i,t.value||"",r):i,Dt(o)?o.setProperty(l,r,i):xn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ti(e,t,n,r){var i=!1;if(Wt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];ii(n,s.selectors,!1)&&(i||(i=[]),Un(Nn(n,t),e,s.type),St(s)?(Di(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Mi(n,e.data.length,o.length);for(var a=0;a<o.length;a++){var u=o[a];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=wi(e,t,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=An(n.mergedAttrs,d.hostAttrs),Ni(e,n,t,h,d),Oi(h,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var v=d.type.prototype;!c&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),l||!v.ngOnChanges&&!v.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Qr(t)?null:ji(l,i);o.push(h),s=Ai(l,u,s),a=Ai(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new kt("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,s)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),i}function Ii(e,t,n,r,i,o){var s=o.hostBindings;if(s){var a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,s)}}function Ri(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Di(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Oi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;St(t)&&(n[""]=e)}}function Mi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ni(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=bt(i.type)),s=new _n(o,St(i),null);e.blueprint[r]=s,n[r]=s,Ii(e,t,0,r,wi(e,n,i.hostVars,ai),i)}function Hi(e,t,n){var r=Ht(t,e),i=Fi(n),o=e[10],s=zi(e,yi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function Vi(e,t,n,r,i,o){var s=o[t];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function ji(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Bi(e,t){var n=jt(t,e);if(Bt(n)){var r=n[1];80&n[2]?bi(r,n,r.template,n[8]):n[5]>0&&Li(n)}}function Li(e){for(var t=Pr(e);null!==t;t=Tr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];bi(i,r,i.template,r[8])}else r[5]>0&&Li(r)}var o=e[1].components;if(null!==o)for(var s=0;s<o.length;s++){var a=jt(o[s],e);Bt(a)&&a[5]>0&&Li(a)}}function Ki(e,t){var n=jt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Si(r,n,n[8])}function zi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function qi(e){for(;e;){e[2]|=64;var t=Ar(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Wi(e,t,n){var r=t[10];r.begin&&r.begin();try{bi(e,t,e.template,n)}catch(i){throw Xi(t,i),i}finally{r.end&&r.end()}}function Gi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Ut(n),i=r[1];ki(i,r,i.template,n)}}(e[8])}function Ji(e,t,n){sn(0),t(e,n)}var $i=Promise.resolve(null);function Zi(e){return e[7]||(e[7]=[])}function Yi(e){return e.cleanup||(e.cleanup=[])}function Xi(e,t){var n=e[9],r=n?n.get(kr,null):null;r&&r.handleError(t)}function Qi(e,t,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function eo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?i=_e(i,a):2==o&&(r=_e(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var to,no=new Qn("INJECTOR",-1),ro=function(){function e(){k(this,e)}return _(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur;if(t===ur){var n=new Error("NullInjectorError: No provider for ".concat(Ce(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),io=new Qn("Set Injector scope."),oo={},so={},ao=[];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function uo(){return void 0===to&&(to=new ro),to}function co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new lo(e,n,t||uo(),r)}var lo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;k(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&nr(n,function(e){return i.processProvider(e,t,n)}),nr([t],function(e){return i.processInjectorType(e,[],s)}),this.records.set(no,vo(void 0,this));var a=this.records.get(io);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:Ce(t))}return _(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je.Default;this.assertNotDestroyed();var r,i=hr(this);try{if(!(n&je.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Qn)&&Ie(e);o=s&&this.injectableDefInScope(s)?vo(ho(e),oo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&je.Self?uo():this.parent).get(e,t=n&je.Optional&&t===ur?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(Ce(e)),i)throw a;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=Ce(t);if(Array.isArray(t))i=t.map(Ce).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(cr,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{hr(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(Ce(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=xe(e)))return!1;var i=De(e),o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=De(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{nr(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;nr(i,function(e){return r.processProvider(e,n,i||ao)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,vo(i.factory,oo));var h=i.providers;if(null!=h&&!a){var f=e;nr(h,function(e){return r.processProvider(e,f,h)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=go(e=xe(e))?e:xe(e&&e.provide),i=function(e,t,n){return po(e)?vo(void 0,e.useValue):vo(fo(e),oo)}(e);if(go(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=vo(void 0,oo,!0)).factory=function(){return vr(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===oo&&(t.value=so,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function ho(e){var t=Ie(e),n=null!==t?t.factory:bt(e);if(null!==n)return n;var r=De(e);if(null!==r)return r.factory;if(e instanceof Qn)throw new Error("Token ".concat(Ce(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(Ce(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[Me]||e[He]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function fo(e,t,n){var r,i;if(go(e)){var o=xe(e);return bt(o)||ho(o)}if(po(e))r=function(){return xe(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,c(vr(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return dr(xe(e.useExisting))};else{var s=xe(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return bt(s)||ho(s);r=function(){return d(s,c(vr(e.deps)))}}return r}function vo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function po(e){return null!==e&&"object"==typeof e&&lr in e}function go(e){return"function"==typeof e}var yo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=co(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},mo=function(){var e=function(){function e(){k(this,e)}return _(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?yo(e,t,""):yo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ur,e.NULL=new ro,e.\u0275prov=Pe({token:e,providedIn:"any",factory:function(){return dr(no)}}),e.__NG_ELEMENT_ID__=-1,e}();function wo(e,t){mn(Ut(e)[1],Zt())}function So(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(St(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=bo(e.inputs),o.declaredInputs=bo(e.declaredInputs),o.outputs=bo(e.outputs);var s=i.hostBindings;s&&_o(e,s);var a=i.viewQuery,u=i.contentQueries;if(a&&ko(e,a),u&&Co(e,u),ke(e.inputs,i.inputs),ke(e.declaredInputs,i.declaredInputs),ke(e.outputs,i.outputs),St(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===So&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=An(i.hostAttrs,n=An(n,i.hostAttrs))}}(r)}function bo(e){return e===Ze?{}:e===Ye?[]:e}function ko(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Co(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function _o(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Eo=null;function Fo(){if(!Eo){var e=$e.Symbol;if(e&&e.iterator)Eo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Eo=r)}}return Eo}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function xo(e){return!!Ao(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fo()in e)}function Ao(e){return null!==e&&("function"==typeof e||"object"==typeof e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Po(e,t,n){return e[t]=n}function To(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Io(e,t,n,r){var i=Gt();return To(i,rn(),t)&&(Jt(),function(e,t,n,r,i,o){var s=Ht(e,t);!function(e,t,n,r,i,o,s){if(null==o)Dt(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var a=null==s?Ct(o):s(o,r||"",i);Dt(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],s,o,e.value,n,r,i)}(yn(),i,e,t,n,r)),Io}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ro(e,t,n,r){return To(e,rn(),n)?t+Ct(n)+r:ai}function Do(e,t,n,r,i,o,s,a){var u=Gt(),c=Jt(),l=e+20,h=c.firstCreatePass?
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(e,t,n,r,i,o,s,a,u){var c=t.consts,l=mi(t,e,4,s||null,Lt(c,a));Ti(t,n,l,Lt(c,u)),mn(t,l);var h=l.tViews=xi(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,s):c.data[l];Xt(h,!1);var f=u[11].createComment("");Lr(c,u,f,h),Cr(f,u),zi(u,u[l]=Ui(f,u,f,h)),wt(h)&&_i(c,u,h),null!=s&&Ei(u,h,a)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Oo(e){return function(e,t){return e[t]}(qt.lFrame.contextLView,20+e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.Default,n=Gt();return null===n?dr(e,t):Kn(Zt(),n,xe(e),t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function No(e,t,n){var r=Gt();return To(r,rn(),t)&&Pi(Jt(),yn(),r,e,t,r[11],n,!1),No}function Ho(e,t,n,r,i){var o=i?"class":"style";Qi(e,n,t.inputs[o],o,r)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Vo(e,t,n,r){var i=Gt(),o=Jt(),s=20+e,a=i[11],u=i[s]=Dr(a,t,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){var a=t.consts,u=mi(t,e,2,i,Lt(a,o));return Ti(t,n,u,Lt(a,s)),null!==u.attrs&&eo(u,u.attrs,!1),null!==u.mergedAttrs&&eo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];Xt(c,!0);var l=c.mergedAttrs;null!==l&&En(a,u,l);var h=c.classes;null!==h&&Zr(a,u,h);var f=c.styles;null!==f&&$r(a,u,f),64!=(64&c.flags)&&Lr(o,i,u,c),0===qt.lFrame.elementDepthCount&&Cr(u,i),qt.lFrame.elementDepthCount++,wt(c)&&(_i(o,i,c),function(e,t,n){if(yt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Ei(i,c)}function jo(){var e=Zt();Qt()?qt.lFrame.isParent=!1:Xt(e=e.parent,!1);var t=e;qt.lFrame.elementDepthCount--;var n=Jt();n.firstCreatePass&&(mn(n,e),yt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ho(n,t,Gt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t)&&Ho(n,t,Gt(),t.stylesWithoutHost,!1)}function Uo(e,t,n,r){Vo(e,t,n,r),jo()}function Bo(){return Gt()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Lo(e){return!!e&&"function"==typeof e.then}var Ko=function(e){return!!e&&"function"==typeof e.subscribe};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function zo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Gt(),o=Jt(),s=Zt();return function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=wt(r),c=e.firstCreatePass&&Yi(e),l=Zi(t),h=!0;if(3&r.type){var f=Ht(r,t),d=a?a(f):Ze,v=d.target||f,p=l.length,g=a?function(e){return a(Mt(e[r.index])).target}:r.index;if(Dt(n)){var y=null;if(!a&&u&&(y=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=Wo(r,t,o,!1);var m=n.listen(d.name||v,i,o);l.push(o,m),c&&c.push(i,g,p,p+1)}}else o=Wo(r,t,o,!0),v.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Wo(r,t,o,!1);var w,S=r.outputs;if(h&&null!==S&&(w=S[i])){var b=w.length;if(b)for(var k=0;k<b;k+=2){var C=t[w[k]][w[k+1]].subscribe(o),_=l.length;l.push(o,C),c&&c.push(i,r.index,_,-(_+1))}}}(o,i,i[11],s,e,t,n,r),zo}function qo(e,t,n){try{return!1!==t(n)}catch(r){return Xi(e,r),!1}}function Wo(e,t,n,r){return function i(o){if(o===Function)return n;var s=2&e.flags?jt(e.index,t):t;0==(32&t[2])&&qi(s);for(var a=qo(t,n,o),u=i.__ngNextListenerFn__;u;)a=qo(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}}function Go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,qt.lFrame.contextLView))[8]}(e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Jo(e,t,n){return $o(e,"",t,"",n),Jo}function $o(e,t,n,r,i){var o=Gt(),s=Ro(o,t,n,r);return s!==ai&&Pi(Jt(),yn(),o,e,s,o[11],i,!1),$o}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Zo=[];function Yo(e,t,n,r,i){for(var o=e[n+1],s=null===t,a=r?hi(o):di(o),u=!1;0!==a&&(!1===u||s);){var c=e[a+1];Xo(e[a],t)&&(u=!0,e[a+1]=r?pi(c):fi(c)),a=r?hi(c):di(c)}u&&(e[n+1]=r?fi(o):pi(o))}function Xo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&sr(e,t)>=0}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Qo(e,t){return function(e,t,n,r){var i,o,s=Gt(),a=Jt(),u=(i=qt.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);a.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[pn()],s=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */)(o)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=t.residualClasses;if(null===i)0===t.classBindings&&(n=ts(n=es(null,e,t,n,!0),t.attrs,!0),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=es(i,e,t,n,!0),null===o){var a=function(e,t,n){var r=t.classBindings;if(0!==di(r))return e[hi(r)]}(e,t);void 0!==a&&Array.isArray(a)&&function(e,t,n,r){e[hi(t.classBindings)]=r}(e,t,0,a=ts(a=es(null,e,t,a[1],!0),t.attrs,!0))}else o=function(e,t,n){for(var r,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=ts(r,e[o].hostAttrs,!0);return ts(r,t.attrs,!0)}(e,t)}return void 0!==o&&(t.residualClasses=o),n}(i,o,t),function(e,t,n,r,i,o){var s=t.classBindings,a=hi(s),u=di(s);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||sr(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=hi(e[a+1]);e[r+1]=li(f,a),0!==f&&(e[f+1]=vi(e[f+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=li(a,0),0!==a&&(e[a+1]=vi(e[a+1],r)),a=r;else e[r+1]=li(u,0),0===a?a=r:e[u+1]=vi(e[u+1],r),u=r;l&&(e[r+1]=fi(e[r+1])),Yo(e,c,r,!0),Yo(e,c,r,!1),function(e,t,n,r,i){var o=e.residualClasses;null!=o&&"string"==typeof t&&sr(o,t)>=0&&(n[r+1]=pi(n[r+1]))}(t,c,e,r),s=li(a,u),t.classBindings=s}(i,o,t,n,s)}}(a,e,u),t!==ai&&To(s,u,t)&&function(e,t,n,r,i,o,s,a){if(3&t.type){var u=e.data,c=u[a+1];rs(1==(1&c)?ns(u,t,n,i,di(c),!0):void 0)||(rs(o)||2==(2&c)&&(o=ns(u,null,n,i,a,!0)),function(e,t,n,r,i){var o=Dt(e);i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r)}(r,0,Nt(pn(),n),i,o))}}(a,a.data[pn()],s,s[11],e,s[u+1]=function(e,t){return null==e||"object"==typeof e&&(e=Ce(function(e){return e instanceof
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(){function e(t){k(this,e),this.changingThisBreaksApplicationSecurity=t}return _(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}()?e.changingThisBreaksApplicationSecurity:e}(e))),e}(t),0,u)}(e,t),Qo}function es(e,t,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=ts(r,(o=t[a]).hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ts(e,t,n){var r,i,o,s,a=n?1:2,u=-1;if(null!==t)for(var c=0;c<t.length;c++){var l=t[c];"number"==typeof l?u=l:u===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),r=e,i=l,o=!!n||t[++c],s=void 0,(s=sr(r,i))>=0?r[1|s]=o:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(r,s=~s,i,o))}return void 0===e?null:e}function ns(e,t,n,r,i,o){for(var s,a=null===t;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===ai&&(f=h?Zo:void 0);var d=h?or(f,r):l===r?f:void 0;if(c&&!rs(d)&&(d=or(u,r)),rs(d)&&(s=d,a))return s;var v=e[i+1];i=a?hi(v):di(v)}if(null!==t){var p=o?t.residualClasses:t.residualStyles;null!=p&&(s=or(p,r))}return s}function rs(e){return void 0!==e}function is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Gt(),r=Jt(),i=e+20,o=r.firstCreatePass?mi(r,i,1,t,null):r.data[i],s=n[i]=function(e,t){return Dt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Lr(r,n,s,o),Xt(o,!1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function os(e){return ss("",e,""),os}function ss(e,t,n){var r=Gt(),i=Ro(r,e,t,n);return i!==ai&&function(e,t,n){var r=Nt(t,e);!function(e,t,n){Dt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,pn(),i),ss}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var as=void 0,us=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],cs={};function ls(e){return e in cs||(cs[e]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[e]),cs[e]}var hs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function fs(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function ds(e,t,n,r,i){if(e=xe(e),Array.isArray(e))for(var o=0;o<e.length;o++)ds(e[o],t,n,r,i);else{var s=Jt(),a=Gt(),u=go(e)?e:xe(e.provide),c=fo(e),l=Zt(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(go(e)||!e.multi){var v=new _n(c,i,Mo),p=gs(u,t,i?h:h+d,f);-1===p?(Un(Nn(l,a),s,u),vs(s,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(v),a.push(v)):(n[p]=v,a[p]=v)}else{var g=gs(u,t,h+d,f),y=gs(u,t,h,h+d),m=g>=0&&n[g],w=y>=0&&n[y];if(i&&!w||!i&&!m){Un(Nn(l,a),s,u);var S=function(e,t,n,r,i){var o=new _n(e,n,Mo);return o.multi=[],o.index=t,o.componentProviders=0,ps(o,i,r&&!n),o}(i?ms:ys,n.length,i,r,c);!i&&w&&(n[y].providerFactory=S),vs(s,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(S),a.push(S)}else vs(s,e,g>-1?g:y,ps(n[i?y:g],c,!i&&r));!i&&r&&w&&n[y].componentProviders++}}}function vs(e,t,n,r){var i=go(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function ps(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function gs(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ys(e,t,n,r){return ws(this.multi,[])}function ms(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=Gn(n,n[1],this.providerFactory.index,r);ws(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else ws(o,i=[]);return i}function ws(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */return function(e,t,n){var r=Jt();if(r.firstCreatePass){var i=St(e);ds(n,r.data,r.blueprint,i,!0),ds(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var bs=function e(){k(this,e)},ks=function(){function e(){k(this,e)}return _(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(Ce(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Cs=function(){var e=function e(){k(this,e)};return e.NULL=new ks,e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function _s(){}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Es(e,t){return new xs(Ht(e,t))}var Fs=function(){return Es(Zt(),Gt())},xs=function(){var e=function e(t){k(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Fs,e}(),As=function e(){k(this,e)},Ps=function(){var e=function e(){k(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ts()},e}(),Ts=function(){var e=Gt(),t=jt(Zt().index,e);return function(e){return e[11]}(pt(t)?t:e)},Is=function(){var e=function e(){k(this,e)};return e.\u0275prov=Pe({token:e,providedIn:"root",factory:function(){return null}}),e}(),Rs=new function e(t){k(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("11.2.1"),Ds=function(){function e(){k(this,e)}return _(e,[{key:"supports",value:function(e){return xo(e)}},{key:"create",value:function(e){return new Ms(e)}}]),e}(),Os=function(e,t){return t},Ms=function(){function e(t){k(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Os}return _(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<js(n,r,i)?t:n,s=js(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!xo(e))throw new Error("Error trying to diff '".concat(Ce(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Fo()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Ns(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Vs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Ns=function e(t,n){k(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Hs=function(){function e(){k(this,e),this._head=null,this._tail=null}return _(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Vs=function(){function e(){k(this,e),this.map=new Map}return _(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Hs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function js(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Us=function(){function e(){k(this,e)}return _(e,[{key:"supports",value:function(e){return e instanceof Map||Ao(e)}},{key:"create",value:function(){return new Bs}}]),e}(),Bs=function(){function e(){k(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ao(e)))throw new Error("Error trying to diff '".concat(Ce(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ls(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),Ls=function e(t){k(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ks(){return new zs([new Ds])}var zs=function(){var e=function(){function e(t){k(this,e),this.factories=t}return _(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Ks())},deps:[[e,new mr,new yr]]}}}]),e}();return e.\u0275prov=Pe({token:e,providedIn:"root",factory:Ks}),e}();function qs(){return new Ws([new Us])}var Ws=function(){var e=function(){function e(t){k(this,e),this.factories=t}return _(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||qs())},deps:[[e,new mr,new yr]]}}}]),e}();return e.\u0275prov=Pe({token:e,providedIn:"root",factory:qs}),e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Gs(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Mt(o)),gt(o))for(var s=10;s<o.length;s++){var a=o[s],u=a[1].firstChild;null!==u&&Gs(a[1],a,u,r)}var l=n.type;if(8&l)Gs(e,t,n.child,r);else if(32&l)for(var h=xr(n,t),f=void 0;f=h();)r.push(f);else if(16&l){var d=zr(t,n);if(Array.isArray(d))r.push.apply(r,c(d));else{var v=Ar(t[16]);Gs(v[1],v,d,r,!0)}}n=i?n.projectionNext:n.next}return r}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Js=function(){function e(t,n){k(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Gs(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(gt(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Mr(e,n),ir(t,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n;t=this._lView,n=e,Zi(t).push(n)}},{key:"markForCheck",value:function(){qi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Wi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){tn(!0);try{Wi(e,t,n)}finally{tn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Gr(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),$s=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this,e))._view=e,r}return _(n,[{key:"detectChanges",value:function(){Gi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){tn(!0);try{Gi(e)}finally{tn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Js),Zs=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&mt(e)){var r=jt(e.index,t);return new Js(r,r)}return 47&e.type?new Js(t[16],t):null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(Zt(),Gt(),e)},Ys=function(){var e=function e(){k(this,e)};return e.__NG_ELEMENT_ID__=Zs,e.__ChangeDetectorRef__=!0,e}(),Xs=[new Us],Qs=new zs([new Ds]),ea=new Ws(Xs),ta=function(){return ia(Zt(),Gt())},na=function(){var e=function e(){k(this,e)};return e.__NG_ELEMENT_ID__=ta,e}(),ra=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return _(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=yi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Si(t,n,e),new Js(n)}}]),n}(na);function ia(e,t){return 4&e.type?new ra(t,e,Es(e,t)):null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var oa=function e(){k(this,e)},sa=function e(){k(this,e)},aa=function(){return function(e,t){var n,r=t[e.index];if(gt(r))n=r;else{var i;if(8&e.type)i=Mt(r);else{var o=t[11];i=o.createComment("");var s=Ht(e,t);Vr(o,Br(o,s),i,function(e,t){return Dt(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=Ui(r,t,i,e),zi(t,n)}return new ca(n,e,t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(Zt(),Gt())},ua=function(){var e=function e(){k(this,e)};return e.__NG_ELEMENT_ID__=aa,e}(),ca=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return _(n,[{key:"element",get:function(){return Es(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Zn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=jn(this._hostTNode,this._hostLView);if(Tn(e)){var t=Rn(e,this._hostLView),n=In(e);return new Zn(t[1].data[n+8],t)}return new Zn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=la(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var s=o.get(oa,null);s&&(i=s)}var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(gt(r[3])){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var s=r[3],a=new n(s,s[6],s[3]);a.detach(a.indexOf(e))}}var u=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],rr(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,c,u);var l=qr(u,c),h=r[11],f=Br(h,c[7]);return null!==f&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Gr(e,r,n,1,i,o)}(i,c[6],h,r,f,l),e.attachToViewContainerRef(),rr(ha(c),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=la(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Mr(this._lContainer,t);n&&(ir(ha(this._lContainer),t),Nr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Mr(this._lContainer,t);return n&&null!=ir(ha(this._lContainer),t)?new Js(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(ua);function la(e){return e[8]}function ha(e){return e[8]||(e[8]=[])}var fa={},da=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this)).ngModule=e,r}return _(n,[{key:"resolveComponentFactory",value:function(e){var t=dt(e);return new ga(t,this.ngModule)}}]),n}(Cs);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function va(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var pa=new Qn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return _r}}),ga=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(si).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _(n,[{key:"inputs",get:function(){return va(this.componentDef.inputs)}},{key:"outputs",get:function(){return va(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,s=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,fa,i);return o!==fa||r===fa?o:t.get(n,r,i)}}}(e,r.injector):e,a=s.get(As,Ot),u=s.get(Is,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Dt(e))return e.selectRootElement(t,n===ze.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Dr(a.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:_r,clean:$i,playerHandler:null,flags:0},v=xi(0,null,null,1,0,null,null,null,null,null),p=yi(null,v,d,f,null,null,a,c,u,s);cn(p);try{var g=function(e,t,n,r,i,o){var s=n[1];n[20]=e;var a=mi(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(eo(a,u,!0),null!==e&&(En(i,e,u),null!==a.classes&&Zr(i,e,a.classes),null!==a.styles&&$r(i,e,a.styles)));var c=r.createRenderer(e,t),l=yi(n,Fi(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Un(Nn(a,n),s,t.type),Di(s,a),Mi(a,n.length,1)),zi(n,l),n[20]=l}(h,this.componentDef,p,a,c);if(h)if(n)En(c,h,["ng-version",Rs.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!ni(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,w=y.classes;m&&En(c,h,m),w&&w.length>0&&Zr(c,h,w.join(" "))}if(o=Vt(v,20),void 0!==t)for(var S=o.projection=[],b=0;b<this.ngContentSelectors.length;b++){var k=t[b];S.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],s=function(e,t,n){var r=Zt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ni(e,r,t,wi(e,t,1,null),n));var i=Gn(t,e,r.directiveStart,r);Cr(i,t);var o=Ht(r,t);return o&&Cr(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(function(e){return e(s,t)}),t.contentQueries){var a=Zt();t.contentQueries(1,s,a.directiveStart)}var u=Zt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(gn(u.index),Ii(n[1],u,0,u.directiveStart,u.directiveEnd,t),Ri(t,s)),s}(g,this.componentDef,p,d,[wo]),Si(v,p,null)}finally{vn()}return new ya(this.componentType,i,Es(o,p),p,o)}}]),n}(bs),ya=function(e){p(n,e);var t=y(n);function n(e,r,i,o,s){var a;return k(this,n),(a=t.call(this)).location=i,a._rootLView=o,a._tNode=s,a.instance=r,a.hostView=a.changeDetectorRef=new $s(o),a.componentType=e,a}return _(n,[{key:"injector",get:function(){return new Zn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){k(this,e)}}()),ma=new Map,wa=function(e){p(n,e);var t=y(n);function n(e,r){var i;k(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=w(i),i.destroyCbs=[],i.componentFactoryResolver=new da(w(i));var o=vt(e),s=e[nt]||null;return s&&fs(s),i._bootstrapComponents=Er(o.bootstrap),i._r3Injector=co(e,r,[{provide:oa,useValue:w(i)},{provide:Cs,useValue:i.componentFactoryResolver}],Ce(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je.Default;return e===mo||e===oa||e===no?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(oa),Sa=function(e){p(n,e);var t=y(n);function n(e){var r,i,o;return k(this,n),(r=t.call(this)).moduleType=e,null!==vt(e)&&(i=e,o=new Set,function e(t){var n=vt(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(Ce(t)," vs ").concat(Ce(t.name)))}(r,ma.get(r),t),ma.set(r,t));var i,s=u(Er(n.imports));try{for(s.s();!(i=s.n()).done;){var a=i.value;o.has(a)||(o.add(a),e(a))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return _(n,[{key:"create",value:function(e){return new wa(this.moduleType,e)}}]),n}(sa);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ba(e,t,n,r){return function(e,t,n,r,i,o){var s=t+n;return To(e,s,i)?Po(e,s+1,o?r.call(o,i):r(i)):Ca(e,s+1)}(Gt(),nn(),e,t,n,r)}function ka(e,t,n,r,i){return function(e,t,n,r,i,o,s){var a=t+n;return function(e,t,n,r){var i=To(e,t,n);return To(e,t+1,r)||i}(e,a,i,o)?Po(e,a+2,s?r.call(s,i,o):r(i,o)):Ca(e,a+2)}(Gt(),nn(),e,t,n,r,i)}function Ca(e,t){var n=e[t];return n===ai?void 0:n}var _a=
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(e){p(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return k(this,n),(e=t.call(this)).__isAsync=r,e}return _(n,[{key:"emit",value:function(e){v(b(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=v(b(n.prototype),"subscribe",this).call(this,i,o,s);return e instanceof R&&e.add(a),a}}]),n}(W);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ea(e,t){return ia(e,t)}var Fa=new Qn("Application Initializer"),xa=function(){var e=function(){function e(t){var n=this;k(this,e),this.appInits=t,this.resolve=_s,this.reject=_s,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return _(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Lo(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(dr(Fa,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Aa=new Qn("AppId"),Pa={provide:Aa,useFactory:function(){return"".concat(Ta()).concat(Ta()).concat(Ta())},deps:[]};function Ta(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ia=new Qn("Platform Initializer"),Ra=new Qn("Platform ID"),Da=new Qn("appBootstrapListener"),Oa=function(){var e=function(){function e(){k(this,e)}return _(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Ma=new Qn("LocaleId"),Na=new Qn("DefaultCurrencyCode"),Ha=function e(t,n){k(this,e),this.ngModuleFactory=t,this.componentFactories=n},Va=function(e){return new Sa(e)},ja=Va,Ua=function(e){return Promise.resolve(Va(e))},Ba=function(e){var t=Va(e),n=Er(vt(e).declarations).reduce(function(e,t){var n=dt(t);return n&&e.push(new ga(n)),e},[]);return new Ha(t,n)},La=Ba,Ka=function(e){return Promise.resolve(Ba(e))},za=function(){var e=function(){function e(){k(this,e),this.compileModuleSync=ja,this.compileModuleAsync=Ua,this.compileModuleAndAllComponentsSync=La,this.compileModuleAndAllComponentsAsync=Ka}return _(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),qa=Promise.resolve(0);function Wa(e){"undefined"==typeof Zone?qa.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Ga=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s,u=t.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(k(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&a,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=$e.requestAnimationFrame,t=$e.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($e,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Za(e),$a(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Za(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,i,o,s,a){try{return Ya(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Xa(n)}},onInvoke:function(e,t,i,o,s,a,u){try{return Ya(n),e.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Xa(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Za(n),$a(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return _(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Ja,_s,_s);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Ja={};function $a(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Za(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ya(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Xa(e){e._nesting--,$a(e)}var Qa,eu=function(){function e(){k(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}return _(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),tu=function(){var e=function(){function e(t){var n=this;k(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Ga.assertNotInAngularZone(),Wa(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Wa(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(dr(Ga))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),nu=function(){var e=function(){function e(){k(this,e),this._applications=new Map,ru.addToWindow(this)}return _(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ru.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),ru=new(function(){function e(){k(this,e)}return _(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),iu=!0,ou=!1;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function su(){return ou=!0,iu}var au=new Qn("AllowMultipleToken"),uu=function e(t,n){k(this,e),this.name=t,this.token=n};function cu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Qn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=lu();if(!o||o.injector.get(au,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(e){if(Qa&&!Qa.destroyed&&!Qa.injector.get(au,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qa=e.get(hu);var t=e.get(Ia,null);t&&t.forEach(function(e){return e()})}(mo.create({providers:s,name:r}))}return function(e){var t=lu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function lu(){return Qa&&!Qa.destroyed?Qa:null}var hu=function(){var e=function(){function e(t){k(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new eu:("zone.js"===n?void 0:n)||new Ga({enableLongStackTrace:su(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),s=[{provide:Ga,useValue:o}];return o.run(function(){var t=mo.create({providers:s,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(kr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var e=o.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){pu(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var o=((s=n.injector.get(xa)).runInitializers(),s.donePromise.then(function(){return fs(n.injector.get(Ma,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Lo(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(a){throw t.runOutsideAngular(function(){return e.handleError(a)}),a}var s}(r,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=fu({},n);return function(e,t,n){var r=new Sa(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(vu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(Ce(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(dr(mo))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function fu(e,t){return Array.isArray(t)?t.reduce(fu,e):Object.assign(Object.assign({},e),t)}var du,vu=((du=function(){function e(t,n,r,i,o,s){var a=this;k(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var u=new U(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),c=new U(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Ga.assertNotInAngularZone(),Wa(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Ga.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return J(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof U?t[0]:he(r)(fe(t,i))}(u,c.pipe(function(e){return de()((t=Se,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,me);return r.source=e,r.subjectFactory=n,r})(e));var t}))}return _(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof bs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(oa),o=n.create(mo.NULL,[],t||n.selector,i),s=o.location.nativeElement,a=o.injector.get(tu,null),u=a&&o.injector.get(nu);return a&&u&&u.registerApplication(s,a),o.onDestroy(function(){r.detachView(o.hostView),pu(r.components,o),u&&u.unregisterApplication(s)}),this._loadComponent(o),su()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=u(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;pu(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Da,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||du)(dr(Ga),dr(Oa),dr(mo),dr(kr),dr(Cs),dr(xa))},du.\u0275prov=Pe({token:du,factory:du.\u0275fac}),du);function pu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var gu=function e(){k(this,e)},yu=function e(){k(this,e)},mu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},wu=function(){var e=function(){function e(t,n){k(this,e),this._compiler=t,this._config=n||mu}return _(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,n=a(e.split("#"),2),r=n[0],i=n[1];return void 0===i&&(i="default"),g("zn8P")(r).then(function(e){return e[i]}).then(function(e){return Su(e,r,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=a(e.split("#"),2),n=t[0],r=t[1],i="NgFactory";return void 0===r&&(r="default",i=""),g("zn8P")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then(function(e){return e[r+i]}).then(function(e){return Su(e,n,r)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(dr(za),dr(yu,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function Su(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var bu=cu(null,"core",[{provide:Ra,useValue:"unknown"},{provide:hu,deps:[mo]},{provide:nu,deps:[]},{provide:Oa,deps:[]}]),ku=[{provide:vu,useClass:vu,deps:[Ga,Oa,mo,kr,Cs,xa]},{provide:pa,deps:[Ga],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:xa,useClass:xa,deps:[[new yr,Fa]]},{provide:za,useClass:za,deps:[]},Pa,{provide:zs,useFactory:
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(){return Qs},deps:[]},{provide:Ws,useFactory:function(){return ea},deps:[]},{provide:Ma,useFactory:function(e){return fs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new gr(Ma),new yr,new mr]]},{provide:Na,useValue:"USD"}],Cu=function(){var e=function e(t){k(this,e)};return e.\u0275mod=lt({type:e}),e.\u0275inj=Te({factory:function(t){return new(t||e)(dr(vu))},providers:ku}),e}(),_u=null;function Eu(){return _u}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Fu,xu=new Qn("DocumentToken"),Au=((Fu=function e(){k(this,e)}).\u0275fac=function(e){return new(e||Fu)},Fu.\u0275prov=Pe({factory:Pu,token:Fu,providedIn:"platform"}),Fu);function Pu(){return dr(Ru)}var Tu,Iu=new Qn("Location Initialized"),Ru=((Tu=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this))._doc=e,r._init(),r}return _(n,[{key:"_init",value:function(){this.location=Eu().getLocation(),this._history=Eu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Eu().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Eu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Eu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){Du()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Du()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(Au)).\u0275fac=function(e){return new(e||Tu)(dr(xu))},Tu.\u0275prov=Pe({factory:Ou,token:Tu,providedIn:"platform"}),Tu);function Du(){return!!window.history.pushState}function Ou(){return new Ru(dr(xu))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Mu(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Nu(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Hu(e){return e&&"?"!==e[0]?"?"+e:e}var Vu,ju=((Vu=function e(){k(this,e)}).\u0275fac=function(e){return new(e||Vu)},Vu.\u0275prov=Pe({factory:Uu,token:Vu,providedIn:"root"}),Vu);function Uu(e){var t=dr(xu).location;return new qu(dr(Au),t&&t.origin||"")}var Bu,Lu,Ku,zu=new Qn("appBaseHref"),qu=((Ku=function(e){p(n,e);var t=y(n);function n(e,r){var i;if(k(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return _(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Mu(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Hu(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hu(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hu(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ju)).\u0275fac=function(e){return new(e||Ku)(dr(Au),dr(zu,8))},Ku.\u0275prov=Pe({token:Ku,factory:Ku.\u0275fac}),Ku),Wu=((Lu=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Mu(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ju)).\u0275fac=function(e){return new(e||Lu)(dr(Au),dr(zu,8))},Lu.\u0275prov=Pe({token:Lu,factory:Lu.\u0275fac}),Lu),Gu=((Bu=function(){function e(t,n){var r=this;k(this,e),this._subject=new _a,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Nu($u(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return _(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Hu(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,$u(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hu(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hu(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Bu)(dr(ju),dr(Au))},Bu.normalizeQueryParams=Hu,Bu.joinWithSlash=Mu,Bu.stripTrailingSlash=Nu,Bu.\u0275prov=Pe({factory:Ju,token:Bu,providedIn:"root"}),Bu);function Ju(){return new Gu(dr(ju),dr(Au))}function $u(e){return e.replace(/\/index.html$/,"")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Zu,Yu=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),Xu=function e(){k(this,e)},Qu=((Zu=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this)).locale=e,r}return _(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e),n=ls(t);if(n)return n;var r=t.split("-")[0];if(n=ls(r))return n;if("en"===r)return us;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[hs.PluralCase]}(t||this.locale)(e)){case Yu.Zero:return"zero";case Yu.One:return"one";case Yu.Two:return"two";case Yu.Few:return"few";case Yu.Many:return"many";default:return"other"}}}]),n}(Xu)).\u0275fac=function(e){return new(e||Zu)(dr(Ma))},Zu.\u0275prov=Pe({token:Zu,factory:Zu.\u0275fac}),Zu);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ec(e,t){t=encodeURIComponent(t);var n,r=u(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=a(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),c=s[0],l=s[1];if(c.trim()===t)return decodeURIComponent(l)}}catch(h){r.e(h)}finally{r.f()}return null}var tc,nc,rc,ic=((tc=function(){function e(t,n,r,i){k(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Ce(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}()).\u0275fac=function(e){return new(e||tc)(Mo(zs),Mo(Ws),Mo(xs),Mo(Ps))},tc.\u0275dir=ft({type:tc,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),tc),oc=function(){function e(t,n,r,i){k(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),sc=((nc=function(){function e(t,n,r){k(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new oc(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new ac(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new ac(e,a);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||nc)(Mo(ua),Mo(na),Mo(zs))},nc.\u0275dir=ft({type:nc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),nc),ac=function e(t,n){k(this,e),this.record=t,this.view=n},uc=((rc=function(){function e(t,n){k(this,e),this._viewContainer=t,this._context=new cc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){lc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){lc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||rc)(Mo(ua),Mo(na))},rc.\u0275dir=ft({type:rc,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),rc),cc=function e(){k(this,e),this.$implicit=null,this.ngIf=null};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function lc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Ce(t),"'."))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var hc,fc,dc=((fc=function e(){k(this,e)}).\u0275mod=lt({type:fc}),fc.\u0275inj=Te({factory:function(e){return new(e||fc)},providers:[{provide:Xu,useClass:Qu}]}),fc),vc=((hc=function e(){k(this,e)}).\u0275prov=Pe({token:hc,providedIn:"root",factory:function(){return new pc(dr(xu),window)}}),hc),pc=function(){function e(t,n){k(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return _(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){var t;if(this.supportsScrolling()){var n=null!==(t=this.document.getElementById(e))&&void 0!==t?t:this.document.getElementsByName(e)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=gc(this.window.history)||gc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function gc(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var yc,mc,wc,Sc,bc=function(e){p(n,e);var t=y(n);function n(){return k(this,n),t.apply(this,arguments)}return _(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=kc||(kc=document.querySelector("base"))?kc.getAttribute("href"):null;return null==n?null:(t=n,yc||(yc=document.createElement("a")),yc.setAttribute("href",t),"/"===yc.pathname.charAt(0)?yc.pathname:"/"+yc.pathname)}},{key:"resetBaseElement",value:function(){kc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return ec(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,_u||(_u=e)}}]),n}(
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license Angular v11.2.1
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(e){p(n,e);var t=y(n);function n(){return k(this,n),t.call(this)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */return _(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){k(this,e)}}())),kc=null,Cc=new Qn("TRANSITION_ID"),_c=[{provide:Fa,useFactory:function(e,t,n){return function(){n.get(xa).donePromise.then(function(){var n=Eu();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[Cc,xu,mo],multi:!0}],Ec=function(){function e(){k(this,e)}return _(e,[{key:"addToWindow",value:function(e){$e.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},$e.getAllAngularTestabilities=function(){return e.getAllTestabilities()},$e.getAllAngularRootElements=function(){return e.getAllRootElements()},$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(function(e){var t=$e.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Eu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,ru=t}}]),e}(),Fc=new Qn("EventManagerPlugins"),xc=((mc=function(){function e(t,n){var r=this;k(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return _(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||mc)(dr(Fc),dr(Ga))},mc.\u0275prov=Pe({token:mc,factory:mc.\u0275fac}),mc),Ac=function(){function e(t){k(this,e),this._doc=t}return _(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Eu().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Pc=((Sc=function(){function e(){k(this,e),this._stylesSet=new Set}return _(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Sc)},Sc.\u0275prov=Pe({token:Sc,factory:Sc.\u0275fac}),Sc),Tc=((wc=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(e){return Eu().remove(e)})}}]),n}(Pc)).\u0275fac=function(e){return new(e||wc)(dr(xu))},wc.\u0275prov=Pe({token:wc,factory:wc.\u0275fac}),wc),Ic={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rc=/%COMP%/g;function Dc(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Dc(e,i,n):(i=i.replace(Rc,e),n.push(i))}return n}function Oc(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Mc,Nc,Hc,Vc,jc=((Mc=function(){function e(t,n,r){k(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Uc(t)}return _(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ze.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Bc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case ze.ShadowDom:return new Lc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Dc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Mc)(dr(xc),dr(Tc),dr(Aa))},Mc.\u0275prov=Pe({token:Mc,factory:Mc.\u0275fac}),Mc),Uc=function(){function e(t){k(this,e),this.eventManager=t,this.data=Object.create(null)}return _(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Ic[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Ic[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Ic[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(Fr.DashCase|Fr.Important)?e.style.setProperty(t,n,r&Fr.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Fr.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oc(n)):this.eventManager.addEventListener(e,t,Oc(n))}}]),e}(),Bc=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;k(this,n),(s=t.call(this,e)).component=i;var a=Dc(o+"-"+i.id,i.styles,[]);return r.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(Rc,o+"-"+i.id),s.hostAttr="_nghost-%COMP%".replace(Rc,o+"-"+i.id),s}return _(n,[{key:"applyToHost",value:function(e){v(b(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=v(b(n.prototype),"createElement",this).call(this,e,t);return v(b(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Uc),Lc=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;k(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.shadowRoot=i.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Dc(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return v(b(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return v(b(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return v(b(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(v(b(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Uc),Kc=((Nc=function(e){p(n,e);var t=y(n);function n(e){return k(this,n),t.call(this,e)}return _(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ac)).\u0275fac=function(e){return new(e||Nc)(dr(xu))},Nc.\u0275prov=Pe({token:Nc,factory:Nc.\u0275fac}),Nc),zc=["alt","control","meta","shift"],qc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Gc={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Jc=((Hc=function(e){p(n,e);var t=y(n);function n(e){return k(this,n),t.call(this,e)}return _(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Eu().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(zc.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Wc.hasOwnProperty(t)&&(t=Wc[t]))}return qc[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),zc.forEach(function(r){r!=n&&(0,Gc[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ac)).\u0275fac=function(e){return new(e||Hc)(dr(xu))},Hc.\u0275prov=Pe({token:Hc,factory:Hc.\u0275fac}),Hc),$c=cu(bu,"browser",[{provide:Ra,useValue:"browser"},{provide:Ia,useValue:
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(){bc.makeCurrent(),Ec.init()},multi:!0},{provide:xu,useFactory:function(){return function(e){Ft=e}(document),document},deps:[]}]),Zc=[[],{provide:io,useValue:"root"},{provide:kr,useFactory:function(){return new kr},deps:[]},{provide:Fc,useClass:Kc,multi:!0,deps:[xu,Ga,Ra]},{provide:Fc,useClass:Jc,multi:!0,deps:[xu]},[],{provide:jc,useClass:jc,deps:[xc,Tc,Aa]},{provide:As,useExisting:jc},{provide:Pc,useExisting:Tc},{provide:Tc,useClass:Tc,deps:[xu]},{provide:tu,useClass:tu,deps:[Ga]},{provide:xc,useClass:xc,deps:[Fc,Ga]},[]],Yc=((Vc=function(){function e(t){if(k(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Aa,useValue:t.appId},{provide:Cc,useExisting:Aa},_c]}}}]),e}()).\u0275mod=lt({type:Vc}),Vc.\u0275inj=Te({factory:function(e){return new(e||Vc)(dr(Vc,12))},providers:Zc,imports:[dc,Cu]}),Vc);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Xc(){return new el(dr(xu))}var Qc,el=((Qc=function(){function e(t){k(this,e),this._doc=t}return _(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}()).\u0275fac=function(e){return new(e||Qc)(dr(xu))},Qc.\u0275prov=Pe({factory:Xc,token:Qc,providedIn:"root"}),Qc);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function tl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(A(r))return nl(r,null);if(P(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return nl(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return nl(t=1===t.length&&A(t[0])?t[0]:t,null).pipe(re(function(e){return o.apply(void 0,c(e))}))}return nl(t,null)}function nl(e,t){return new U(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=ae(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(s===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()})}
/**
 * @license Angular v11.2.1
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */"undefined"!=typeof window&&window;var rl,il,ol=new Qn("NgValueAccessor"),sl={provide:ol,useExisting:Fe(function(){return al}),multi:!0},al=((rl=function(){function e(t,n){k(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||rl)(Mo(Ps),Mo(xs))},rl.\u0275dir=ft({type:rl,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&zo("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[Ss([sl])]}),rl),ul={provide:ol,useExisting:Fe(function(){return ll}),multi:!0},cl=new Qn("CompositionEventMode"),ll=((il=function(){function e(t,n,r){var i;k(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Eu()?Eu().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||il)(Mo(Ps),Mo(xs),Mo(cl,8))},il.\u0275dir=ft({type:il,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&zo("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Ss([ul])]}),il);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function hl(e){return null==e||0===e.length}function fl(e){return null!=e&&"number"==typeof e.length}var dl=new Qn("NgValidators"),vl=new Qn("NgAsyncValidators"),pl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gl=function(){function e(){k(this,e)}return _(e,null,[{key:"min",value:function(e){return function(t){if(hl(t.value)||hl(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(hl(t.value)||hl(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return hl(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return hl(e.value)||pl.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){return hl(t.value)||!fl(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"maxLength",value:function(e){return function(t){return fl(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(hl(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(yl);return 0==t.length?null:function(e){return wl(Sl(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(yl);return 0==t.length?null:function(e){return tl(Sl(e,t).map(ml)).pipe(re(wl))}}}]),e}();function yl(e){return null!=e}function ml(e){var t=Lo(e)?ae(e):e;return Ko(t),t}function wl(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Sl(e,t){return t.map(function(t){return t(e)})}function bl(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function kl(e){return null!=e?gl.compose(bl(e)):null}function Cl(e){return null!=e?gl.composeAsync(bl(e)):null}function _l(e,t){return null===e?[t]:Array.isArray(e)?[].concat(c(e),[t]):[e,t]}var El,Fl,xl,Al,Pl,Tl,Il,Rl,Dl,Ol,Ml=((Fl=function(){function e(){k(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=kl(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cl(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||Fl)},Fl.\u0275dir=ft({type:Fl}),Fl),Nl=((El=function(e){p(n,e);var t=y(n);function n(){return k(this,n),t.apply(this,arguments)}return _(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ml)).\u0275fac=function(e){return Hl(e||El)},El.\u0275dir=ft({type:El,features:[So]}),El),Hl=(xl=Nl,Le(function(){for(var e=xl.prototype.constructor,t=e[rt]||Yn(e),n=Object.prototype,r=Object.getPrototypeOf(xl.prototype).constructor;r&&r!==n;){var i=r[rt]||Yn(r);if(i&&i!==t)return i;r=Object.getPrototypeOf(r)}return function(e){return new e}})),Vl=function(e){p(n,e);var t=y(n);function n(){var e;return k(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(Ml),jl=((Al=function(e){p(n,e);var t=y(n);function n(e){return k(this,n),t.call(this,e)}return n}(function(){function e(t){k(this,e),this._cd=t}return _(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}())).\u0275fac=function(e){return new(e||Al)(Mo(Vl,2))},Al.\u0275dir=ft({type:Al,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Qo("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[So]}),Al),Ul={provide:ol,useExisting:Fe(function(){return Bl}),multi:!0},Bl=((Pl=function(){function e(t,n){k(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Pl)(Mo(Ps),Mo(xs))},Pl.\u0275dir=ft({type:Pl,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&zo("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Ss([Ul])]}),Pl),Ll={provide:ol,useExisting:Fe(function(){return zl}),multi:!0},Kl=((Il=function(){function e(){k(this,e),this._accessors=[]}return _(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||Il)},Il.\u0275prov=Pe({token:Il,factory:Il.\u0275fac}),Il),zl=((Tl=function(){function e(t,n,r,i){k(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Vl),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),e}()).\u0275fac=function(e){return new(e||Tl)(Mo(Ps),Mo(xs),Mo(Kl),Mo(mo))},Tl.\u0275dir=ft({type:Tl,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&zo("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ss([Ll])]}),Tl),ql={provide:ol,useExisting:Fe(function(){return Wl}),multi:!0},Wl=((Rl=function(){function e(t,n){k(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Rl)(Mo(Ps),Mo(xs))},Rl.\u0275dir=ft({type:Rl,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&zo("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Ss([ql])]}),Rl),Gl={provide:ol,useExisting:Fe(function(){return Jl}),multi:!0},Jl=((Dl=function(){function e(t,n){k(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return _(e,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}()).\u0275fac=function(e){return new(e||Dl)(Mo(Ps),Mo(xs))},Dl.\u0275dir=ft({type:Dl,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&zo("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ss([Gl])]}),Dl),$l={provide:ol,useExisting:Fe(function(){return Zl}),multi:!0},Zl=((Ol=function(){function e(t,n){k(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return _(e,[{key:"compareWith",set:function(e){this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}()).\u0275fac=function(e){return new(e||Ol)(Mo(Ps),Mo(xs))},Ol.\u0275dir=ft({type:Ol,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&zo("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ss([$l])]}),Ol);function Yl(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Xl(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}var Ql=[al,Wl,Bl,Jl,Zl,zl];function eh(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function th(e){return(oh(e)?e.validators:e)||null}function nh(e){return Array.isArray(e)?kl(e):e||null}function rh(e,t){return(oh(t)?t.asyncValidators:e)||null}function ih(e){return Array.isArray(e)?Cl(e):e||null}function oh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var sh,ah,uh,ch=function(){function e(t,n){k(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=nh(this._rawValidators),this._composedAsyncValidatorFn=ih(this._rawAsyncValidators)}return _(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=nh(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ih(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=ml(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof hh?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof fh&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new _a,this.statusChanges=new _a}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){oh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),lh=function(e){p(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return k(this,n),(e=t.call(this,th(i),rh(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),e}return _(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){eh(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){eh(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ch),hh=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,th(r),rh(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return _(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof lh?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(ch),fh=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,th(r),rh(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return _(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof lh?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=u(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(ch),dh={provide:Vl,useExisting:Fe(function(){return ph})},vh=Promise.resolve(null),ph=((uh=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this)).control=new lh,s._registered=!1,s.update=new _a,s._parent=e,s._setValidators(r),s._setAsyncValidators(i),s.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){var t;e.constructor===ll?n=e:(t=e,Ql.some(function(e){return t.constructor===e})?r=e:i=e)}),i||r||n||null):null;var n,r,i}(0,o),s}return _(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?[].concat(c(this._parent.path),[this.name]):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){var e,t;(function(e,t,n){var r=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(_l(r,t.validator)):"function"==typeof r&&e.setValidators([r]);var i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(_l(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);var o=function(){return e.updateValueAndValidity()};Yl(t._rawValidators,o),Yl(t._rawAsyncValidators,o)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Xl(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Xl(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;vh.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;vh.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(Vl)).\u0275fac=function(e){return new(e||uh)(Mo(Nl,9),Mo(dl,10),Mo(vl,10),Mo(ol,10))},uh.\u0275dir=ft({type:uh,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ss([dh]),So,At]}),uh),gh=((ah=function e(){k(this,e)}).\u0275mod=lt({type:ah}),ah.\u0275inj=Te({factory:function(e){return new(e||ah)}}),ah),yh=((sh=function e(){k(this,e)}).\u0275mod=lt({type:sh}),sh.\u0275inj=Te({factory:function(e){return new(e||sh)},providers:[Kl],imports:[gh]}),sh);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function mh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return J(r)?(t.pop(),se(t,r)):fe(t)}function wh(e,t){return ue(e,t,1)}function Sh(e,t){return function(n){return n.lift(new bh(e,t))}}var bh=function(){function e(t,n){k(this,e),this.predicate=t,this.thisArg=n}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new kh(e,this.predicate,this.thisArg))}}]),e}(),kh=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(M),Ch=function e(){k(this,e)},_h=function e(){k(this,e)},Eh=function(){function e(t){var n=this;k(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return _(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,c(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),Fh=function(){function e(){k(this,e)}return _(e,[{key:"encodeKey",value:function(e){return xh(e)}},{key:"encodeValue",value:function(e){return xh(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function xh(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ah=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(k(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Fh,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach(function(e){var r=e.indexOf("="),i=a(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],s=i[1],u=n.get(o)||[];u.push(s),n.set(o,u)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return _(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ph(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Th(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ih(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Rh=function(){function e(t,n,r,i){var o;if(k(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Eh),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Ah,this.urlWithParams=n}return _(e,[{key:"serializeBody",value:function(){return null===this.body?null:Ph(this.body)||Th(this.body)||Ih(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ah?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Ih(this.body)?null:Th(this.body)?this.body.type||null:Ph(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ah?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},u)),t.setParams&&(c=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},c)),new e(n,r,o,{params:c,headers:u,reportProgress:a,responseType:i,withCredentials:s})}}]),e}(),Dh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),Oh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";k(this,e),this.headers=t.headers||new Eh,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},Mh=function(e){p(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k(this,n),(e=t.call(this,r)).type=Dh.ResponseHeader,e}return _(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Oh),Nh=function(e){p(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k(this,n),(e=t.call(this,r)).type=Dh.Response,e.body=void 0!==r.body?r.body:null,e}return _(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Oh),Hh=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(Oh);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Vh(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var jh,Uh,Bh,Lh,Kh,zh,qh,Wh,Gh,Jh,$h,Zh=((jh=function(){function e(t){k(this,e),this.handler=t}return _(e,[{key:"request",value:function(e,t){var n,r,i,o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof Rh?n=e:(r=s.headers instanceof Eh?s.headers:new Eh(s.headers),s.params&&(i=s.params instanceof Ah?s.params:new Ah({fromObject:s.params})),n=new Rh(e,t,void 0!==s.body?s.body:null,{headers:r,params:i,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials}));var a=mh(n).pipe(wh(function(e){return o.handler.handle(e)}));if(e instanceof Rh||"events"===s.observe)return a;var u=a.pipe(Sh(function(e){return e instanceof Nh}));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(re(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(re(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(re(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(re(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(s.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Ah).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Vh(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Vh(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Vh(n,t))}}]),e}()).\u0275fac=function(e){return new(e||jh)(dr(Ch))},jh.\u0275prov=Pe({token:jh,factory:jh.\u0275fac}),jh),Yh=function(){function e(t,n){k(this,e),this.next=t,this.interceptor=n}return _(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Xh=new Qn("HTTP_INTERCEPTORS"),Qh=((Uh=function(){function e(){k(this,e)}return _(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Uh)},Uh.\u0275prov=Pe({token:Uh,factory:Uh.\u0275fac}),Uh),ef=/^\)\]\}',?\n/,tf=function e(){k(this,e)},nf=((Lh=function(){function e(){k(this,e)}return _(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||Lh)},Lh.\u0275prov=Pe({token:Lh,factory:Lh.\u0275fac}),Lh),rf=((Bh=function(){function e(t){k(this,e),this.xhrFactory=t}return _(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new U(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,u=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Eh(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new Mh({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,s=t.statusText,a=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(ef,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Nh({body:c,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Hh({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(e){var t=u().url,i=new Hh({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:Dh.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:Dh.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),e.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:Dh.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}()).\u0275fac=function(e){return new(e||Bh)(dr(tf))},Bh.\u0275prov=Pe({token:Bh,factory:Bh.\u0275fac}),Bh),of=new Qn("XSRF_COOKIE_NAME"),sf=new Qn("XSRF_HEADER_NAME"),af=function e(){k(this,e)},uf=((Jh=function(){function e(t,n,r){k(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ec(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||Jh)(dr(xu),dr(Ra),dr(of))},Jh.\u0275prov=Pe({token:Jh,factory:Jh.\u0275fac}),Jh),cf=((Gh=function(){function e(t,n){k(this,e),this.tokenService=t,this.headerName=n}return _(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Gh)(dr(af),dr(sf))},Gh.\u0275prov=Pe({token:Gh,factory:Gh.\u0275fac}),Gh),lf=((Wh=function(){function e(t,n){k(this,e),this.backend=t,this.injector=n,this.chain=null}return _(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Xh,[]);this.chain=t.reduceRight(function(e,t){return new Yh(e,t)},this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Wh)(dr(_h),dr(mo))},Wh.\u0275prov=Pe({token:Wh,factory:Wh.\u0275fac}),Wh),hf=((qh=function(){function e(){k(this,e)}return _(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:cf,useClass:Qh}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:of,useValue:t.cookieName}:[],t.headerName?{provide:sf,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=lt({type:qh}),qh.\u0275inj=Te({factory:function(e){return new(e||qh)},providers:[cf,{provide:Xh,useExisting:cf,multi:!0},{provide:af,useClass:uf},{provide:of,useValue:"XSRF-TOKEN"},{provide:sf,useValue:"X-XSRF-TOKEN"}]}),qh),ff=((zh=function e(){k(this,e)}).\u0275mod=lt({type:zh}),zh.\u0275inj=Te({factory:function(e){return new(e||zh)},providers:[Zh,{provide:Ch,useClass:lf},rf,{provide:_h,useExisting:rf},nf,{provide:tf,useExisting:nf}],imports:[[hf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),zh),df=((Kh=function(){function e(t){k(this,e),this.http=t,this._url="http://localhost:5010/api/baseapi/"}return _(e,[{key:"getData",value:function(e){var t=JSON.stringify(e);return this.http.post(this._url,t,{headers:new Eh({"Content-Type":"application/json"}),params:new Ah({})})}},{key:"putData",value:function(e){var t=JSON.stringify(e);return this.http.put(this._url,t,{headers:new Eh({"Content-Type":"application/json"}),params:new Ah({})})}},{key:"editData",value:function(e,t,n){var r=JSON.stringify(n);return this.http.post("".concat(this._url).concat(t,"/").concat(e),r,{headers:new Eh({"Content-Type":"application/json"}),params:new Ah({})})}},{key:"editJsonData",value:function(e,t){var n=JSON.stringify(t);return this.http.post("".concat(this._url).concat(e),n,{headers:new Eh({"Content-Type":"application/json"}),params:new Ah({})})}}]),e}()).\u0275fac=function(e){return new(e||Kh)(dr(Zh))},Kh.\u0275prov=Pe({token:Kh,factory:Kh.\u0275fac,providedIn:"root"}),Kh),vf=function e(){k(this,e)},pf=($h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}$h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),gf=function(e){function t(t,n){var r=this,i=this.constructor.prototype;return(r=e.call(this,t)||this).statusCode=n,r.__proto__=i,r}return pf(t,e),t}(Error),yf=function(e){function t(t){void 0===t&&(t="A timeout occurred.");var n=this,r=this.constructor.prototype;return(n=e.call(this,t)||this).__proto__=r,n}return pf(t,e),t}(Error),mf=function(e){function t(t){void 0===t&&(t="An abort occurred.");var n=this,r=this.constructor.prototype;return(n=e.call(this,t)||this).__proto__=r,n}return pf(t,e),t}(Error),wf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sf=function(e,t,n){this.statusCode=e,this.statusText=t,this.content=n},bf=function(){function e(){}return e.prototype.get=function(e,t){return this.send(wf({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(wf({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(wf({},t,{method:"DELETE",url:e}))},e.prototype.getCookieString=function(e){return""},e}(),kf=function(e){return e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None",e}({}),Cf=function(){function e(){}return e.prototype.log=function(e,t){},e.instance=new e,e}(),_f=function(){function e(){}return e.isRequired=function(e,t){if(null==e)throw new Error("The '"+t+"' argument is required.")},e.isIn=function(e,t,n){if(!(e in t))throw new Error("Unknown "+n+" value: "+e+".")},e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ef(e,t){var n="";return Ff(e)?(n="Binary data of length "+e.byteLength,t&&(n+=". Content: '"+function(e){var t=new Uint8Array(e),n="";return t.forEach(function(e){n+="0x"+(e<16?"0":"")+e.toString(16)+" "}),n.substr(0,n.length-1)}(e)+"'")):"string"==typeof e&&(n="String data of length "+e.length,t&&(n+=". Content: '"+e+"'")),n}function Ff(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function xf(e,t,n,r,i,o,s){return a=this,c=function(){var a,u,c,l,h;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(f){switch(f.label){case 0:return i?[4,i()]:[3,2];case 1:(c=f.sent())&&((a={}).Authorization="Bearer "+c,u=a),f.label=2;case 2:return e.log(kf.Trace,"("+t+" transport) sending data. "+Ef(o,s)+"."),l=Ff(o)?"arraybuffer":"text",[4,n.post(r,{content:o,headers:u,responseType:l})];case 3:return h=f.sent(),e.log(kf.Trace,"("+t+" transport) request complete. Response status: "+h.statusCode+"."),[2]}})},new((u=void 0)||(u=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(n){t(n)}}function r(e){try{i(c.throw(e))}catch(n){t(n)}}function i(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}i((c=c.apply(a,[])).next())});var a,u,c}var Af,Pf=function(){function e(){this.observers=[]}return e.prototype.next=function(e){for(var t=0,n=this.observers;t<n.length;t++)n[t].next(e)},e.prototype.error=function(e){for(var t=0,n=this.observers;t<n.length;t++){var r=n[t];r.error&&r.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var n=t[e];n.complete&&n.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new Tf(this,e)},e}(),Tf=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch(function(e){})},e}(),If=function(){function e(e){this.minimumLogLevel=e}return e.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case kf.Critical:case kf.Error:console.error("["+(new Date).toISOString()+"] "+kf[e]+": "+t);break;case kf.Warning:console.warn("["+(new Date).toISOString()+"] "+kf[e]+": "+t);break;case kf.Information:console.info("["+(new Date).toISOString()+"] "+kf[e]+": "+t);break;default:console.log("["+(new Date).toISOString()+"] "+kf[e]+": "+t)}},e}(),Rf=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Df=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};if("undefined"==typeof XMLHttpRequest){var Of=require;Af=Of("request")}var Mf=function(e){function t(t){var n=e.call(this)||this;if(void 0===Af)throw new Error("The 'request' module could not be loaded.");return n.logger=t,n.cookieJar=Af.jar(),n.request=Af.defaults({jar:n.cookieJar}),n}return Rf(t,e),t.prototype.send=function(e){var t=this;return new Promise(function(n,r){var i;i=Ff(e.content)?Buffer.from(e.content):e.content||"";var o=t.request(e.url,{body:i,encoding:"arraybuffer"===e.responseType?null:"utf8",headers:Df({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,timeout:e.timeout},function(i,o,s){if(e.abortSignal&&(e.abortSignal.onabort=null),i)return"ETIMEDOUT"===i.code&&(t.logger.log(kf.Warning,"Timeout from HTTP request."),r(new yf)),t.logger.log(kf.Warning,"Error from HTTP request. "+i),void r(i);o.statusCode>=200&&o.statusCode<300?n(new Sf(o.statusCode,o.statusMessage||"",s)):r(new gf(o.statusMessage||"",o.statusCode||0))});e.abortSignal&&(e.abortSignal.onabort=function(){o.abort(),r(new mf)})})},t.prototype.getCookieString=function(e){return this.cookieJar.getCookieString(e)},t}(bf),Nf=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hf=function(e){function t(t){var n=e.call(this)||this;return n.logger=t,n}return Nf(t,e),t.prototype.send=function(e){var t=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new mf):e.method?e.url?new Promise(function(n,r){var i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=!0,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var o=e.headers;o&&Object.keys(o).forEach(function(e){i.setRequestHeader(e,o[e])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){i.abort(),r(new mf)}),e.timeout&&(i.timeout=e.timeout),i.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new Sf(i.status,i.statusText,i.response||i.responseText)):r(new gf(i.statusText,i.status))},i.onerror=function(){t.logger.log(kf.Warning,"Error from HTTP request. "+i.status+": "+i.statusText+"."),r(new gf(i.statusText,i.status))},i.ontimeout=function(){t.logger.log(kf.Warning,"Timeout from HTTP request."),r(new yf)},i.send(e.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(bf),Vf=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jf=function(e){function t(t){var n=e.call(this)||this;return n.httpClient="undefined"!=typeof XMLHttpRequest?new Hf(t):new Mf(t),n}return Vf(t,e),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new mf):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(bf),Uf=function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var n=t.split(e.RecordSeparator);return n.pop(),n},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}(),Bf=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return Uf.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var t,n;if(Ff(e)||"undefined"!=typeof Buffer&&e instanceof Buffer){var r=new Uint8Array(e);if(-1===(o=r.indexOf(Uf.RecordSeparatorCode)))throw new Error("Message is incomplete.");var i=o+1;t=String.fromCharCode.apply(null,r.slice(0,i)),n=r.byteLength>i?r.slice(i).buffer:null}else{var o,s=e;if(-1===(o=s.indexOf(Uf.RecordSeparator)))throw new Error("Message is incomplete.");t=s.substring(0,i=o+1),n=s.length>i?s.substring(i):null}var a=Uf.parse(t),u=JSON.parse(a[0]);if(u.type)throw new Error("Expected a handshake response from the server.");return[n,u]},e}(),Lf=function(e){return e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e}({}),Kf=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},zf=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},qf=function(e){return e[e.Disconnected=0]="Disconnected",e[e.Connected=1]="Connected",e}({}),Wf=function(){function e(e,t,n){var r=this;_f.isRequired(e,"connection"),_f.isRequired(t,"logger"),_f.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=t,this.protocol=n,this.connection=e,this.handshakeProtocol=new Bf,this.connection.onreceive=function(e){return r.processIncomingData(e)},this.connection.onclose=function(e){return r.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.id=0,this.receivedHandshakeResponse=!1,this.connectionState=qf.Disconnected,this.cachedPingMessage=this.protocol.writeMessage({type:Lf.Ping})}return e.create=function(t,n,r){return new e(t,n,r)},Object.defineProperty(e.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),e.prototype.start=function(){return Kf(this,void 0,void 0,function(){var e,t,n=this;return zf(this,function(r){switch(r.label){case 0:return e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(kf.Debug,"Starting HubConnection."),this.receivedHandshakeResponse=!1,t=new Promise(function(e,t){n.handshakeResolver=e,n.handshakeRejecter=t}),[4,this.connection.start(this.protocol.transferFormat)];case 1:return r.sent(),this.logger.log(kf.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 2:return r.sent(),this.logger.log(kf.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 3:return r.sent(),this.connectionState=qf.Connected,[2]}})})},e.prototype.stop=function(){return this.logger.log(kf.Debug,"Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),this.connection.stop()},e.prototype.stream=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,o=this.createStreamInvocation(e,n),s=new Pf;s.cancelCallback=function(){var e=t.createCancelInvocation(o.invocationId),n=t.protocol.writeMessage(e);return delete t.callbacks[o.invocationId],i.then(function(){return t.sendMessage(n)})},this.callbacks[o.invocationId]=function(e,t){t?s.error(t):e&&(e.type===Lf.Completion?e.error?s.error(new Error(e.error)):s.complete():s.next(e.item))};var a=this.protocol.writeMessage(o);return i=this.sendMessage(a).catch(function(e){s.error(e),delete t.callbacks[o.invocationId]}),s},e.prototype.sendMessage=function(e){return this.resetKeepAliveInterval(),this.connection.send(e)},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.createInvocation(e,t,!0),i=this.protocol.writeMessage(r);return this.sendMessage(i)},e.prototype.invoke=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.createInvocation(e,n,!1),o=new Promise(function(e,n){t.callbacks[i.invocationId]=function(t,r){r?n(r):t&&(t.type===Lf.Completion?t.error?n(new Error(t.error)):e(t.result):n(new Error("Unexpected message type: "+t.type)))};var r=t.protocol.writeMessage(i);t.sendMessage(r).catch(function(e){n(e),delete t.callbacks[i.invocationId]})});return o},e.prototype.on=function(e,t){e&&t&&(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var n=this.methods[e];if(n)if(t){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=0,n=this.protocol.parseMessages(e,this.logger);t<n.length;t++){var r=n[t];switch(r.type){case Lf.Invocation:this.invokeClientMethod(r);break;case Lf.StreamItem:case Lf.Completion:var i=this.callbacks[r.invocationId];null!=i&&(r.type===Lf.Completion&&delete this.callbacks[r.invocationId],i(r));break;case Lf.Ping:break;case Lf.Close:this.logger.log(kf.Information,"Close message received from server."),this.connection.stop(r.error?new Error("Server returned an error on close: "+r.error):void 0);break;default:this.logger.log(kf.Warning,"Invalid message type: "+r.type+".")}}this.resetTimeoutPeriod()},e.prototype.processHandshakeResponse=function(e){var t,n,r;try{r=(t=this.handshakeProtocol.parseHandshakeResponse(e))[0],n=t[1]}catch(s){var i;this.logger.log(kf.Error,i="Error parsing handshake response: "+s);var o=new Error(i);throw this.connection.stop(o),this.handshakeRejecter(o),o}if(n.error)throw this.logger.log(kf.Error,i="Server returned handshake error: "+n.error),this.handshakeRejecter(i),this.connection.stop(new Error(i)),new Error(i);return this.logger.log(kf.Debug,"Server handshake complete."),this.handshakeResolver(),r},e.prototype.resetKeepAliveInterval=function(){var e=this;this.cleanupPingTimer(),this.pingServerHandle=setTimeout(function(){return Kf(e,void 0,void 0,function(){return zf(this,function(e){switch(e.label){case 0:if(this.connectionState!==qf.Connected)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}})})},this.keepAliveIntervalInMilliseconds)},e.prototype.resetTimeoutPeriod=function(){var e=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return e.serverTimeout()},this.serverTimeoutInMilliseconds))},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,n=this.methods[e.target.toLowerCase()];if(n){if(n.forEach(function(n){return n.apply(t,e.arguments)}),e.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(kf.Error,r),this.connection.stop(new Error(r))}}else this.logger.log(kf.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){var t=this,n=this.callbacks;this.callbacks={},this.connectionState=qf.Disconnected,this.handshakeRejecter&&this.handshakeRejecter(e),Object.keys(n).forEach(function(t){(0,n[t])(null,e||new Error("Invocation canceled due to connection being closed."))}),this.cleanupTimeout(),this.cleanupPingTimer(),this.closedCallbacks.forEach(function(n){return n.apply(t,[e])})},e.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,n){if(n)return{arguments:t,target:e,type:Lf.Invocation};var r=this.id;return this.id++,{arguments:t,invocationId:r.toString(),target:e,type:Lf.Invocation}},e.prototype.createStreamInvocation=function(e,t){var n=this.id;return this.id++,{arguments:t,invocationId:n.toString(),target:e,type:Lf.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:Lf.CancelInvocation}},e}(),Gf=function(e){return e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling",e}({}),Jf=function(e){return e[e.Text=1]="Text",e[e.Binary=2]="Binary",e}({}),$f=function(){function e(){this.isAborted=!1,this.onabort=null}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}(),Zf=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},Yf=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Xf=function(){function e(e,t,n,r){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.pollAbort=new $f,this.logMessageContent=r,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return Zf(this,void 0,void 0,function(){var n,r,i,o;return Yf(this,function(s){switch(s.label){case 0:if(_f.isRequired(e,"url"),_f.isRequired(t,"transferFormat"),_f.isIn(t,Jf,"transferFormat"),this.url=e,this.logger.log(kf.Trace,"(LongPolling transport) Connecting."),t===Jf.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5},t===Jf.Binary&&(n.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return r=s.sent(),this.updateHeaderToken(n,r),i=e+"&_="+Date.now(),this.logger.log(kf.Trace,"(LongPolling transport) polling: "+i+"."),[4,this.httpClient.get(i,n)];case 2:return 200!==(o=s.sent()).statusCode?(this.logger.log(kf.Error,"(LongPolling transport) Unexpected response code: "+o.statusCode+"."),this.closeError=new gf(o.statusText||"",o.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,n),[2]}})})},e.prototype.getAccessToken=function(){return Zf(this,void 0,void 0,function(){return Yf(this,function(e){switch(e.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,null]}})})},e.prototype.updateHeaderToken=function(e,t){e.headers||(e.headers={}),t?e.headers.Authorization="Bearer "+t:e.headers.Authorization&&delete e.headers.Authorization},e.prototype.poll=function(e,t){return Zf(this,void 0,void 0,function(){var n,r,i,o;return Yf(this,function(s){switch(s.label){case 0:s.trys.push([0,,8,9]),s.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:n=s.sent(),this.updateHeaderToken(t,n),s.label=3;case 3:return s.trys.push([3,5,,6]),r=e+"&_="+Date.now(),this.logger.log(kf.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,t)];case 4:return 204===(i=s.sent()).statusCode?(this.logger.log(kf.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==i.statusCode?(this.logger.log(kf.Error,"(LongPolling transport) Unexpected response code: "+i.statusCode+"."),this.closeError=new gf(i.statusText||"",i.statusCode),this.running=!1):i.content?(this.logger.log(kf.Trace,"(LongPolling transport) data received. "+Ef(i.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(i.content)):this.logger.log(kf.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return o=s.sent(),this.running?o instanceof yf?this.logger.log(kf.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=o,this.running=!1):this.logger.log(kf.Trace,"(LongPolling transport) Poll errored after shutdown: "+o.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(kf.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}})})},e.prototype.send=function(e){return Zf(this,void 0,void 0,function(){return Yf(this,function(t){return this.running?[2,xf(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},e.prototype.stop=function(){return Zf(this,void 0,void 0,function(){var e,t;return Yf(this,function(n){switch(n.label){case 0:this.logger.log(kf.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),n.label=1;case 1:return n.trys.push([1,,5,6]),[4,this.receiving];case 2:return n.sent(),this.logger.log(kf.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={headers:{}},[4,this.getAccessToken()];case 3:return t=n.sent(),this.updateHeaderToken(e,t),[4,this.httpClient.delete(this.url,e)];case 4:return n.sent(),this.logger.log(kf.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(kf.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}})})},e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";this.closeError&&(e+=" Error: "+this.closeError),this.logger.log(kf.Trace,e),this.onclose(this.closeError)}},e}(),Qf=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},ed=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},td=function(){function e(e,t,n,r,i){this.httpClient=e,this.accessTokenFactory=t,this.logger=n,this.logMessageContent=r,this.eventSourceConstructor=i,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return Qf(this,void 0,void 0,function(){var n,r=this;return ed(this,function(i){switch(i.label){case 0:return _f.isRequired(e,"url"),_f.isRequired(t,"transferFormat"),_f.isIn(t,Jf,"transferFormat"),this.logger.log(kf.Trace,"(SSE transport) Connecting."),this.url=e,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise(function(n,i){var o=!1;if(t===Jf.Text){var s;if("undefined"!=typeof window)s=new r.eventSourceConstructor(e,{withCredentials:!0});else{var a=r.httpClient.getCookieString(e);s=new r.eventSourceConstructor(e,{withCredentials:!0,headers:{Cookie:a}})}try{s.onmessage=function(e){if(r.onreceive)try{r.logger.log(kf.Trace,"(SSE transport) data received. "+Ef(e.data,r.logMessageContent)+"."),r.onreceive(e.data)}catch(t){return void r.close(t)}},s.onerror=function(e){var t=new Error(e.data||"Error occurred");o?r.close(t):i(t)},s.onopen=function(){r.logger.log(kf.Information,"SSE connected to "+r.url),r.eventSource=s,o=!0,n()}}catch(u){return void i(u)}}else i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})},e.prototype.send=function(e){return Qf(this,void 0,void 0,function(){return ed(this,function(t){return this.eventSource?[2,xf(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},e.prototype.stop=function(){return this.close(),Promise.resolve()},e.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(e))},e}(),nd=function(){function e(e,t,n,r,i){this.logger=n,this.accessTokenFactory=t,this.logMessageContent=r,this.webSocketConstructor=i,this.httpClient=e,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return n=this,i=function(){var n,r=this;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(i){switch(i.label){case 0:return _f.isRequired(e,"url"),_f.isRequired(t,"transferFormat"),_f.isIn(t,Jf,"transferFormat"),this.logger.log(kf.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(n=i.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),i.label=2;case 2:return[2,new Promise(function(n,i){var o;e=e.replace(/^http/,"ws");var s=r.httpClient.getCookieString(e);"undefined"==typeof window&&s&&(o=new r.webSocketConstructor(e,void 0,{headers:{Cookie:""+s}})),o||(o=new r.webSocketConstructor(e)),t===Jf.Binary&&(o.binaryType="arraybuffer"),o.onopen=function(t){r.logger.log(kf.Information,"WebSocket connected to "+e+"."),r.webSocket=o,n()},o.onerror=function(e){var t=null;"undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent&&(t=e.error),i(t)},o.onmessage=function(e){r.logger.log(kf.Trace,"(WebSockets transport) data received. "+Ef(e.data,r.logMessageContent)+"."),r.onreceive&&r.onreceive(e.data)},o.onclose=function(e){return r.close(e)}})]}})},new((r=void 0)||(r=Promise))(function(e,t){function o(e){try{a(i.next(e))}catch(n){t(n)}}function s(e){try{a(i.throw(e))}catch(n){t(n)}}function a(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(o,s)}a((i=i.apply(n,[])).next())});var n,r,i},e.prototype.send=function(e){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(kf.Trace,"(WebSockets transport) sending data. "+Ef(e,this.logMessageContent)+"."),this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},e.prototype.stop=function(){return this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0,this.close(void 0)),Promise.resolve()},e.prototype.close=function(e){this.logger.log(kf.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!e||!1!==e.wasClean&&1e3===e.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+e.code+" ("+e.reason+").")))},e}(),rd=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},id=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},od=null,sd=null;if("undefined"==typeof window){var ad=require;od=ad("ws"),sd=ad("eventsource")}var ud,cd,ld=function(){function e(e,t){var n;void 0===t&&(t={}),this.features={},_f.isRequired(e,"url"),this.logger=void 0===(n=t.logger)?new If(kf.Information):null===n?Cf.instance:n.log?n:new If(n),this.baseUrl=this.resolveUrl(e),(t=t||{}).logMessageContent=t.logMessageContent||!1;var r="undefined"==typeof window;r||"undefined"==typeof WebSocket||t.WebSocket?r&&!t.WebSocket&&od&&(t.WebSocket=od):t.WebSocket=WebSocket,r||"undefined"==typeof EventSource||t.EventSource?r&&!t.EventSource&&void 0!==sd&&(t.EventSource=sd):t.EventSource=EventSource,this.httpClient=t.httpClient||new jf(this.logger),this.connectionState=2,this.options=t,this.onreceive=null,this.onclose=null}return e.prototype.start=function(e){return _f.isIn(e=e||Jf.Binary,Jf,"transferFormat"),this.logger.log(kf.Debug,"Starting connection with transfer format '"+Jf[e]+"'."),2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(e),this.startPromise)},e.prototype.send=function(e){if(1!==this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State.");return this.transport.send(e)},e.prototype.stop=function(e){return rd(this,void 0,void 0,function(){return id(this,function(t){switch(t.label){case 0:this.connectionState=2,this.stopError=e,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startPromise];case 2:case 3:return t.sent(),[3,4];case 4:return this.transport?[4,this.transport.stop()]:[3,6];case 5:t.sent(),this.transport=void 0,t.label=6;case 6:return[2]}})})},e.prototype.startInternal=function(e){return rd(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u=this;return id(this,function(c){switch(c.label){case 0:t=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,c.label=1;case 1:return c.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==Gf.WebSockets?[3,3]:(this.transport=this.constructTransport(Gf.WebSockets),[4,this.transport.connect(t,e)]):[3,5];case 2:return c.sent(),[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,i=function(){var e;return id(this,function(i){switch(i.label){case 0:return[4,o.getNegotiationResponse(t)];case 1:if(n=i.sent(),2===o.connectionState)return[2,{value:void 0}];if(n.error)throw Error(n.error);if(n.ProtocolVersion)throw Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return n.url&&(t=n.url),n.accessToken&&(e=n.accessToken,o.accessTokenFactory=function(){return e}),r++,[2]}})},o=this,c.label=6;case 6:return[5,i()];case 7:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=8;case 8:if(n.url&&r<100)return[3,6];c.label=9;case 9:if(100===r&&n.url)throw Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(t,this.options.transport,n,e)];case 10:c.sent(),c.label=11;case 11:return this.transport instanceof Xf&&(this.features.inherentKeepAlive=!0),this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return u.stopConnection(e)},this.changeState(0,1),[3,13];case 12:throw a=c.sent(),this.logger.log(kf.Error,"Failed to start the connection: "+a),this.connectionState=2,this.transport=void 0,a;case 13:return[2]}})})},e.prototype.getNegotiationResponse=function(e){return rd(this,void 0,void 0,function(){var t,n,r,i,o,s;return id(this,function(a){switch(a.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=a.sent())&&((t={}).Authorization="Bearer "+r,n=t),a.label=2;case 2:i=this.resolveNegotiateUrl(e),this.logger.log(kf.Debug,"Sending negotiation request: "+i+"."),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.httpClient.post(i,{content:"",headers:n})];case 4:if(200!==(o=a.sent()).statusCode)throw Error("Unexpected status code returned from negotiate "+o.statusCode);return[2,JSON.parse(o.content)];case 5:throw s=a.sent(),this.logger.log(kf.Error,"Failed to complete negotiation with the server: "+s),s;case 6:return[2]}})})},e.prototype.createConnectUrl=function(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+"id="+t:e},e.prototype.createTransport=function(e,t,n,r){return rd(this,void 0,void 0,function(){var i,o,s,a,u,c;return id(this,function(l){switch(l.label){case 0:return i=this.createConnectUrl(e,n.connectionId),this.isITransport(t)?(this.logger.log(kf.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,[4,this.transport.connect(i,r)]):[3,2];case 1:return l.sent(),this.changeState(0,1),[2];case 2:o=0,s=n.availableTransports||[],l.label=3;case 3:return o<s.length?(a=s[o],this.connectionState=0,"number"!=typeof(u=this.resolveTransport(a,t,r))?[3,8]:(this.transport=this.constructTransport(u),n.connectionId?[3,5]:[4,this.getNegotiationResponse(e)])):[3,9];case 4:n=l.sent(),i=this.createConnectUrl(e,n.connectionId),l.label=5;case 5:return l.trys.push([5,7,,8]),[4,this.transport.connect(i,r)];case 6:return l.sent(),this.changeState(0,1),[2];case 7:return c=l.sent(),this.logger.log(kf.Error,"Failed to start the transport '"+Gf[u]+"': "+c),this.connectionState=2,n.connectionId=void 0,[3,8];case 8:return o++,[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}})})},e.prototype.constructTransport=function(e){switch(e){case Gf.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new nd(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case Gf.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new td(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case Gf.LongPolling:return new Xf(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+e+".")}},e.prototype.resolveTransport=function(e,t,n){var r=Gf[e.transport];if(null==r)this.logger.log(kf.Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client.");else{var i=e.transferFormats.map(function(e){return Jf[e]});if(function(e,t){return!e||0!=(t&e)}(t,r))if(i.indexOf(n)>=0){if((r!==Gf.WebSockets||this.options.WebSocket)&&(r!==Gf.ServerSentEvents||this.options.EventSource))return this.logger.log(kf.Debug,"Selecting transport '"+Gf[r]+"'."),r;this.logger.log(kf.Debug,"Skipping transport '"+Gf[r]+"' because it is not supported in your environment.'")}else this.logger.log(kf.Debug,"Skipping transport '"+Gf[r]+"' because it does not support the requested transfer format '"+Jf[n]+"'.");else this.logger.log(kf.Debug,"Skipping transport '"+Gf[r]+"' because it was disabled by the client.")}return null},e.prototype.isITransport=function(e){return e&&"object"==typeof e&&"connect"in e},e.prototype.changeState=function(e,t){return this.connectionState===e&&(this.connectionState=t,!0)},e.prototype.stopConnection=function(e){this.transport=void 0,(e=this.stopError||e)?this.logger.log(kf.Error,"Connection disconnected with error '"+e+"'."):this.logger.log(kf.Information,"Connection disconnected."),this.connectionState=2,this.onclose&&this.onclose(e)},e.prototype.resolveUrl=function(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if("undefined"==typeof window||!window||!window.document)throw new Error("Cannot resolve '"+e+"'.");var t=window.document.createElement("a");return t.href=e,this.logger.log(kf.Information,"Normalizing '"+e+"' to '"+t.href+"'."),t.href},e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?"),n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),(n+="negotiate")+(-1===t?"":e.substring(t))},e}(),hd=function(){function e(){this.name="json",this.version=1,this.transferFormat=Jf.Text}return e.prototype.parseMessages=function(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=Cf.instance);for(var n=[],r=0,i=Uf.parse(e);r<i.length;r++){var o=JSON.parse(i[r]);if("number"!=typeof o.type)throw new Error("Invalid payload.");switch(o.type){case Lf.Invocation:this.isInvocationMessage(o);break;case Lf.StreamItem:this.isStreamItemMessage(o);break;case Lf.Completion:this.isCompletionMessage(o);break;case Lf.Ping:case Lf.Close:break;default:t.log(kf.Information,"Unknown message type '"+o.type+"' ignored.");continue}n.push(o)}return n},e.prototype.writeMessage=function(e){return Uf.write(JSON.stringify(e))},e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")},e.prototype.isStreamItemMessage=function(e){if(this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")},e.prototype.isCompletionMessage=function(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this.assertNotEmptyString(e.error,"Invalid payload for Completion message."),this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")},e.prototype.assertNotEmptyString=function(e,t){if("string"!=typeof e||""===e)throw new Error(t)},e}(),fd=function(){function e(){}return e.prototype.configureLogging=function(e){return _f.isRequired(e,"logging"),this.logger=void 0!==e.log?e:new If(e),this},e.prototype.withUrl=function(e,t){return _f.isRequired(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?t:{transport:t},this},e.prototype.withHubProtocol=function(e){return _f.isRequired(e,"protocol"),this.protocol=e,this},e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var t=new ld(this.url,e);return Wf.create(t,this.logger||Cf.instance,this.protocol||new hd)},e}(),dd=((ud=function(){function e(){k(this,e),this.connector=(new fd).withUrl("http://localhost:5010/siglalr").build(),this._user="Pablo"}return _(e,[{key:"run",value:function(){this.connector.on("onMessage",function(e){return console.log("Message from server: "+e)}),this.connector.on("onMessageU",function(e,t){return console.log("Message from server:: User: "+e+" Msg: "+t)}),this.connector.start().then(function(){return console.log("Connection to server\n")}).catch(function(e){return console.error("Error connection: "+e)})}},{key:"sendMessage",value:function(){this.connector.send("SendMessage","Helo Mundo").catch(function(e){return console.error("Error sending: "+e)})}},{key:"sendMessageAny",value:function(e,t,n){this.connector.invoke(e,t,n).catch(function(e){return console.error("Error sending: "+e)})}},{key:"isConnected",value:function(){return this.connector.state===qf.Connected}}]),e}()).\u0275fac=function(e){return new(e||ud)},ud.\u0275prov=Pe({token:ud,factory:ud.\u0275fac,providedIn:"root"}),ud),vd=function(){function e(){k(this,e),this.imsFieldDescription={LinkAgcf:"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044e Agcf vIMS/\u041d248",LinkPcscf:"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044e PCSCF vIMS",SignVims:"O\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 vIMS",GroupSd:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u044f\u0432\u043a\u0438 \u0432 SD",Filial:"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 / \u0424\u0438\u043b\u0438\u0430\u043b",Region:"\u0420\u0435\u0433\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0446\u0435\u043d\u0442\u0440",District:"\u0420\u0430\u0439\u043e\u043d",City:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f (\u0433\u043e\u0440\u043e\u0434/\u043f\u043e\u0441\u0451\u043b\u043e\u043a/\u0441\u0435\u043b\u043e/\u0434\u0435\u0440\u0435\u0432\u043d\u044f)",Addres:"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",NumbersRange:"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432",Uss:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0423\u0421\u0421",Capacity:"\u041c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0451\u043c\u043a\u043e\u0441\u0442\u044c",UseCapacity:"\u0417\u0430\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0451\u043c\u043a\u043e\u0441\u0442\u044c (\u041e\u0422\u0410/\u0428\u041f\u0414)",TechProtocol:"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430/\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b",CpeType:"\u0422\u0438\u043f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",ObjType:"\u0422\u0438\u043f \u043e\u0431\u044a\u0435\u043a\u0442\u0430 (\u0423\u041c\u0421\u0414, \u0422\u0423\u0414 \u0438 \u0442.\u0434)",ObjNumber:"\u2116 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",BoardType:"\u0422\u0418\u041f \u043f\u043b\u0430\u0442",NubmerSlotsPots:"\u041d\u043e\u043c\u0435\u0440\u0430 \u0441\u043b\u043e\u0442\u043e\u0432 \u0441 \u043f\u043b\u0430\u0442\u0430\u043c\u0438 POTS",CrossData:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u0440\u043e\u0441\u0441\u0430 \u0422\u0423\u0414/\u0417\u041f\u041f/\u0420\u0428",Hostname:"MSAN hostname",IpVoice:"IP \u0433\u043e\u043b\u043e\u0441 MSAN SIP/RTP IP vrf vIMS-MSAN (VLAN \u0445\u0445)",IpControl:"IP \u043f\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e MSAN Mgmt IP (VLAN \u0445\u0445)",VlanControl:"VLAN ID \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 VoIP-\u0448\u043b\u044e\u0437",VlanVoice:"VLAN ID \u0433\u043e\u043b\u043e\u0441",IpLanControl:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0435\u0442\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",IpInIniti:"Ip \u0430\u0434\u0440\u0435\u0441 MSAN (\u0432 INITI SOLO)",IpLanVoice:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0435\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u0430",OldOamUmux:"Old OAM UMUX (\u0423\u041c\u0421\u0414)",OldOamCallp:"Old OAM CallP (\u0423\u041c\u0421\u0414)",IpCISCO3750:"IP-adress Cisco3750 (\u0423\u041c\u0421\u0414)",IpOpt82:"IP \u0430\u0434\u0440\u0435\u0441 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430/ \u0442\u0438\u043f \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430 \u0424\u043e\u0440\u043c\u0430\u0442 Option 82",ReservePort:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0440\u0442 \u043d\u0430 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0435",MsanRtpGwMask:"MSAN SIP/RTP def GW/mask vrf vIMS-MSAN",IpEpu:"\u042d\u041f\u0423 IP (VLAN 11)",MsanEpuGwMask:"MSAN/\u042d\u041f\u0423 def GW/mask",MkslIp:"\u041c\u041a-\u0421\u041b IP vrf CORP-censor VLAN 246",MkslGwMask:"MSAN/\u042d\u041f\u0423 def GW/mask",AccessSwitchIp:"Access switch IP",AccessSwitchPort:"Access switch port",VlanPppoeIptv:"VLAN PPPoE / VLAN IP-TV",VlanTr69:"VLAN TR-69",SerialNumberBoardControl:"\u0421\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u2116 \u043f\u043b\u0430\u0442\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (nt-a)",CommissioningDate:"\u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f/\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0443/\u041f\u041d\u0420",Comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",Technology:"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430",Protocol:"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b",VlanPppoe:"VLAN PPPoE",VlanIptv:"VLAN IP-TV",Id:"Id"},this._array=["LinkAgcf","VlanVoice","LinkPcscf","VlanControl","SignVims","IpLanControl","GroupSd","IpInIniti","Filial","IpLanVoice","Region","OldOamUmux","District","OldOamCallp","City","IpCISCO3750","Addres","IpOpt82","NumbersRange","ReservePort","Uss","MsanRtpGwMask","Capacity","IpEpu","UseCapacity","MsanEpuGwMask","Technology","MkslIp","Protocol","MkslGwMask","CpeType","AccessSwitchIp","ObjType","AccessSwitchPort","ObjNumber","VlanPppoe","BoardType","VlanIptv","NubmerSlotsPots","VlanTr69","CrossData","SerialNumberBoardControl","Hostname","CommissioningDate","IpVoice","Comment","IpControl"]}return _(e,[{key:"array",get:function(){return this._array}},{key:"getData",value:function(){return this.imsFieldDescription}}]),e}(),pd=function(){function e(){k(this,e),this.ims=["GroupSd","Filial","Region","Districtcity","City","Adrres","NumbersRange","Uss","Capacity","UseCapacity","Technology","Protocol","CpeType","ObjType","Hostname","IpVoice","IpControl"],this.mss=["LinkMgcf","PornNumberE1","SignalType","Dpc","Ts","Sl","MctetGctet","District","City","ObjMss","TrunkGroup","TransportSdh","Prefix","State"]}return _(e,[{key:"getIms",value:function(){return this.ims}},{key:"getMss",value:function(){return this.mss}}]),e}(),gd=function(){function e(){k(this,e),this._mssFieldDescription={LinkMgcf:"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044e mgcf vIMS",PornNumberE1:"\u2116 \u043f\u043e\u0440\u0442\u0430 E1",SignalType:"\u0422\u0438\u043f \u0441\u0438\u0433\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438",DPC:"Dpc",TS:"Ts",SL:"Sl",MctetGctet:"\u041c\u0426\u0422\u042d\u0422 / \u0413\u0426\u0422\u042d\u0422",District:"\u0420\u0430\u0439\u043e\u043d",City:"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f (\u0433\u043e\u0440\u043e\u0434/\u043f\u043e\u0441\u0451\u043b\u043e\u043a/\u0441\u0435\u043b\u043e/\u0434\u0435\u0440\u0435\u0432\u043d\u044f)",ObjMss:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u041c\u0421\u0421",TrunkGroup:"Trunk Group",TransportSDH:"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 (\u0434\u0430\u043d\u043d\u044b\u0435 SDH)",Prefix:"Prefix",ContactSideB:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0411",State:"\u0421\u0442\u0430\u0442\u0443\u0441 (\u0442\u0435\u0441\u0442/ \u0432 \u0440\u0430\u0431\u043e\u0442\u0435/ \u0431\u0440\u043e\u043d\u044c)",CommissioningDate:"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",BaseDoc:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435: \u2116 \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0440\u0430\u0441\u043f\u043e\u0440\u044f\u0436\u0435\u043d\u0438\u044f, \u043f\u0440\u043e\u0435\u043a\u0442\u0430",Comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"},this._array=["LinkMgcf","ObjMss","PornNumberE1","TrunkGroup","SignalType","TransportSDH","DPC","Prefix","TS","ContactSideB","SL","State","MctetGctet","CommissioningDate","District","BaseDoc","City","Comment"]}return _(e,[{key:"array",get:function(){return this._array}},{key:"value",get:function(){return this._mssFieldDescription}}]),e}(),yd=function e(){k(this,e)},md=((cd=function(){function e(){k(this,e)}return _(e,[{key:"ngOnInit",value:function(){console.log(this.items)}}]),e}()).\u0275fac=function(e){return new(e||cd)},cd.\u0275cmp=st({type:cd,selectors:[["toast"]],inputs:{items:"items"},decls:4,vars:0,consts:[[1,"n-toast"],[1,"n-icon"]],template:function(e,t){1&e&&(Vo(0,"div",0),Uo(1,"div",1),Vo(2,"p"),is(3,"\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 \u043b\u043e\u0433\u0438\u043d. \u041f\u0440\u043e\u0432\u0435\u0440\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430."),jo(),jo())},styles:['.n-toast[_ngcontent-%COMP%]{width:auto;height:100px;font:normal 15px/normal BasisGrotesquePro,Consolas,sans-serif;border:0 solid #010101;border-radius:2px;background-color:#94e8a5;color:#5f5f5f;display:grid;grid-template:20px 1fr 20px/90px 1fr}.n-toast[_ngcontent-%COMP%]   .n-icon[_ngcontent-%COMP%]{grid-row:1/4;grid-column:1/2;background-color:transparent}.n-toast[_ngcontent-%COMP%]   .n-icon[_ngcontent-%COMP%]:before{font:normal 35px/normal WebHostingHub-Glyphs,sans-serif;content:"\\2713";position:absolute;top:23px;left:32px}.n-toast[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{grid-row:2/3;grid-column:2/3;padding:0 10px}']}),cd);function wd(e,t){1&e&&Uo(0,"span")}function Sd(e,t){if(1&e&&Uo(0,"toast",5),2&e){var n=t.$implicit;No("items",Go(2).itemsList[n])}}function bd(e,t){if(1&e&&Do(0,Sd,1,1,"toast",4),2&e){var n=Go();No("ngForOf",n.Object.keys(n.itemsList))}}var kd,Cd=((kd=function(){function e(){k(this,e),this.Object=Object,this.itemsList={},this._show=!1}return _(e,[{key:"ngOnInit",value:function(){console.log("ngOnInit: "+this._show)}},{key:"onEvent",value:function(){this.notify=new yd,this.notify.type="alarm",this.notify.text="\u0411\u044f\u0434\u0430",this.notify.autoComplete=!0,this.notify.duration=5,this.itemsList[0]=this.notify,this._show=!this._show,console.log("On Event: "+this._show),console.log(this.itemsList)}}]),e}()).\u0275fac=function(e){return new(e||kd)},kd.\u0275cmp=st({type:kd,selectors:[["notify"]],decls:6,vars:2,consts:[[1,"notify-wrap"],[4,"ngIf","ngIfThen"],["boot",""],[1,"item-h-ok",3,"click"],[3,"items",4,"ngFor","ngForOf"],[3,"items"]],template:function(e,t){if(1&e&&(Vo(0,"div",0),Do(1,wd,1,0,"span",1),Do(2,bd,1,1,"ng-template",null,2,Ea),Vo(4,"button",3),zo("click",function(){return t.onEvent()}),is(5,"Go"),jo(),jo()),2&e){var n=Oo(3);ui(1),No("ngIf",t._show)("ngIfThen",n)}},directives:[uc,sc,md],styles:[".notify-wrap[_ngcontent-%COMP%]{background-color:transparent;height:auto;width:400px;position:fixed;z-index:10000;top:10px;left:10px}[_nghost-%COMP%]{background-color:#9b9b9b}"]}),kd),_d=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){p(n,e);var t=y(n);function n(e,r){return k(this,n),t.call(this)}return _(n,[{key:"schedule",value:function(e){return this}}]),n}(R)),Ed=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?v(b(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?v(b(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?v(b(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(_d),Fd=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;k(this,e),this.SchedulerAction=t,this.now=n}return _(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),xd=function(e){p(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fd.now;return k(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==w(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return _(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):v(b(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(Fd),Ad=new(function(e){p(n,e);var t=y(n);function n(){return k(this,n),t.apply(this,arguments)}return n}(xd))(Ed),Pd=new U(function(e){return e.complete()});function Td(e){return e?function(e){return new U(function(t){return e.schedule(function(){return t.complete()})})}(e):Pd}function Id(e,t){return new U(t?function(n){return t.schedule(Rd,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Rd(e){var t=e.error;e.subscriber.error(t)}var Dd,Od=((Dd=function(){function e(t,n,r){k(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return mh(this.value);case"E":return Id(this.error);case"C":return Td()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Dd("C"),Dd.undefinedValueNotification=new Dd("N",void 0),Dd),Md=function(e){p(n,e);var t=y(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return k(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Nd(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Od.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Od.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Od.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(M),Nd=function e(t,n){k(this,e),this.notification=t,this.destination=n},Hd=function(e){p(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return k(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),v(b(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new Vd(this._getNow(),e)),this._trimBufferThenGetEvents(),v(b(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new K;if(this.isStopped||this.hasError?t=R.EMPTY:(this.observers.push(e),t=new z(this,e)),i&&e.add(e=new Md(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||Ad).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(W),Vd=function e(t,n){k(this,e),this.time=t,this.value=n},jd=function(e){p(n,e);var t=y(n);function n(e){var r;return k(this,n),(r=t.call(this))._value=e,r}return _(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=v(b(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new K;return this._value}},{key:"next",value:function(e){v(b(n.prototype),"next",this).call(this,this._value=e)}}]),n}(W),Ud=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),Bd=new xd(_d);function Ld(e){return!A(e)&&e-parseFloat(e)+1>=0}function Kd(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var zd=g("DYJC"),qd={},Wd=function(){function e(t){k(this,e),this.resultSelector=t}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new Gd(e,this.resultSelector))}}]),e}(),Gd=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _(n,[{key:"_next",value:function(e){this.values.push(qd),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(te(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===qd?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(ne),Jd=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function $d(){return he(1)(mh.apply(void 0,arguments))}function Zd(e){return new U(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?ae(n):Td()).subscribe(t)})}function Yd(e,t){return"function"==typeof t?function(n){return n.pipe(Yd(function(n,r){return ae(e(n,r)).pipe(re(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Xd(e))}}var Xd=function(){function e(t){k(this,e),this.project=t}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new Qd(e,this.project))}}]),e}(),Qd=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new $(this,t,n),o=this.destination;o.add(i),this.innerSubscription=te(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||v(b(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&v(b(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(ne),ev=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function tv(e){return function(t){return 0===e?Td():t.lift(new nv(e))}}var nv=function(){function e(t){if(k(this,e),this.total=t,this.total<0)throw new ev}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new rv(e,this.total))}}]),e}(),rv=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(M);function iv(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ov(e,t,n))}}var ov=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];k(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new sv(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),sv=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this,e)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(M);function av(e){return function(t){var n=new uv(e),r=t.lift(n);return n.caught=r}}var uv=function(){function e(t){k(this,e),this.selector=t}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new cv(e,this.selector,this.caught))}}]),e}(),cv=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void v(b(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new $(this,void 0,void 0);this.add(r);var i=te(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(ne);function lv(e){return function(t){return 0===e?Td():t.lift(new hv(e))}}var hv=function(){function e(t){if(k(this,e),this.total=t,this.total<0)throw new ev}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new fv(e,this.total))}}]),e}(),fv=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(M);function dv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gv;return function(t){return t.lift(new vv(e))}}var vv=function(){function e(t){k(this,e),this.errorFactory=t}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new pv(e,this.errorFactory))}}]),e}(),pv=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(M);function gv(){return new Jd}function yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new mv(e))}}var mv=function(){function e(t){k(this,e),this.defaultValue=t}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new wv(e,this.defaultValue))}}]),e}(),wv=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(M);function Sv(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Sh(function(t,n){return e(t,n,r)}):V,tv(1),n?yv(t):dv(function(){return new Jd}))}}function bv(){}function kv(e,t,n){return function(r){return r.lift(new Cv(e,t,n))}}var Cv=function(){function e(t,n,r){k(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new _v(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),_v=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this,e))._tapNext=bv,s._tapError=bv,s._tapComplete=bv,s._tapError=i||bv,s._tapComplete=o||bv,S(r)?(s._context=w(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||bv,s._tapError=r.error||bv,s._tapComplete=r.complete||bv),s}return _(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(M),Ev=function(){function e(t){k(this,e),this.callback=t}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new Fv(e,this.callback))}}]),e}(),Fv=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).add(new R(r)),i}return n}(M),xv=function e(t,n){k(this,e),this.id=t,this.url=n},Av=function(e){p(n,e);var t=y(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=s,i}return _(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(xv),Pv=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(xv),Tv=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e,r)).reason=i,o}return _(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(xv),Iv=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e,r)).error=i,o}return _(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(xv),Rv=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xv),Dv=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xv),Ov=function(e){p(n,e);var t=y(n);function n(e,r,i,o,s){var a;return k(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(xv),Mv=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xv),Nv=function(e){p(n,e);var t=y(n);function n(e,r,i,o){var s;return k(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xv),Hv=function(){function e(t){k(this,e),this.route=t}return _(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Vv=function(){function e(t){k(this,e),this.route=t}return _(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),jv=function(){function e(t){k(this,e),this.snapshot=t}return _(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Uv=function(){function e(t){k(this,e),this.snapshot=t}return _(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Bv=function(){function e(t){k(this,e),this.snapshot=t}return _(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Lv=function(){function e(t){k(this,e),this.snapshot=t}return _(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Kv=function(){function e(t,n,r){k(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),zv=function(){function e(t){k(this,e),this.params=t||{}}return _(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function qv(e){return new zv(e)}function Wv(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Gv(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Jv(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!$v(e[n=r[o]],t[n]))return!1;return!0}function $v(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=c(e).sort(),r=c(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Zv(e){return Array.prototype.concat.apply([],e)}function Yv(e){return e.length>0?e[e.length-1]:null}function Xv(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Qv(e){return Ko(e)?e:Lo(e)?ae(Promise.resolve(e)):mh(e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ep(e,t,n){return n?function(e,t){return Jv(e,t)}(e.queryParams,t.queryParams)&&tp(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return $v(e[n],t[n])})}(e.queryParams,t.queryParams)&&np(e.root,t.root)}function tp(e,t){if(!ap(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!tp(e.children[n],t.children[n]))return!1}return!0}function np(e,t){return rp(e,t,t.segments)}function rp(e,t,n){if(e.segments.length>n.length)return!!ap(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!ap(e.segments,n))return!1;for(var r in t.children){if(!e.children[r])return!1;if(!np(e.children[r],t.children[r]))return!1}return!0}var i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!ap(e.segments,i)&&!!e.children.primary&&rp(e.children.primary,t,o)}var ip=function(){function e(t,n,r){k(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=qv(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return lp.serialize(this)}}]),e}(),op=function(){function e(t,n){var r=this;k(this,e),this.segments=t,this.children=n,this.parent=null,Xv(n,function(e,t){return e.parent=r})}return _(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return hp(this)}}]),e}(),sp=function(){function e(t,n){k(this,e),this.path=t,this.parameters=n}return _(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=qv(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return mp(this)}}]),e}();function ap(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var up=function e(){k(this,e)},cp=function(){function e(){k(this,e)}return _(e,[{key:"parse",value:function(e){var t=new Cp(e);return new ip(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"/".concat(fp(e.root,!0)).concat((n=e.queryParams,r=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(vp(e),"=").concat(vp(t))}).join("&"):"".concat(vp(e),"=").concat(vp(t))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),lp=new cp;function hp(e){return e.segments.map(function(e){return mp(e)}).join("/")}function fp(e,t){if(!e.hasChildren())return hp(e);if(t){var n=e.children.primary?fp(e.children.primary,!1):"",r=[];return Xv(e.children,function(e,t){"primary"!==t&&r.push("".concat(t,":").concat(fp(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return Xv(e.children,function(e,r){"primary"===r&&(n=n.concat(t(e,r)))}),Xv(e.children,function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return"primary"===n?[fp(e.children.primary,!1)]:["".concat(n,":").concat(fp(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(hp(e),"/").concat(i[0]):"".concat(hp(e),"/(").concat(i.join("//"),")")}function dp(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vp(e){return dp(e).replace(/%3B/gi,";")}function pp(e){return dp(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gp(e){return decodeURIComponent(e)}function yp(e){return gp(e.replace(/\+/g,"%20"))}function mp(e){return"".concat(pp(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(pp(e),"=").concat(pp(t[e]))}).join("")));var t}var wp=/^[^\/()?;=#]+/;function Sp(e){var t=e.match(wp);return t?t[0]:""}var bp=/^[^=?&#]+/,kp=/^[^?&#]+/,Cp=function(){function e(t){k(this,e),this.url=t,this.remaining=t}return _(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new op([],{}):new op([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new op(e,t)),n}},{key:"parseSegment",value:function(){var e=Sp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new sp(gp(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Sp(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Sp(this.remaining);r&&(n=r,this.capture(n))}e[gp(t)]=gp(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(bp);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(kp);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=yp(t),o=yp(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Sp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new op([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),_p=function(){function e(t){k(this,e),this._root=t}return _(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Ep(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=Ep(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Fp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Fp(e,this._root).map(function(e){return e.value})}}]),e}();function Ep(e,t){if(e===t.value)return t;var n,r=u(t.children);try{for(r.s();!(n=r.n()).done;){var i=Ep(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Fp(e,t){if(e===t.value)return[t];var n,r=u(t.children);try{for(r.s();!(n=r.n()).done;){var i=Fp(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var xp=function(){function e(t,n){k(this,e),this.value=t,this.children=n}return _(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ap(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Pp=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).snapshot=r,Mp(w(i),e),i}return _(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(_p);function Tp(e,t){var n=function(e,t){var n=new Dp([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Op("",new xp(n,[]))}(e,t),r=new jd([new sp("",{})]),i=new jd({}),o=new jd({}),s=new jd({}),a=new jd(""),u=new Ip(r,i,s,a,o,"primary",t,n.root);return u.snapshot=n.root,new Pp(new xp(u,[]),n)}var Ip=function(){function e(t,n,r,i,o,s,a,u){k(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(re(function(e){return qv(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(function(e){return qv(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Rp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Dp=function(){function e(t,n,r,i,o,s,a,u,c,l,h){k(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=qv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=qv(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Op=function(e){p(n,e);var t=y(n);function n(e,r){var i;return k(this,n),(i=t.call(this,r)).url=e,Mp(w(i),r),i}return _(n,[{key:"toString",value:function(){return Np(this._root)}}]),n}(_p);function Mp(e,t){t.value._routerState=e,t.children.forEach(function(t){return Mp(e,t)})}function Np(e){var t=e.children.length>0?" { ".concat(e.children.map(Np).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Hp(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jv(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Jv(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Jv(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Jv(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Vp(e,t){var n,r;return Jv(e.params,t.params)&&ap(n=e.url,r=t.url)&&n.every(function(e,t){return Jv(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Vp(e.parent,t.parent))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function jp(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=u(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return jp(e,t,o)}}catch(s){i.e(s)}finally{i.f()}return jp(e,t)})}(e,t,n);return new xp(r,i)}var o=e.retrieve(t.value);if(o){var s=o.route;return Up(t,s),s}var a,c=new Ip(new jd((a=t.value).url),new jd(a.params),new jd(a.queryParams),new jd(a.fragment),new jd(a.data),a.outlet,a.component,a),l=t.children.map(function(t){return jp(e,t)});return new xp(c,l)}function Up(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)Up(e.children[n],t.children[n])}function Bp(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Lp(e){return"object"==typeof e&&null!=e&&e.outlets}function Kp(e,t,n,r,i){var o={};return r&&Xv(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new ip(n.root===e?t:zp(n.root,e,t),o,i)}function zp(e,t,n){var r={};return Xv(e.children,function(e,i){r[i]=e===t?n:zp(e,t,n)}),new op(e.segments,r)}var qp=function(){function e(t,n,r){if(k(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bp(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Lp);if(i&&i!==Yv(r))throw new Error("{outlets:{}} has to be the last command")}return _(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Wp=function e(t,n,r){k(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Gp(e,t,n){if(e||(e=new op([],{})),0===e.segments.length&&e.hasChildren())return Jp(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=n[r];if(Lp(a))break;var u="".concat(a),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Xp(u,c,s))return o;r+=2}else{if(!Xp(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new op(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new op(e.segments.slice(r.pathIndex),e.children),Jp(o,0,i)}return r.match&&0===i.length?new op(e.segments,{}):r.match&&!e.hasChildren()?$p(e,t,n):r.match?Jp(e,0,i):$p(e,t,n)}function Jp(e,t,n){if(0===n.length)return new op(e.segments,{});var r=function(e){return Lp(e[0])?e[0].outlets:{primary:e}}(n),i={};return Xv(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Gp(e.children[r],t,n))}),Xv(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new op(e.segments,i)}function $p(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(Lp(o)){var s=Zp(o.outlets);return new op(r,s)}if(0===i&&Bp(n[0]))r.push(new sp(e.segments[t].path,Yp(n[0]))),i++;else{var a=Lp(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;a&&u&&Bp(u)?(r.push(new sp(a,Yp(u))),i+=2):(r.push(new sp(a,{})),i++)}}return new op(r,{})}function Zp(e){var t={};return Xv(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=$p(new op([],{}),0,e))}),t}function Yp(e){var t={};return Xv(e,function(e,n){return t[n]="".concat(e)}),t}function Xp(e,t,n){return e==n.path&&Jv(t,n.parameters)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Qp=function(){function e(t,n,r,i){k(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Hp(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Ap(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),Xv(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Ap(e),o=0,s=Object.keys(i);o<s.length;o++){var a=s[o];this.deactivateRouteAndItsChildren(i[a],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Ap(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Lv(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Uv(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Hp(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eg(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function eg(e){Hp(e.value),e.children.forEach(eg)}var tg=function e(t,n){k(this,e),this.routes=t,this.module=n};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ng(e){return"function"==typeof e}function rg(e){return e instanceof ip}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ig=Symbol("INITIAL_VALUE");function og(){return Yd(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return J(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&A(t[0])&&(t=t[0]),fe(t,i).lift(new Wd(r))}(e.map(function(e){return e.pipe(tv(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return J(r)?(t.pop(),function(e){return $d(t,e,r)}):function(e){return $d(t,e)}}(ig))})).pipe(iv(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==ig)return e;if(r===ig&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||rg(r))return r}return e},e)},ig),Sh(function(e){return e!==ig}),re(function(e){return rg(e)?e:!0===e}),tv(1))})}var sg,ag=((sg=function e(){k(this,e)}).\u0275fac=function(e){return new(e||sg)},sg.\u0275cmp=st({type:sg,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Uo(0,"router-outlet")},directives:function(){return[ty]},encapsulation:2}),sg);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ug(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];cg(r,lg(t,r))}}function cg(e,t){e.children&&ug(e.children,t)}function lg(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function hg(e){var t=e.children&&e.children.map(hg),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ag),n}function fg(e){return e.outlet||"primary"}function dg(e,t){var n=e.filter(function(e){return fg(e)===t});return n.push.apply(n,c(e.filter(function(e){return fg(e)!==t}))),n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var vg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pg(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},vg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||Gv)(n,e,t);if(!i)return Object.assign({},vg);var o={};Xv(i.posParams,function(e,t){o[t]=e.path});var s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function gg(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return yg(e,t,n)&&"primary"!==fg(n)})}(e,n,r)){var o=new op(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,s=u(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==fg(a)){var c=new op([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[fg(a)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(e,t,r,new op(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return yg(e,t,n)})}(e,n,r)){var s=new op(e.segments,function(e,t,n,r,i,o){var s,a={},c=u(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(yg(e,n,l)&&!i[fg(l)]){var h=new op([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[fg(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),a)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new op(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function yg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function mg(e,t,n,r){return!!(fg(e)===r||"primary"!==r&&yg(t,n,e))&&("**"===e.path||pg(t,e,n).matched)}function wg(e,t,n){return 0===t.length&&!e.children[n]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Sg=function e(t){k(this,e),this.segmentGroup=t||null},bg=function e(t){k(this,e),this.urlTree=t};function kg(e){return new U(function(t){return t.error(new Sg(e))})}function Cg(e){return new U(function(t){return t.error(new bg(e))})}function _g(e){return new U(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Eg=function(){function e(t,n,r,i,o){k(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(oa)}return _(e,[{key:"apply",value:function(){var e=this,t=gg(this.urlTree.root,[],[],this.config).segmentGroup,n=new op(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(re(function(t){return e.createUrlTree(Fg(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(av(function(t){if(t instanceof bg)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Sg)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(re(function(n){return t.createUrlTree(Fg(n),e.queryParams,e.fragment)})).pipe(av(function(e){if(e instanceof Sg)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new op([],{primary:e}):e;return new ip(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(re(function(e){return new op([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,s=Object.keys(n.children);o<s.length;o++){var a=s[o];"primary"===a?i.unshift(a):i.push(a)}return ae(i).pipe(wh(function(i){var o=n.children[i],s=dg(t,i);return r.expandSegmentGroup(e,s,o,i).pipe(re(function(e){return{segment:e,outlet:i}}))}),iv(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Sh(function(t,n){return e(t,n,r)}):V,lv(1),n?yv(t):dv(function(){return new Jd}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var s=this;return ae(n).pipe(wh(function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,i,o).pipe(av(function(e){if(e instanceof Sg)return mh(null);throw e}))}),Sv(function(e){return!!e}),av(function(e,n){if(e instanceof Jd||"EmptyError"===e.name){if(wg(t,r,i))return mh(new op([],{}));throw new Sg(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return mg(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):kg(t):kg(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Cg(o):this.lineralizeSegments(n,o).pipe(ue(function(n){var o=new op(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=pg(t,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return kg(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Cg(f):this.lineralizeSegments(r,f).pipe(ue(function(r){return s.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?mh(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(re(function(e){return n._loadedConfig=e,new op(r,{})})):mh(new op(r,{}));var s=pg(t,n,r),a=s.matched,u=s.consumedSegments,c=s.lastChild;if(!a)return kg(t);var l=r.slice(c);return this.getChildConfig(e,n,r).pipe(ue(function(e){var r=e.module,s=e.routes,a=gg(t,u,l,s),c=a.segmentGroup,h=a.slicedSegments,f=new op(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,s,f).pipe(re(function(e){return new op(u,e)}));if(0===s.length&&0===h.length)return mh(new op(u,{}));var d=fg(n)===i;return o.expandSegment(r,f,s,h,d?"primary":i,!0).pipe(re(function(e){return new op(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?mh(new tg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?mh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(ue(function(n){return n?r.configLoader.load(e.injector,t).pipe(re(function(e){return t._loadedConfig=e,e})):function(e){return new U(function(t){return t.error(Wv("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):mh(new tg([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?mh(i.map(function(r){var i,o=e.get(r);if(function(e){return e&&ng(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!ng(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Qv(i)})).pipe(og(),kv(function(e){if(rg(e)){var t=Wv('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),re(function(e){return!0===e})):mh(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return mh(n);if(r.numberOfChildren>1||!r.children.primary)return _g(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new ip(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Xv(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return Xv(t.children,function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)}),new op(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return e}}]),e}();function Fg(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=Fg(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new op(e.segments.concat(t.segments),t.children)}return e}(new op(e.segments,t))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var xg=function e(t){k(this,e),this.path=t,this.route=this.path[this.path.length-1]},Ag=function e(t,n){k(this,e),this.component=t,this.route=n};function Pg(e,t,n){var r=e._root;return Ig(r,t?t._root:null,n,[r.value])}function Tg(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ig(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Ap(t);return e.children.forEach(function(e){!function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ap(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ap(e.url,t.url)||!Jv(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vp(e,t)||!Jv(e.queryParams,t.queryParams);case"paramsChange":default:return!Vp(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ig(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ag(a.outlet.component,s))}else s&&Rg(t,a,i),i.canActivateChecks.push(new xg(r)),Ig(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Xv(o,function(e,t){return Rg(e,n.getContext(t),i)}),i}function Rg(e,t,n){var r=Ap(e),i=e.value;Xv(r,function(e,r){Rg(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Ag(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Dg=function e(){k(this,e)};function Og(e){return new U(function(t){return t.error(e)})}var Mg=function(){function e(t,n,r,i,o,s){k(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _(e,[{key:"recognize",value:function(){var e=gg(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new Dp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xp(n,t),i=new Op(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Rp(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],s=t.children[o],a=dg(e,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;n.push.apply(n,c(l))}var h=function(e){var t,n=[],r=u(e);try{var i=function(){var e,r=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(r))return n.push(r),"continue";var i=n.find(function(e){return r.value.routeConfig===e.value.routeConfig});void 0!==i?(e=i.children).push.apply(e,c(r.children)):n.push(r)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}(n);return h.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),h}},{key:"processSegment",value:function(e,t,n,r){var i,o=u(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=this.processSegmentAgainstRoute(s,t,n,r);if(null!==a)return a}}catch(c){o.e(c)}finally{o.f()}return wg(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!mg(e,t,n,r))return null;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?Yv(n).parameters:{};i=new Dp(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vg(e),fg(e),e.component,e,Ng(t),Hg(t)+n.length,jg(e))}else{var u=pg(t,e,n);if(!u.matched)return null;o=u.consumedSegments,s=n.slice(u.lastChild),i=new Dp(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vg(e),fg(e),e.component,e,Ng(t),Hg(t)+o.length,jg(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=gg(t,o,s,c.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new xp(i,d)]}if(0===c.length&&0===f.length)return[new xp(i,[])];var v=fg(e)===r,p=this.processSegment(c,h,f,v?"primary":r);return null===p?null:[new xp(i,p)]}}]),e}();function Ng(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Hg(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Vg(e){return e.data||{}}function jg(e){return e.resolve||{}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ug(e){return Yd(function(t){var n=e(t);return n?ae(n).pipe(re(function(){return t})):mh(t)})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Bg=function(e){p(n,e);var t=y(n);function n(){return k(this,n),t.apply(this,arguments)}return n}(function(){function e(){k(this,e)}return _(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),Lg=new Qn("ROUTES"),Kg=function(){function e(t,n,r,i){k(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(re(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new tg(Zv(i.injector.get(Lg,void 0,je.Self|je.Optional)).map(hg),i)}),av(function(e){throw t._loader$=void 0,e}));return t._loader$=new ye(r,function(){return new W}).pipe(de()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?ae(this.loader.load(e)):Qv(e()).pipe(ue(function(e){return e instanceof sa?mh(e):ae(t.compiler.compileModuleAsync(e))}))}}]),e}(),zg=function e(){k(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new qg,this.attachRef=null},qg=function(){function e(){k(this,e),this.contexts=new Map}return _(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new zg,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Wg=function(){function e(){k(this,e)}return _(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Gg(e){throw e}function Jg(e,t,n){return t.parse("/")}function $g(e,t){return mh(null)}var Zg,Yg,Xg,Qg,ey=((Yg=function(){function e(t,n,r,i,o,s,a,u){var c=this;k(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new W,this.errorHandler=Gg,this.malformedUriErrorHandler=Jg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$g,afterPreactivation:$g},this.urlHandlingStrategy=new Wg,this.routeReuseStrategy=new Bg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(oa),this.console=o.get(Oa);var l=o.get(Ga);this.isNgZoneEnabled=l instanceof Ga&&Ga.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ip(new op([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kg(s,a,function(e){return c.triggerEvent(new Hv(e))},function(e){return c.triggerEvent(new Vv(e))}),this.routerState=Tp(this.currentUrlTree,this.rootComponentType),this.transitions=new jd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Sh(function(e){return 0!==e.id}),re(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Yd(function(e){var r,i,o,s,a=!1,u=!1;return mh(e).pipe(kv(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Yd(function(e){var r,i,o,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return mh(e).pipe(Yd(function(e){var r=t.transitions.getValue();return n.next(new Av(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Pd:Promise.resolve(e)}),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,s=t.config,Yd(function(e){return function(e,t,n,r,i){return new Eg(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(re(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))})),kv(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,i,o){return ue(function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var s=new Mg(e,t,n,r,i,o).recognize();return null===s?Og(new Dg):mh(s)}catch(a){return Og(a)}}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),i,o).pipe(re(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var s})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),kv(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var r=new Rv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new Av(u,t.serializeUrl(c),l,h);n.next(d);var v=Tp(c,t.rootComponentType).snapshot;return mh(Object.assign(Object.assign({},e),{targetSnapshot:v,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Pd}),Ug(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),kv(function(e){var n=new Dv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),re(function(e){return Object.assign(Object.assign({},e),{guards:Pg(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return ue(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?mh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return ae(e).pipe(ue(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?mh(o.map(function(o){var s,a=Tg(o,t,i);if(function(e){return e&&ng(e.canDeactivate)}(a))s=Qv(a.canDeactivate(e,t,n,r));else{if(!ng(a))throw new Error("Invalid CanDeactivate guard");s=Qv(a(e,t,n,r))}return s.pipe(Sv())})).pipe(og()):mh(!0)}(e.component,e.route,n,t,r)}),Sv(function(e){return!0!==e},!0))}(a,r,i,e).pipe(ue(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return ae(t).pipe(wh(function(t){return $d(function(e,t){return null!==e&&t&&t(new jv(e)),mh(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Bv(e)),mh(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Zd(function(){return mh(t.guards.map(function(i){var o,s=Tg(i,t.node,n);if(function(e){return e&&ng(e.canActivateChild)}(s))o=Qv(s.canActivateChild(r,e));else{if(!ng(s))throw new Error("Invalid CanActivateChild guard");o=Qv(s(r,e))}return o.pipe(Sv())})).pipe(og())})});return mh(i).pipe(og())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?mh(r.map(function(r){return Zd(function(){var i,o=Tg(r,t,n);if(function(e){return e&&ng(e.canActivate)}(o))i=Qv(o.canActivate(t,e));else{if(!ng(o))throw new Error("Invalid CanActivate guard");i=Qv(o(t,e))}return i.pipe(Sv())})})).pipe(og()):mh(!0)}(e,t.route,n))}),Sv(function(e){return!0!==e},!0))}(r,s,e,t):mh(n)}),re(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),kv(function(e){if(rg(e.guardsResult)){var n=Wv('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new Ov(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),Sh(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Tv(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),Ug(function(e){if(e.guards.canActivateChecks.length)return mh(e).pipe(kv(function(e){var n=new Mv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Yd(function(e){var r,i,o=!1;return mh(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,ue(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return mh(e);var o=0;return ae(n).pipe(wh(function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return mh({});var o={};return ae(i).pipe(ue(function(i){return function(e,t,n,r){var i=Tg(e,t,r);return Qv(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(kv(function(e){o[i]=e}))}),lv(1),ue(function(){return Object.keys(o).length===i.length?mh(o):Pd}))}(e._resolve,e,t,r).pipe(re(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Rp(e,n).resolve),null}))}(e.route,t,r,i)}),kv(function(){return o++}),lv(1),ue(function(t){return o===n.length?mh(e):Pd}))})),kv({next:function(){return o=!0},complete:function(){if(!o){var r=new Tv(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),kv(function(e){var n=new Nv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),Ug(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})}),re(function(e){var n=function(e,t,n){var r=jp(e,t._root,n?n._root:void 0);return new Pp(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),kv(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(i=t.rootContexts,o=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},re(function(e){return new Qp(o,e.targetRouterState,e.currentRouterState,s).activate(i),e})),kv({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){t.resetUrlToCurrentUrlTree();var r=new Tv(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Ev(r))}),av(function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=rg(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Tv(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new Iv(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var a;return Pd}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var s=Object.assign({},r);delete s.navigationId,0!==Object.keys(s).length&&(o.state=s)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){ug(e),this.config=e.map(hg),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Kp(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new qp(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Xv(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(c(e),[{outlets:o}])}if(r.segmentPath)return[].concat(c(e),[r.segmentPath])}return"string"!=typeof r?[].concat(c(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(c(e),[r])},[]);return new qp(n,t,r)}(n);if(o.toRoot())return Kp(t.root,new op([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new Wp(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Wp(r,r===t.root,0)}var i=Bp(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Wp(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Jp(s.segmentGroup,s.index,o.commands):Gp(s.segmentGroup,s.index,o.commands);return Kp(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,l,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=rg(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(rg(e))return ep(this.currentUrlTree,e,t);var n=this.parseUrl(e);return ep(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Pv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,s,a,u=this.getTransition(),c="imperative"!==t&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise(function(e,t){o=e,s=t});var h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){return new(e||Yg)(dr(tr),dr(up),dr(qg),dr(Gu),dr(mo),dr(gu),dr(za),dr(void 0))},Yg.\u0275prov=Pe({token:Yg,factory:Yg.\u0275fac}),Yg),ty=((Zg=function(){function e(t,n,r,i,o){k(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new _a,this.deactivateEvents=new _a,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ny(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||Zg)(Mo(qg),Mo(ua),Mo(Cs),function(e,t){var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if("name"===o)return n[i+1];i+=2}}return null}(Zt()),Mo(Ys))},Zg.\u0275dir=ft({type:Zg,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Zg),ny=function(){function e(t,n,r){k(this,e),this.route=t,this.childContexts=n,this.parent=r}return _(e,[{key:"get",value:function(e,t){return e===Ip?this.route:e===qg?this.childContexts:this.parent.get(e,t)}}]),e}(),ry=function e(){k(this,e)},iy=function(){function e(){k(this,e)}return _(e,[{key:"preload",value:function(e,t){return mh(null)}}]),e}(),oy=((Qg=function(){function e(t,n,r,i,o){k(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Kg(n,r,function(e){return t.triggerEvent(new Hv(e))},function(e){return t.triggerEvent(new Vv(e))})}return _(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Sh(function(e){return e instanceof Pv}),wh(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(oa);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(a){i.e(a)}finally{i.f()}return ae(r).pipe(he(),re(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?mh(t._loadedConfig):n.loader.load(e.injector,t)).pipe(ue(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}()).\u0275fac=function(e){return new(e||Qg)(dr(ey),dr(gu),dr(za),dr(mo),dr(ry))},Qg.\u0275prov=Pe({token:Qg,factory:Qg.\u0275fac}),Qg),sy=((Xg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Av?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pv&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Kv&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Kv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Xg)(dr(ey),dr(vc),dr(void 0))},Xg.\u0275prov=Pe({token:Xg,factory:Xg.\u0275fac}),Xg),ay=new Qn("ROUTER_CONFIGURATION"),uy=new Qn("ROUTER_FORROOT_GUARD"),cy=[Gu,{provide:up,useClass:cp},{provide:ey,useFactory:function(e,t,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new ey(null,e,t,n,r,i,o,Zv(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing){var h=Eu();l.events.subscribe(function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()})}return l},deps:[up,qg,Gu,mo,gu,za,Lg,ay,[function(){return function e(){k(this,e)}}(),new yr],[function(){return function e(){k(this,e)}}(),new yr]]},qg,{provide:Ip,useFactory:function(e){return e.routerState.root},deps:[ey]},{provide:gu,useClass:wu},oy,iy,function(){function e(){k(this,e)}return _(e,[{key:"preload",value:function(e,t){return t().pipe(av(function(){return mh(null)}))}}]),e}(),{provide:ay,useValue:{enableTracing:!1}}];function ly(){return new uu("Router",ey)}var hy,fy=((hy=function(){function e(t,n){k(this,e)}return _(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[cy,gy(t),{provide:uy,useFactory:py,deps:[[ey,new yr,new mr]]},{provide:ay,useValue:n||{}},{provide:ju,useFactory:vy,deps:[Au,[new gr(zu),new yr],ay]},{provide:sy,useFactory:dy,deps:[ey,vc,ay]},{provide:ry,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:iy},{provide:uu,multi:!0,useFactory:ly},[my,{provide:Fa,multi:!0,useFactory:wy,deps:[my]},{provide:by,useFactory:Sy,deps:[my]},{provide:Da,multi:!0,useExisting:by}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[gy(t)]}}}]),e}()).\u0275mod=lt({type:hy}),hy.\u0275inj=Te({factory:function(e){return new(e||hy)(dr(uy,8),dr(ey,8))}}),hy);function dy(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new sy(e,t,n)}function vy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Wu(e,t):new qu(e,t)}function py(e){return"guarded"}function gy(e){return[{provide:er,multi:!0,useValue:e},{provide:Lg,multi:!0,useValue:e}]}var yy,my=((yy=function(){function e(t){k(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new W}return _(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Iu,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(ey),i=e.injector.get(ay);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?mh(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(ay),n=this.injector.get(oy),r=this.injector.get(sy),i=this.injector.get(ey),o=this.injector.get(vu);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}()).\u0275fac=function(e){return new(e||yy)(dr(mo))},yy.\u0275prov=Pe({token:yy,factory:yy.\u0275fac}),yy);function wy(e){return e.appInitializer.bind(e)}function Sy(e){return e.bootstrapListener.bind(e)}var by=new Qn("Router Initializer"),ky=function(){function e(t,n,r,i){k(this,e),this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new Cy(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),e}(),Cy=function(e){p(n,e);var t=y(n);function n(e,r,i,o,s){var a;return k(this,n),(a=t.call(this,e)).absoluteTimeout=r,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.action=null,a.scheduleTimeout(),a}return _(n,[{key:"scheduleTimeout",value:function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(e){this.absoluteTimeout||this.scheduleTimeout(),v(b(n.prototype),"_next",this).call(this,e)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(te(e,t))}}]),n}(ne),_y=function(){function e(t,n){k(this,e),this.notifier=t,this.source=n}return _(e,[{key:"call",value:function(e,t){return t.subscribe(new Ey(e,this.notifier,this.source))}}]),e}(),Ey=function(e){p(n,e);var t=y(n);function n(e,r,i){var o;return k(this,n),(o=t.call(this,e)).notifier=r,o.source=i,o}return _(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{t=new W;try{r=(0,this.notifier)(t)}catch(o){return v(b(n.prototype),"error",this).call(this,o)}i=te(this,r)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=r,this.retriesSubscription=i,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}]),n}(ne),Fy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xy=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function Ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Py=function(){function e(){for(var t=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ay(this,e),this.tag=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map(function(e){return"function"==typeof e?e():e}),this.tag}return Fy(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this.tag(xy,e.apply(void 0,[t].concat(r)))}},{key:"processSubstitutions",value:function(e,t,n){var r=this.transformSubstitution(e.shift(),t);return"".concat(t,r,n)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),Ty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function Iy(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ry=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),r=n&&Math.min.apply(Math,Iy(n.map(function(e){return e.length})));if(r){var i=new RegExp("^.{"+r+"}","gm");return t.replace(i,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},Dy=function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}},Oy=function(e,t){return{onSubstitution:function(n,r){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}},My={separator:"",conjunction:"",serial:!1},Ny=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:My;return{onSubstitution:function(t,n){if(Array.isArray(t)){var r=t.length,i=e.separator,o=e.conjunction,s=e.serial,a=n.match(/(\n?[^\S\n]+)$/);if(t=t.join(a?i+a[1]:i+" "),o&&r>1){var u=t.lastIndexOf(i);t=t.slice(0,u)+(s?i:"")+" "+o+t.slice(u+1)}}return t}}},Hy=function(e){return{onSubstitution:function(t,n){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},Vy=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},jy=(new Py(Ny({separator:","}),Ry,Ty),new Py(Ny({separator:",",conjunction:"and"}),Ry,Ty),new Py(Ny({separator:",",conjunction:"or"}),Ry,Ty),new Py(Hy("\n"),function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(Vy):Vy(e)?e:""}}},Ny,Ry,Ty),new Py(Hy("\n"),Ny,Ry,Ty,Oy(/&/g,"&amp;"),Oy(/</g,"&lt;"),Oy(/>/g,"&gt;"),Oy(/"/g,"&quot;"),Oy(/'/g,"&#x27;"),Oy(/`/g,"&#x60;")),new Py(Dy(/(?:\n(?:\s*))+/g," "),Ty),new Py(Dy(/(?:\n\s*)/g,""),Ty));new Py(Ny({separator:","}),Dy(/(?:\s+)/g," "),Ty),new Py(Ny({separator:",",conjunction:"or"}),Dy(/(?:\s+)/g," "),Ty),new Py(Ny({separator:",",conjunction:"and"}),Dy(/(?:\s+)/g," "),Ty),new Py(Ny,Ry,Ty),new Py(Ny,Dy(/(?:\s+)/g," "),Ty),new Py(Ry,Ty),new Py(Ry("all"),Ty);var Uy,By,Ly,Ky,zy,qy,Wy,Gy,Jy,$y,Zy,Yy,Xy,Qy,em,tm,nm,rm,im,om,sm,am,um,cm,lm,hm,fm,dm,vm,pm,gm,ym,mm,wm,Sm,bm,km,Cm,_m,Em,Fm,xm,Am,Pm,Tm,Im,Rm,Dm,Om,Mm,Nm,Hm,Vm,jm,Um,Bm,Lm,Km,zm=((Ly=function(){function e(t){k(this,e),this.http=t}return _(e,[{key:"get",value:function(e,t){return this.http.get(e,t)}},{key:"post",value:function(e,t,n){return this.http.post(e,t,n)}}]),e}()).\u0275fac=function(e){return new(e||Ly)(dr(Zh))},Ly.\u0275prov=Pe({token:Ly,factory:Ly.\u0275fac}),Ly),qm=((By=function(){function e(t){k(this,e),this.httpClient=t}return _(e,[{key:"get",value:function(e,t){var n=this.prepareHeaders(t);return this.httpClient.get(e,{headers:n})}},{key:"post",value:function(e,t,n){var r=n||this.prepareHeaders();return this.httpClient.post(e,t,{headers:r})}},{key:"prepareHeaders",value:function(e){var t=new Eh;return t=t.set("Accept","application/json"),e&&(t=t.set("Authorization","Bearer "+decodeURIComponent(e))),t}}]),e}()).\u0275fac=function(e){return new(e||By)(dr(zm))},By.\u0275prov=Pe({token:By,factory:By.\u0275fac}),By),Wm=((Uy=function(){function e(t){k(this,e),this.platformId=t}return _(e,[{key:"isBrowser",get:function(){return"browser"===this.platformId}}]),e}()).\u0275fac=function(e){return new(e||Uy)(dr(Ra))},Uy.\u0275prov=Pe({token:Uy,factory:Uy.\u0275fac}),Uy),Gm=function(e){return e[e.None=0]="None",e[e.Debug=1]="Debug",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e}({}),Jm={stsServer:"https://please_set",authWellknownEndpoint:"",redirectUrl:"https://please_set",clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserinfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:Gm.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,storage:"undefined"!=typeof Storage?sessionStorage:null,customParams:{},eagerLoadAuthWellKnownEndpoints:!0,disableRefreshIdTokenAuthTimeValidation:!1,tokenRefreshInSeconds:4},$m=((zy=function(){function e(t){k(this,e),this.platformProvider=t}return _(e,[{key:"openIDConfiguration",get:function(){return this.openIdConfigurationInternal||null}},{key:"hasValidConfig",value:function(){return!!this.openIdConfigurationInternal}},{key:"setConfig",value:function(e){return this.openIdConfigurationInternal=Object.assign(Object.assign({},Jm),e),(null==e?void 0:e.storage)&&console.warn("PLEASE NOTE: The storage in the config will be deprecated in future versions:\n                Please pass the custom storage in forRoot() as documented"),this.setSpecialCases(this.openIdConfigurationInternal),this.openIdConfigurationInternal}},{key:"setSpecialCases",value:function(e){this.platformProvider.isBrowser||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}}]),e}()).\u0275fac=function(e){return new(e||zy)(dr(Wm))},zy.\u0275prov=Pe({token:zy,factory:zy.\u0275fac}),zy),Zm=((Ky=function(){function e(t){k(this,e),this.configurationProvider=t}return _(e,[{key:"logError",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.loggingIsTurnedOff()||(r&&r.length?(t=console).error.apply(t,[e].concat(r)):console.error(e))}},{key:"logWarning",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.logLevelIsSet()&&(this.loggingIsTurnedOff()||this.currentLogLevelIsEqualOrSmallerThan(Gm.Warn)&&(r&&r.length?(t=console).warn.apply(t,[e].concat(r)):console.warn(e)))}},{key:"logDebug",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.logLevelIsSet()&&(this.loggingIsTurnedOff()||this.currentLogLevelIsEqualOrSmallerThan(Gm.Debug)&&(r&&r.length?(t=console).log.apply(t,[e].concat(r)):console.log(e)))}},{key:"currentLogLevelIsEqualOrSmallerThan",value:function(e){return this.configurationProvider.openIDConfiguration.logLevel<=e}},{key:"logLevelIsSet",value:function(){return null!=(this.configurationProvider.openIDConfiguration||{}).logLevel}},{key:"loggingIsTurnedOff",value:function(){var e;return(null===(e=this.configurationProvider.openIDConfiguration)||void 0===e?void 0:e.logLevel)===Gm.None}}]),e}()).\u0275fac=function(e){return new(e||Ky)(dr($m))},Ky.\u0275prov=Pe({token:Ky,factory:Ky.\u0275fac}),Ky),Ym=function(e){return e[e.ConfigLoaded=0]="ConfigLoaded",e[e.ConfigLoadingFailed=1]="ConfigLoadingFailed",e[e.CheckSessionReceived=2]="CheckSessionReceived",e[e.UserDataChanged=3]="UserDataChanged",e[e.NewAuthorizationResult=4]="NewAuthorizationResult",e[e.TokenExpired=5]="TokenExpired",e[e.IdTokenExpired=6]="IdTokenExpired",e}({}),Xm=((em=function(){function e(){k(this,e),this.notify=new Hd(1)}return _(e,[{key:"fireEvent",value:function(e,t){this.notify.next({type:e,value:t})}},{key:"registerForEvents",value:function(){return this.notify.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||em)},em.\u0275prov=Pe({token:em,factory:em.\u0275fac}),em),Qm=((Qy=function e(){k(this,e)}).\u0275prov=Pe({token:Qy,factory:Qy.\u0275fac=function(e){return new(e||Qy)}}),Qy),ew=((Xy=function(){function e(t,n){k(this,e),this.oidcSecurityStorage=t,this.configurationProvider=n}return _(e,[{key:"read",value:function(e){var t=this.createKeyWithPrefix(e);return this.oidcSecurityStorage.read(t)}},{key:"write",value:function(e,t){var n=this.createKeyWithPrefix(e);this.oidcSecurityStorage.write(n,t)}},{key:"remove",value:function(e){var t=this.createKeyWithPrefix(e);this.oidcSecurityStorage.remove(t)}},{key:"resetStorageFlowData",value:function(){this.remove("session_state"),this.remove("storageSilentRenewRunning"),this.remove("codeVerifier"),this.remove("userData"),this.remove("storageCustomRequestParams"),this.remove("access_token_expires_at")}},{key:"resetAuthStateInStorage",value:function(){this.remove("authzData"),this.remove("authnResult")}},{key:"getAccessToken",value:function(){return this.read("authzData")}},{key:"getIdToken",value:function(){var e;return null===(e=this.read("authnResult"))||void 0===e?void 0:e.id_token}},{key:"getRefreshToken",value:function(){var e;return null===(e=this.read("authnResult"))||void 0===e?void 0:e.refresh_token}},{key:"createKeyWithPrefix",value:function(e){var t;return"".concat((null===(t=this.configurationProvider.openIDConfiguration)||void 0===t?void 0:t.clientId)||"","_").concat(e)}}]),e}()).\u0275fac=function(e){return new(e||Xy)(dr(Qm),dr($m))},Xy.\u0275prov=Pe({token:Xy,factory:Xy.\u0275fac}),Xy),tw=((Yy=function(){function e(t){k(this,e),this.loggerService=t}return _(e,[{key:"getTokenExpirationDate",value:function(e){if(!e.hasOwnProperty("exp"))return new Date((new Date).toUTCString());var t=new Date(0);return t.setUTCSeconds(e.exp),t}},{key:"getHeaderFromToken",value:function(e,t){return this.tokenIsValid(e)?this.getPartOfToken(e,0,t):{}}},{key:"getPayloadFromToken",value:function(e,t){return this.tokenIsValid(e)?this.getPartOfToken(e,1,t):{}}},{key:"getSignatureFromToken",value:function(e,t){return this.tokenIsValid(e)?this.getPartOfToken(e,2,t):{}}},{key:"getPartOfToken",value:function(e,t,n){var r=this.extractPartOfToken(e,t);if(n)return r;var i=this.urlBase64Decode(r);return JSON.parse(i)}},{key:"urlBase64Decode",value:function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}var n="undefined"!=typeof window?window.atob(t):Buffer.from(t,"base64").toString("binary");try{return decodeURIComponent(n.split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(r){return n}}},{key:"tokenIsValid",value:function(e){return e?e.includes(".")?3===e.split(".").length||(this.loggerService.logError("token '".concat(e,"' is not valid --\x3e token has to have exactly 2 dots")),!1):(this.loggerService.logError("token '".concat(e,"' is not valid --\x3e no dots included")),!1):(this.loggerService.logError("token '".concat(e,"' is not valid --\x3e token falsy")),!1)}},{key:"extractPartOfToken",value:function(e,t){return e.split(".")[t]}}]),e}()).\u0275fac=function(e){return new(e||Yy)(dr(Zm))},Yy.\u0275prov=Pe({token:Yy,factory:Yy.\u0275fac}),Yy),nw=((Zy=function(){function e(t,n){k(this,e),this.tokenHelperService=t,this.loggerService=n,this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"]}return _(e,[{key:"hasIdTokenExpired",value:function(e,t){var n=this.tokenHelperService.getPayloadFromToken(e,!1);return!this.validateIdTokenExpNotExpired(n,t)}},{key:"validateIdTokenExpNotExpired",value:function(e,t){var n=this.tokenHelperService.getTokenExpirationDate(e);if(t=t||0,!n)return!1;var r=n.valueOf(),i=new Date((new Date).toUTCString()).valueOf()+1e3*t,o=r>i;return this.loggerService.logDebug("Has id_token expired: ".concat(!o,", ").concat(r," > ").concat(i)),o}},{key:"validateAccessTokenNotExpired",value:function(e,t){if(!e)return!0;t=t||0;var n=e.valueOf(),r=new Date((new Date).toUTCString()).valueOf()+1e3*t,i=n>r;return this.loggerService.logDebug("Has access_token expired: ".concat(!i,", ").concat(n," > ").concat(r)),i}},{key:"validateRequiredIdToken",value:function(e){var t=!0;return e.hasOwnProperty("iss")||(t=!1,this.loggerService.logWarning("iss is missing, this is required in the id_token")),e.hasOwnProperty("sub")||(t=!1,this.loggerService.logWarning("sub is missing, this is required in the id_token")),e.hasOwnProperty("aud")||(t=!1,this.loggerService.logWarning("aud is missing, this is required in the id_token")),e.hasOwnProperty("exp")||(t=!1,this.loggerService.logWarning("exp is missing, this is required in the id_token")),e.hasOwnProperty("iat")||(t=!1,this.loggerService.logWarning("iat is missing, this is required in the id_token")),t}},{key:"validateIdTokenIatMaxOffset",value:function(e,t,n){if(n)return!0;if(!e.hasOwnProperty("iat"))return!1;var r=new Date(0);r.setUTCSeconds(e.iat),t=t||0;var i=new Date((new Date).toUTCString()).valueOf()-r.valueOf(),o=1e3*t;return this.loggerService.logDebug("validate id token iat max offset ".concat(i," < ").concat(o)),i>0?i<o:-i<o}},{key:"validateIdTokenNonce",value:function(t,n,r){return!((void 0!==t.nonce&&!r||n!==e.refreshTokenNoncePlaceholder)&&t.nonce!==n&&(this.loggerService.logDebug("Validate_id_token_nonce failed, dataIdToken.nonce: "+t.nonce+" local_nonce:"+n),1))}},{key:"validateIdTokenIss",value:function(e,t){return e.iss===t||(this.loggerService.logDebug("Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+t),!1)}},{key:"validateIdTokenAud",value:function(e,t){return Array.isArray(e.aud)?!!e.aud.includes(t)||(this.loggerService.logDebug("Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):e.aud===t||(this.loggerService.logDebug("Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1)}},{key:"validateIdTokenAzpExistsIfMoreThanOneAud",value:function(e){return!(!e||Array.isArray(e.aud)&&e.aud.length>1&&!e.azp)}},{key:"validateIdTokenAzpValid",value:function(e,t){return!(null==e?void 0:e.azp)||e.azp===t}},{key:"validateStateFromHashCallback",value:function(e,t){return e===t||(this.loggerService.logDebug("ValidateStateFromHashCallback failed, state: "+e+" local_state:"+t),!1)}},{key:"validateSignatureIdToken",value:function(e,t){if(!t||!t.keys)return!1;var n=this.tokenHelperService.getHeaderFromToken(e,!1);if(0===Object.keys(n).length&&n.constructor===Object)return this.loggerService.logWarning("id token has no header data"),!1;var r=n.kid,i=n.alg;if(!this.keyAlgorithms.includes(i))return this.loggerService.logWarning("alg not supported",i),!1;var o="RSA";"E"===i.charAt(0)&&(o="EC");var s=!1;if(n.hasOwnProperty("kid")){var a,c=u(t.keys);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(l.kid===r){var h=zd.KEYUTIL.getKey(l);return(s=zd.KJUR.jws.JWS.verify(e,h,[i]))||this.loggerService.logWarning("incorrect Signature, validation failed for id_token"),s}}}catch(S){c.e(S)}finally{c.f()}}else{var f,d=0,v=u(t.keys);try{for(v.s();!(f=v.n()).done;){var p=f.value;p.kty===o&&"sig"===p.use&&(d+=1)}}catch(S){v.e(S)}finally{v.f()}if(0===d)return this.loggerService.logWarning("no keys found, incorrect Signature, validation failed for id_token"),!1;if(d>1)return this.loggerService.logWarning("no ID Token kid claim in JOSE header and multiple supplied in jwks_uri"),!1;var g,y=u(t.keys);try{for(y.s();!(g=y.n()).done;){var m=g.value;if(m.kty===o&&"sig"===m.use){var w=zd.KEYUTIL.getKey(m);return(s=zd.KJUR.jws.JWS.verify(e,w,[i]))||this.loggerService.logWarning("incorrect Signature, validation failed for id_token"),s}}}catch(S){y.e(S)}finally{y.f()}}return s}},{key:"validateIdTokenAtHash",value:function(e,t,n){this.loggerService.logDebug("at_hash from the server:"+t);var r="sha256";n.includes("384")?r="sha384":n.includes("512")&&(r="sha512");var i=this.generateAtHash(""+e,r);if(this.loggerService.logDebug("at_hash client validation not decoded:"+i),i===t)return!0;var o=this.generateAtHash(""+decodeURIComponent(e),r);return this.loggerService.logDebug("-gen access--"+o),o===t}},{key:"generateCodeChallenge",value:function(e){var t=zd.KJUR.crypto.Util.hashString(e,"sha256");return Object(zd.hextob64u)(t)}},{key:"generateAtHash",value:function(e,t){var n=zd.KJUR.crypto.Util.hashString(e,t),r=n.substr(0,n.length/2);return Object(zd.hextob64u)(r)}}]),e}()).\u0275fac=function(e){return new(e||Zy)(dr(tw),dr(Zm))},Zy.\u0275prov=Pe({token:Zy,factory:Zy.\u0275fac}),Zy.refreshTokenNoncePlaceholder="--RefreshToken--",Zy),rw=(($y=function(){function e(t,n,r,i,o){k(this,e),this.storagePersistanceService=t,this.loggerService=n,this.publicEventsService=r,this.configurationProvider=i,this.tokenValidationService=o,this.authorizedInternal$=new jd(!1)}return _(e,[{key:"authorized$",get:function(){return this.authorizedInternal$.asObservable()}},{key:"isAuthorized",get:function(){return!!this.storagePersistanceService.getAccessToken()&&!!this.storagePersistanceService.getIdToken()}},{key:"setAuthorizedAndFireEvent",value:function(){this.authorizedInternal$.next(!0)}},{key:"setUnauthorizedAndFireEvent",value:function(){this.storagePersistanceService.resetAuthStateInStorage(),this.authorizedInternal$.next(!1)}},{key:"updateAndPublishAuthState",value:function(e){this.publicEventsService.fireEvent(Ym.NewAuthorizationResult,e)}},{key:"setAuthorizationData",value:function(e,t){this.loggerService.logDebug(e),this.loggerService.logDebug("storing the accessToken"),this.storagePersistanceService.write("authzData",e),this.persistAccessTokenExpirationTime(t),this.setAuthorizedAndFireEvent()}},{key:"getAccessToken",value:function(){if(!this.isAuthorized)return"";var e=this.storagePersistanceService.getAccessToken();return this.decodeURIComponentSafely(e)}},{key:"getIdToken",value:function(){if(!this.isAuthorized)return"";var e=this.storagePersistanceService.getIdToken();return this.decodeURIComponentSafely(e)}},{key:"getRefreshToken",value:function(){if(!this.isAuthorized)return"";var e=this.storagePersistanceService.getRefreshToken();return this.decodeURIComponentSafely(e)}},{key:"areAuthStorageTokensValid",value:function(){return!(!this.isAuthorized||(this.hasIdTokenExpired()?(this.loggerService.logDebug("persisted id_token is expired"),1):this.hasAccessTokenExpiredIfExpiryExists()?(this.loggerService.logDebug("persisted access_token is expired"),1):(this.loggerService.logDebug("persisted id_token and access token are valid"),0)))}},{key:"hasIdTokenExpired",value:function(){var e=this.storagePersistanceService.getIdToken(),t=this.tokenValidationService.hasIdTokenExpired(e,this.configurationProvider.openIDConfiguration.renewTimeBeforeTokenExpiresInSeconds);return t&&this.publicEventsService.fireEvent(Ym.IdTokenExpired,t),t}},{key:"hasAccessTokenExpiredIfExpiryExists",value:function(){var e=this.storagePersistanceService.read("access_token_expires_at"),t=!this.tokenValidationService.validateAccessTokenNotExpired(e,this.configurationProvider.openIDConfiguration.renewTimeBeforeTokenExpiresInSeconds);return t&&this.publicEventsService.fireEvent(Ym.TokenExpired,t),t}},{key:"decodeURIComponentSafely",value:function(e){return e?decodeURIComponent(e):""}},{key:"persistAccessTokenExpirationTime",value:function(e){if(null==e?void 0:e.expires_in){var t=new Date((new Date).toUTCString()).valueOf()+1e3*e.expires_in;this.storagePersistanceService.write("access_token_expires_at",t)}}}]),e}()).\u0275fac=function(e){return new(e||$y)(dr(ew),dr(Zm),dr(Xm),dr($m),dr(nw))},$y.\u0275prov=Pe({token:$y,factory:$y.\u0275fac}),$y),iw=((Jy=function(){function e(){k(this,e)}return _(e,[{key:"getStoredRedirectRoute",value:function(){return localStorage.getItem("redirect")}},{key:"saveStoredRedirectRoute",value:function(e){localStorage.setItem("redirect",e)}},{key:"deleteStoredRedirectRoute",value:function(){localStorage.removeItem("redirect")}}]),e}()).\u0275fac=function(e){return new(e||Jy)},Jy.\u0275prov=Pe({token:Jy,factory:Jy.\u0275fac}),Jy),ow=((Gy=function(){function e(t,n){k(this,e),this.doc=t,this.loggerService=n}return _(e,[{key:"createRandom",value:function(e){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning("RandomService called with ".concat(e," but 7 chars is the minimum, returning 10 chars")),e=10);var t=e-6,n=new Uint8Array((t||t)/2);return this.getCrypto()&&this.getCrypto().getRandomValues(n),Array.from(n,this.toHex).join("")+this.randomString(7)}},{key:"toHex",value:function(e){return("0"+e.toString(16)).substr(-2)}},{key:"randomString",value:function(e){var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=new Uint32Array(e);if(this.getCrypto()){this.getCrypto().getRandomValues(r);for(var i=0;i<e;i++)t+=n[r[i]%n.length]}return t}},{key:"getCrypto",value:function(){return this.doc.defaultView.crypto||this.doc.defaultView.msCrypto}}]),e}()).\u0275fac=function(e){return new(e||Gy)(dr(xu),dr(Zm))},Gy.\u0275prov=Pe({token:Gy,factory:Gy.\u0275fac}),Gy),sw=((Wy=function(){function e(t,n,r,i){k(this,e),this.storagePersistanceService=t,this.randomService=n,this.configurationProvider=r,this.loggerService=i}return _(e,[{key:"createNonce",value:function(){var e=this.randomService.createRandom(40);return this.setNonce(e),e}},{key:"setNonce",value:function(e){this.storagePersistanceService.write("authNonce",e)}},{key:"getAuthStateControl",value:function(){return this.storagePersistanceService.read("authStateControl")}},{key:"setAuthStateControl",value:function(e){this.storagePersistanceService.write("authStateControl",e)}},{key:"getExistingOrCreateAuthStateControl",value:function(){var e=this.storagePersistanceService.read("authStateControl");return e||(e=this.randomService.createRandom(40),this.storagePersistanceService.write("authStateControl",e)),e}},{key:"setSessionState",value:function(e){this.storagePersistanceService.write("session_state",e)}},{key:"resetStorageFlowData",value:function(){this.storagePersistanceService.resetStorageFlowData()}},{key:"getCodeVerifier",value:function(){return this.storagePersistanceService.read("codeVerifier")}},{key:"createCodeVerifier",value:function(){var e=this.randomService.createRandom(67);return this.storagePersistanceService.write("codeVerifier",e),e}},{key:"isSilentRenewRunning",value:function(){var e=JSON.parse(this.storagePersistanceService.read("storageSilentRenewRunning"));if(e){var t=Date.parse(e.dateOfLaunchedProcessUtc),n=Date.parse((new Date).toISOString());return Math.abs(n-t)>1e3*this.configurationProvider.openIDConfiguration.silentRenewTimeoutInSeconds?(this.loggerService.logDebug("silent renew process is probably stuck, state will be reset."),this.resetSilentRenewRunning(),!1):"running"===e.state}return!1}},{key:"setSilentRenewRunning",value:function(){var e={state:"running",dateOfLaunchedProcessUtc:(new Date).toISOString()};this.storagePersistanceService.write("storageSilentRenewRunning",JSON.stringify(e))}},{key:"resetSilentRenewRunning",value:function(){this.storagePersistanceService.write("storageSilentRenewRunning","")}}]),e}()).\u0275fac=function(e){return new(e||Wy)(dr(ew),dr(ow),dr($m),dr(Zm))},Wy.\u0275prov=Pe({token:Wy,factory:Wy.\u0275fac}),Wy),aw=((qy=function(){function e(t){k(this,e),this.configurationProvider=t}return _(e,[{key:"isCurrentFlowCodeFlow",value:function(){return this.currentFlowIs("code")}},{key:"isCurrentFlowAnyImplicitFlow",value:function(){return this.isCurrentFlowImplicitFlowWithAccessToken()||this.isCurrentFlowImplicitFlowWithoutAccessToken()}},{key:"isCurrentFlowCodeFlowWithRefreshTokens",value:function(){return!(!this.isCurrentFlowCodeFlow()||!this.configurationProvider.openIDConfiguration.useRefreshToken)}},{key:"isCurrentFlowImplicitFlowWithAccessToken",value:function(){return this.currentFlowIs("id_token token")}},{key:"isCurrentFlowImplicitFlowWithoutAccessToken",value:function(){return this.currentFlowIs("id_token")}},{key:"currentFlowIs",value:function(e){var t=this.configurationProvider.openIDConfiguration.responseType;return Array.isArray(e)?e.some(function(e){return t===e}):t===e}}]),e}()).\u0275fac=function(e){return new(e||qy)(dr($m))},qy.\u0275prov=Pe({token:qy,factory:qy.\u0275fac}),qy),uw=function(){function e(){k(this,e)}return _(e,[{key:"encodeKey",value:function(e){return encodeURIComponent(e)}},{key:"encodeValue",value:function(e){return encodeURIComponent(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}(),cw=["code","state","token","id_token"],lw=((nm=function(){function u(e,t,n,r,i,o){k(this,u),this.configurationProvider=e,this.loggerService=t,this.flowsDataService=n,this.flowHelper=r,this.tokenValidationService=i,this.storagePersistanceService=o}return _(u,[{key:"getUrlParameter",value:function(e,t){if(!e)return"";if(!t)return"";t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":decodeURIComponent(n[1])}},{key:"isCallbackFromSts",value:function(e){var t=this;return cw.some(function(n){return!!t.getUrlParameter(e,n)})}},{key:"getRefreshSessionSilentRenewUrl",value:function(e){return this.flowHelper.isCurrentFlowCodeFlow()?this.createUrlCodeFlowWithSilentRenew(e):this.createUrlImplicitFlowWithSilentRenew(e)||""}},{key:"getAuthorizeParUrl",value:function(e){var t=this.storagePersistanceService.read("authWellKnownEndPoints");if(!t)return this.loggerService.logError("authWellKnownEndpoints is undefined"),null;var n=t.authorizationEndpoint;if(!n)return this.loggerService.logError("Can not create an authorize url when authorizationEndpoint is '".concat(n,"'")),null;var r=this.configurationProvider.openIDConfiguration.clientId;if(!r)return this.loggerService.logError("createAuthorizeUrl could not add clientId because it was: ",r),null;var i=n.split("?"),o=i[0],s=new Ah({fromString:i[1],encoder:new uw});return s=(s=s.set("request_uri",e)).append("client_id",r),"".concat(o,"?").concat(s)}},{key:"getAuthorizeUrl",value:function(e){return this.flowHelper.isCurrentFlowCodeFlow()?this.createUrlCodeFlowAuthorize(e):this.createUrlImplicitFlowAuthorize(e)||""}},{key:"createEndSessionUrl",value:function(e){var t=this.storagePersistanceService.read("authWellKnownEndPoints"),n=null==t?void 0:t.endSessionEndpoint;if(!n)return null;var r=n.split("?"),i=r[0],o=new Ah({fromString:r[1],encoder:new uw});o=o.set("id_token_hint",e);var s=this.getPostLogoutRedirectUrl();return s&&(o=o.append("post_logout_redirect_uri",s)),"".concat(i,"?").concat(o)}},{key:"createRevocationEndpointBodyAccessToken",value:function(e){var t=this.getClientId();return t?"client_id=".concat(t,"&token=").concat(e,"&token_type_hint=access_token"):null}},{key:"createRevocationEndpointBodyRefreshToken",value:function(e){var t=this.getClientId();return t?"client_id=".concat(t,"&token=").concat(e,"&token_type_hint=refresh_token"):null}},{key:"getRevocationEndpointUrl",value:function(){var e=this.storagePersistanceService.read("authWellKnownEndPoints"),t=null==e?void 0:e.revocationEndpoint;return t?t.split("?")[0]:null}},{key:"createBodyForCodeFlowCodeRequest",value:function(i,o){var a=this.flowsDataService.getCodeVerifier();if(!a)return this.loggerService.logError("CodeVerifier is not set ",a),null;var u=this.getClientId();if(!u)return null;var c=jy(e||(e=s(["grant_type=authorization_code\n            &client_id=","\n            &code_verifier=","\n            &code=",""])),u,a,i);if(o){var l=this.composeCustomParams(Object.assign({},o));c=jy(t||(t=s(["","",""])),c,l)}var h=this.getSilentRenewUrl();if(this.flowsDataService.isSilentRenewRunning()&&h)return jy(n||(n=s(["","&redirect_uri=",""])),c,h);var f=this.getRedirectUrl();return f?jy(r||(r=s(["","&redirect_uri=",""])),c,f):null}},{key:"createBodyForCodeFlowRefreshTokensRequest",value:function(e,t){var n=this.getClientId();if(!n)return null;var r=jy(i||(i=s(["grant_type=refresh_token\n            &client_id=","\n            &refresh_token=",""])),n,e);return t&&(r="".concat(r).concat(this.composeCustomParams(Object.assign({},t)))),r}},{key:"createBodyForParCodeFlowRequest",value:function(e){var t=this.getRedirectUrl();if(!t)return null;var n=this.flowsDataService.getExistingOrCreateAuthStateControl(),r=this.flowsDataService.createNonce();this.loggerService.logDebug("Authorize created. adding myautostate: "+n);var i=this.flowsDataService.createCodeVerifier(),a=this.tokenValidationService.generateCodeChallenge(i),u=this.configurationProvider.openIDConfiguration,c=u.clientId,l=u.responseType,h=u.scope,f=u.hdParam,d=u.customParams,v=jy(o||(o=s(["client_id=","\n            &redirect_uri=","\n            &response_type=","\n            &scope=","\n            &nonce=","\n            &state=","\n            &code_challenge=","\n            &code_challenge_method=S256"])),c,t,l,h,r,n,a);return f&&(v="".concat(v,"&hd=").concat(f)),d&&(v="".concat(v).concat(this.composeCustomParams(Object.assign({},d)))),e&&(v="".concat(v).concat(this.composeCustomParams(Object.assign({},e)))),v}},{key:"createAuthorizeUrl",value:function(e,t,n,r,i,o){var s=this.storagePersistanceService.read("authWellKnownEndPoints"),u=null==s?void 0:s.authorizationEndpoint;if(!u)return this.loggerService.logError("Can not create an authorize url when authorizationEndpoint is '".concat(u,"'")),null;var c=this.configurationProvider.openIDConfiguration,l=c.clientId,h=c.responseType,f=c.scope,d=c.hdParam,v=c.customParams;if(!l)return this.loggerService.logError("createAuthorizeUrl could not add clientId because it was: ",l),null;if(!h)return this.loggerService.logError("createAuthorizeUrl could not add responseType because it was: ",h),null;if(!f)return this.loggerService.logError("createAuthorizeUrl could not add scope because it was: ",f),null;var p=u.split("?"),g=p[0],y=new Ah({fromString:p[1],encoder:new uw});if(y=(y=(y=(y=(y=(y=y.set("client_id",l)).append("redirect_uri",t)).append("response_type",h)).append("scope",f)).append("nonce",n)).append("state",r),this.flowHelper.isCurrentFlowCodeFlow()&&(y=(y=y.append("code_challenge",e)).append("code_challenge_method","S256")),i&&(y=y.append("prompt",i)),d&&(y=y.append("hd",d)),v)for(var m=0,w=Object.entries(Object.assign({},v));m<w.length;m++){var S=a(w[m],2),b=S[0],k=S[1];y=y.append(b,k.toString())}if(o)for(var C=0,_=Object.entries(Object.assign({},o));C<_.length;C++){var E=a(_[C],2),F=E[0],x=E[1];y=y.append(F,x.toString())}return"".concat(g,"?").concat(y)}},{key:"createUrlImplicitFlowWithSilentRenew",value:function(e){var t=this.flowsDataService.getExistingOrCreateAuthStateControl(),n=this.flowsDataService.createNonce(),r=this.getSilentRenewUrl();return r?(this.loggerService.logDebug("RefreshSession created. adding myautostate: ",t),this.storagePersistanceService.read("authWellKnownEndPoints")?this.createAuthorizeUrl("",r,n,t,"none",e):(this.loggerService.logError("authWellKnownEndpoints is undefined"),null)):null}},{key:"createUrlCodeFlowWithSilentRenew",value:function(e){var t=this.flowsDataService.getExistingOrCreateAuthStateControl(),n=this.flowsDataService.createNonce();this.loggerService.logDebug("RefreshSession created. adding myautostate: "+t);var r=this.flowsDataService.createCodeVerifier(),i=this.tokenValidationService.generateCodeChallenge(r),o=this.getSilentRenewUrl();return o?this.storagePersistanceService.read("authWellKnownEndPoints")?this.createAuthorizeUrl(i,o,n,t,"none",e):(this.loggerService.logWarning("authWellKnownEndpoints is undefined"),null):null}},{key:"createUrlImplicitFlowAuthorize",value:function(e){var t=this.flowsDataService.getExistingOrCreateAuthStateControl(),n=this.flowsDataService.createNonce();this.loggerService.logDebug("Authorize created. adding myautostate: "+t);var r=this.getRedirectUrl();return r?this.storagePersistanceService.read("authWellKnownEndPoints")?this.createAuthorizeUrl("",r,n,t,null,e):(this.loggerService.logError("authWellKnownEndpoints is undefined"),null):null}},{key:"createUrlCodeFlowAuthorize",value:function(e){var t=this.flowsDataService.getExistingOrCreateAuthStateControl(),n=this.flowsDataService.createNonce();this.loggerService.logDebug("Authorize created. adding myautostate: "+t);var r=this.getRedirectUrl();if(!r)return null;var i=this.flowsDataService.createCodeVerifier(),o=this.tokenValidationService.generateCodeChallenge(i);return this.storagePersistanceService.read("authWellKnownEndPoints")?this.createAuthorizeUrl(o,r,n,t,null,e):(this.loggerService.logError("authWellKnownEndpoints is undefined"),null)}},{key:"getRedirectUrl",value:function(){var e,t=null===(e=this.configurationProvider.openIDConfiguration)||void 0===e?void 0:e.redirectUrl;return t||(this.loggerService.logError("could not get redirectUrl, was: ",t),null)}},{key:"getSilentRenewUrl",value:function(){var e,t=null===(e=this.configurationProvider.openIDConfiguration)||void 0===e?void 0:e.silentRenewUrl;return t||(this.loggerService.logError("could not get silentRenewUrl, was: ",t),null)}},{key:"getPostLogoutRedirectUrl",value:function(){var e,t=null===(e=this.configurationProvider.openIDConfiguration)||void 0===e?void 0:e.postLogoutRedirectUri;return t||(this.loggerService.logError("could not get postLogoutRedirectUri, was: ",t),null)}},{key:"getClientId",value:function(){var e,t=null===(e=this.configurationProvider.openIDConfiguration)||void 0===e?void 0:e.clientId;return t||(this.loggerService.logError("could not get clientId, was: ",t),null)}},{key:"composeCustomParams",value:function(e){for(var t="",n=0,r=Object.entries(e);n<r.length;n++){var i=a(r[n],2),o=i[0],s=i[1];t=t.concat("&".concat(o,"=").concat(s.toString()))}return t}}]),u}()).\u0275fac=function(e){return new(e||nm)(dr($m),dr(Zm),dr(sw),dr(aw),dr(nw),dr(ew))},nm.\u0275prov=Pe({token:nm,factory:nm.\u0275fac}),nm),hw=((tm=function(){function e(t,n,r,i,o,s,a){k(this,e),this.urlService=t,this.loggerService=n,this.tokenValidationService=r,this.flowsDataService=i,this.configurationProvider=o,this.storagePersistanceService=s,this.dataService=a}return _(e,[{key:"codeFlowCallback",value:function(e){var t=this.urlService.getUrlParameter(e,"code"),n=this.urlService.getUrlParameter(e,"state"),r=this.urlService.getUrlParameter(e,"session_state")||null;return n?t?(this.loggerService.logDebug("running validation for callback",e),mh({code:t,refreshToken:null,state:n,sessionState:r,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug("no code in url"),Id("no code in url")):(this.loggerService.logDebug("no state in url"),Id("no state in url"))}},{key:"codeFlowCodeRequest",value:function(e){var t,n=this,r=this.flowsDataService.getAuthStateControl();if(!this.tokenValidationService.validateStateFromHashCallback(e.state,r))return this.loggerService.logWarning("codeFlowCodeRequest incorrect state"),Id("codeFlowCodeRequest incorrect state");var i=this.storagePersistanceService.read("authWellKnownEndPoints"),o=null==i?void 0:i.tokenEndpoint;if(!o)return Id("Token Endpoint not defined");var s=new Eh;s=s.set("Content-Type","application/x-www-form-urlencoded");var a=this.urlService.createBodyForCodeFlowCodeRequest(e.code,null===(t=this.configurationProvider.openIDConfiguration)||void 0===t?void 0:t.customTokenParams);return this.dataService.post(o,a,s).pipe(Yd(function(t){var n=new Object;return(n=t).state=e.state,n.session_state=e.sessionState,e.authResult=n,mh(e)}),av(function(e){var t="OidcService code request ".concat(n.configurationProvider.openIDConfiguration.stsServer);return n.loggerService.logError(t,e),Id(t)}))}}]),e}()).\u0275fac=function(e){return new(e||tm)(dr(lw),dr(Zm),dr(nw),dr(sw),dr($m),dr(ew),dr(qm))},tm.\u0275prov=Pe({token:tm,factory:tm.\u0275fac}),tm),fw=function(e){return e.Authorized="Authorized",e.Unauthorized="Unauthorized",e.Unknown="Unknown",e}({}),dw=function(e){return e.NotSet="NotSet",e.StatesDoNotMatch="StatesDoNotMatch",e.SignatureFailed="SignatureFailed",e.IncorrectNonce="IncorrectNonce",e.RequiredPropertyMissing="RequiredPropertyMissing",e.MaxOffsetExpired="MaxOffsetExpired",e.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",e.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",e.IncorrectAud="IncorrectAud",e.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",e.IncorrectAzp="IncorrectAzp",e.TokenExpired="TokenExpired",e.IncorrectAtHash="IncorrectAtHash",e.Ok="Ok",e.LoginRequired="LoginRequired",e.SecureTokenServerError="SecureTokenServerError",e}({}),vw=((lm=function(){function e(t,n,r,i,o,s,a){k(this,e),this.oidcDataService=t,this.storagePersistanceService=n,this.eventService=r,this.loggerService=i,this.tokenHelperService=o,this.flowHelper=s,this.configurationProvider=a,this.userDataInternal$=new jd(null)}return _(e,[{key:"userData$",get:function(){return this.userDataInternal$.asObservable()}},{key:"getAndPersistUserDataInStore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;n=n||this.storagePersistanceService.getIdToken(),r=r||this.tokenHelperService.getPayloadFromToken(n,!1);var i=this.getUserDataFromStore(),o=!!i,s=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(),a=this.flowHelper.isCurrentFlowCodeFlow(),u=this.storagePersistanceService.getAccessToken();return s||a?t&&!this.configurationProvider.openIDConfiguration.renewUserInfoAfterTokenRenew&&o?mh(i):this.getUserDataOidcFlowAndSave(r.sub).pipe(Yd(function(t){return e.loggerService.logDebug("Received user data",t),t?(e.loggerService.logDebug("accessToken",u),mh(t)):Id("no user data, request failed")})):(this.loggerService.logDebug("authorizedCallback id_token flow"),this.loggerService.logDebug("accessToken",u),this.setUserDataToStore(r),mh(r))}},{key:"getUserDataFromStore",value:function(){return this.storagePersistanceService.read("userData")||null}},{key:"publishUserDataIfExists",value:function(){var e=this.getUserDataFromStore();e&&(this.userDataInternal$.next(e),this.eventService.fireEvent(Ym.UserDataChanged,e))}},{key:"setUserDataToStore",value:function(e){this.storagePersistanceService.write("userData",e),this.userDataInternal$.next(e),this.eventService.fireEvent(Ym.UserDataChanged,e)}},{key:"resetUserDataInStore",value:function(){this.storagePersistanceService.remove("userData"),this.eventService.fireEvent(Ym.UserDataChanged,null),this.userDataInternal$.next(null)}},{key:"getUserDataOidcFlowAndSave",value:function(e){var t=this;return this.getIdentityUserData().pipe(re(function(n){return t.validateUserDataSubIdToken(e,null==n?void 0:n.sub)?(t.setUserDataToStore(n),n):(t.loggerService.logWarning("authorizedCallback, User data sub does not match sub in id_token"),t.loggerService.logDebug("authorizedCallback, token(s) validation failed, resetting"),t.resetUserDataInStore(),null)}))}},{key:"getIdentityUserData",value:function(){var e=this.storagePersistanceService.getAccessToken(),t=this.storagePersistanceService.read("authWellKnownEndPoints");if(!t)return this.loggerService.logWarning("init check session: authWellKnownEndpoints is undefined"),Id("authWellKnownEndpoints is undefined");var n=t.userinfoEndpoint;return n?this.oidcDataService.get(n,e):(this.loggerService.logError("init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),Id("authWellKnownEndpoints.userinfo_endpoint is undefined"))}},{key:"validateUserDataSubIdToken",value:function(e,t){return!(!e||!t||e!==t&&(this.loggerService.logDebug("validateUserDataSubIdToken failed",e,t),1))}}]),e}()).\u0275fac=function(e){return new(e||lm)(dr(qm),dr(ew),dr(Xm),dr(Zm),dr(tw),dr(aw),dr($m))},lm.\u0275prov=Pe({token:lm,factory:lm.\u0275fac}),lm),pw=((cm=function(){function e(t,n,r){k(this,e),this.authStateService=t,this.flowsDataService=n,this.userService=r}return _(e,[{key:"resetAuthorizationData",value:function(){this.userService.resetUserDataInStore(),this.flowsDataService.resetStorageFlowData(),this.authStateService.setUnauthorizedAndFireEvent()}}]),e}()).\u0275fac=function(e){return new(e||cm)(dr(rw),dr(sw),dr(vw))},cm.\u0275prov=Pe({token:cm,factory:cm.\u0275fac}),cm),gw=((um=function(){function e(t,n,r){k(this,e),this.storagePersistanceService=t,this.loggerService=n,this.dataService=r}return _(e,[{key:"getSigningKeys",value:function(){var e=this.storagePersistanceService.read("authWellKnownEndPoints"),t=null==e?void 0:e.jwksUri;if(!t){var n="getSigningKeys: authWellKnownEndpoints.jwksUri is: '".concat(t,"'");return this.loggerService.logWarning(n),Id(n)}return this.loggerService.logDebug("Getting signinkeys from ",t),this.dataService.get(t).pipe(av(this.handleErrorGetSigningKeys))}},{key:"handleErrorGetSigningKeys",value:function(e){var t="";if(e instanceof Nh){var n=JSON.stringify(e.body||{}),r=e.status,i=e.statusText;t="".concat(r||""," - ").concat(i||""," ").concat(n||"")}else t=e.message||"".concat(e);return this.loggerService.logError(t),Id(new Error(t))}}]),e}()).\u0275fac=function(e){return new(e||um)(dr(ew),dr(Zm),dr(qm))},um.\u0275prov=Pe({token:um,factory:um.\u0275fac}),um),yw=((am=function(){function e(t,n,r,i,o,s,a){k(this,e),this.loggerService=t,this.configurationProvider=n,this.authStateService=r,this.flowsDataService=i,this.signInKeyDataService=o,this.storagePersistanceService=s,this.resetAuthDataService=a}return _(e,[{key:"callbackHistoryAndResetJwtKeys",value:function(e){var t=this;if(this.storagePersistanceService.write("authnResult",e.authResult),this.historyCleanUpTurnedOn()&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug("history clean up inactive"),e.authResult.error){var n="authorizedCallbackProcedure came with error: ".concat(e.authResult.error);return this.loggerService.logDebug(n),this.resetAuthDataService.resetAuthorizationData(),this.flowsDataService.setNonce(""),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess),Id(n)}return this.loggerService.logDebug(e.authResult),this.loggerService.logDebug("authorizedCallback created, begin token validation"),this.signInKeyDataService.getSigningKeys().pipe(Yd(function(n){return n?(e.jwtKeys=n,mh(e)):(t.loggerService.logWarning("Failed to retrieve signing key"),Id("Failed to retrieve signing key"))}),av(function(e){var n="Failed to retrieve signing key with error: ".concat(e);return t.loggerService.logWarning(n),Id(n)}))}},{key:"handleResultErrorFromCallback",value:function(e,t){var n=dw.SecureTokenServerError;"login_required"===e.error&&(n=dw.LoginRequired),this.authStateService.updateAndPublishAuthState({authorizationState:fw.Unauthorized,validationResult:n,isRenewProcess:t})}},{key:"historyCleanUpTurnedOn",value:function(){return!this.configurationProvider.openIDConfiguration.historyCleanupOff}},{key:"resetBrowserHistory",value:function(){window.history.replaceState({},window.document.title,window.location.origin+window.location.pathname)}}]),e}()).\u0275fac=function(e){return new(e||am)(dr(Zm),dr($m),dr(rw),dr(sw),dr(gw),dr(ew),dr(pw))},am.\u0275prov=Pe({token:am,factory:am.\u0275fac}),am),mw=((sm=function(){function e(t,n,r,i){k(this,e),this.resetAuthDataService=t,this.loggerService=n,this.flowsDataService=r,this.doc=i}return _(e,[{key:"implicitFlowCallback",value:function(e){var t=this.flowsDataService.isSilentRenewRunning();return this.loggerService.logDebug("BEGIN authorizedCallback, no auth data"),t||this.resetAuthDataService.resetAuthorizationData(),mh({code:null,refreshToken:null,state:null,sessionState:null,authResult:(e=e||this.doc.location.hash.substr(1)).split("&").reduce(function(e,t){var n=t.split("=");return e[n.shift()]=n.join("="),e},{}),isRenewProcess:t,jwtKeys:null,validationResult:null,existingIdToken:null})}}]),e}()).\u0275fac=function(e){return new(e||sm)(dr(pw),dr(Zm),dr(sw),dr(xu))},sm.\u0275prov=Pe({token:sm,factory:sm.\u0275fac}),sm),ww=((om=function(){function e(t,n,r){k(this,e),this.loggerService=t,this.authStateService=n,this.flowsDataService=r}return _(e,[{key:"refreshSessionWithRefreshTokens",value:function(){var e=this.flowsDataService.getExistingOrCreateAuthStateControl();this.loggerService.logDebug("RefreshSession created. adding myautostate: "+e);var t=this.authStateService.getRefreshToken(),n=this.authStateService.getIdToken();if(t){var r={code:null,refreshToken:t,state:e,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:n};return this.loggerService.logDebug("found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(nw.refreshTokenNoncePlaceholder),mh(r)}var i="no refresh token found, please login";return this.loggerService.logError(i),Id(i)}}]),e}()).\u0275fac=function(e){return new(e||om)(dr(Zm),dr(rw),dr(sw))},om.\u0275prov=Pe({token:om,factory:om.\u0275fac}),om),Sw=((im=function(){function e(t,n,r,i,o){k(this,e),this.urlService=t,this.loggerService=n,this.configurationProvider=r,this.dataService=i,this.storagePersistanceService=o}return _(e,[{key:"refreshTokensRequestTokens",value:function(e,t){var n=this,r=new Eh;r=r.set("Content-Type","application/x-www-form-urlencoded");var i=this.storagePersistanceService.read("authWellKnownEndPoints"),o=null==i?void 0:i.tokenEndpoint;if(!o)return Id("Token Endpoint not defined");var s=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,t);return this.dataService.post(o,s,r).pipe(Yd(function(t){n.loggerService.logDebug("token refresh response: ",t);var r=new Object;return(r=t).state=e.state,e.authResult=r,mh(e)}),av(function(e){var t="OidcService code request ".concat(n.configurationProvider.openIDConfiguration.stsServer);return n.loggerService.logError(t,e),Id(t)}))}}]),e}()).\u0275fac=function(e){return new(e||im)(dr(lw),dr(Zm),dr($m),dr(qm),dr(ew))},im.\u0275prov=Pe({token:im,factory:im.\u0275fac}),im),bw=((rm=function(){function e(){k(this,e)}return _(e,[{key:"isStringEqualOrNonOrderedArrayEqual",value:function(e,t){return!this.isNullOrUndefined(e)&&!this.isNullOrUndefined(t)&&!this.oneValueIsStringAndTheOtherIsArray(e,t)&&(this.bothValuesAreStrings(e,t)?e===t:!!this.bothValuesAreArrays(e,t)&&this.arraysHaveEqualContent(e,t))}},{key:"areEqual",value:function(e,t){if(!e||!t)return!1;if(this.bothValuesAreArrays(e,t))return this.arraysStrictEqual(e,t);if(this.bothValuesAreStrings(e,t))return e===t;if(this.bothValuesAreObjects(e,t))return JSON.stringify(e).toLowerCase()===JSON.stringify(t).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,t)){if(Array.isArray(e)&&this.valueIsString(t))return e[0]===t;if(Array.isArray(t)&&this.valueIsString(e))return t[0]===e}}},{key:"oneValueIsStringAndTheOtherIsArray",value:function(e,t){return Array.isArray(e)&&this.valueIsString(t)||Array.isArray(t)&&this.valueIsString(e)}},{key:"bothValuesAreObjects",value:function(e,t){return this.valueIsObject(e)&&this.valueIsObject(t)}},{key:"bothValuesAreStrings",value:function(e,t){return this.valueIsString(e)&&this.valueIsString(t)}},{key:"bothValuesAreArrays",value:function(e,t){return Array.isArray(e)&&Array.isArray(t)}},{key:"valueIsString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"valueIsObject",value:function(e){return"object"==typeof e}},{key:"arraysStrictEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}},{key:"arraysHaveEqualContent",value:function(e,t){return e.length===t.length&&e.some(function(e){return t.includes(e)})}},{key:"isNullOrUndefined",value:function(e){return null==e}}]),e}()).\u0275fac=function(e){return new(e||rm)},rm.\u0275prov=Pe({token:rm,factory:rm.\u0275fac}),rm),kw=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dw.NotSet;k(this,e),this.accessToken=t,this.idToken=n,this.authResponseIsValid=r,this.decodedIdToken=i,this.state=o},Cw=((Pm=function(){function e(t,n,r,i,o,s,a){k(this,e),this.storagePersistanceService=t,this.tokenValidationService=n,this.tokenHelperService=r,this.loggerService=i,this.configurationProvider=o,this.equalityService=s,this.flowHelper=a}return _(e,[{key:"getValidatedStateResult",value:function(e){return e?e.authResult.error?new kw("","",!1,{}):this.validateState(e):new kw("","",!1,{})}},{key:"validateState",value:function(e){var t=new kw,n=this.storagePersistanceService.read("authStateControl");if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult.state,n))return this.loggerService.logWarning("authorizedCallback incorrect state"),t.state=dw.StatesDoNotMatch,this.handleUnsuccessfulValidation(),t;var r=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(),i=this.flowHelper.isCurrentFlowCodeFlow();if((r||i)&&(t.accessToken=e.authResult.access_token),e.authResult.id_token){if(t.idToken=e.authResult.id_token,t.decodedIdToken=this.tokenHelperService.getPayloadFromToken(t.idToken,!1),!this.tokenValidationService.validateSignatureIdToken(t.idToken,e.jwtKeys))return this.loggerService.logDebug("authorizedCallback Signature validation failed id_token"),t.state=dw.SignatureFailed,this.handleUnsuccessfulValidation(),t;var o=this.storagePersistanceService.read("authNonce");if(!this.tokenValidationService.validateIdTokenNonce(t.decodedIdToken,o,this.configurationProvider.openIDConfiguration.ignoreNonceAfterRefresh))return this.loggerService.logWarning("authorizedCallback incorrect nonce"),t.state=dw.IncorrectNonce,this.handleUnsuccessfulValidation(),t;if(!this.tokenValidationService.validateRequiredIdToken(t.decodedIdToken))return this.loggerService.logDebug("authorizedCallback Validation, one of the REQUIRED properties missing from id_token"),t.state=dw.RequiredPropertyMissing,this.handleUnsuccessfulValidation(),t;if(!this.tokenValidationService.validateIdTokenIatMaxOffset(t.decodedIdToken,this.configurationProvider.openIDConfiguration.maxIdTokenIatOffsetAllowedInSeconds,this.configurationProvider.openIDConfiguration.disableIatOffsetValidation))return this.loggerService.logWarning("authorizedCallback Validation, iat rejected id_token was issued too far away from the current time"),t.state=dw.MaxOffsetExpired,this.handleUnsuccessfulValidation(),t;var s=this.storagePersistanceService.read("authWellKnownEndPoints");if(!s)return this.loggerService.logWarning("authWellKnownEndpoints is undefined"),t.state=dw.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(),t;if(this.configurationProvider.openIDConfiguration.issValidationOff)this.loggerService.logDebug("iss validation is turned off, this is not recommended!");else if(!this.configurationProvider.openIDConfiguration.issValidationOff&&!this.tokenValidationService.validateIdTokenIss(t.decodedIdToken,s.issuer))return this.loggerService.logWarning("authorizedCallback incorrect iss does not match authWellKnownEndpoints issuer"),t.state=dw.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(),t;if(!this.tokenValidationService.validateIdTokenAud(t.decodedIdToken,this.configurationProvider.openIDConfiguration.clientId))return this.loggerService.logWarning("authorizedCallback incorrect aud"),t.state=dw.IncorrectAud,this.handleUnsuccessfulValidation(),t;if(!this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(t.decodedIdToken))return this.loggerService.logWarning("authorizedCallback missing azp"),t.state=dw.IncorrectAzp,this.handleUnsuccessfulValidation(),t;if(!this.tokenValidationService.validateIdTokenAzpValid(t.decodedIdToken,this.configurationProvider.openIDConfiguration.clientId))return this.loggerService.logWarning("authorizedCallback incorrect azp"),t.state=dw.IncorrectAzp,this.handleUnsuccessfulValidation(),t;if(!this.isIdTokenAfterRefreshTokenRequestValid(e,t.decodedIdToken))return this.loggerService.logWarning("authorizedCallback pre, post id_token claims do not match in refresh"),t.state=dw.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(),t;if(!this.tokenValidationService.validateIdTokenExpNotExpired(t.decodedIdToken))return this.loggerService.logWarning("authorizedCallback id token expired"),t.state=dw.TokenExpired,this.handleUnsuccessfulValidation(),t}else this.loggerService.logDebug("No id_token found, skipping id_token validation");if(!r&&!i)return t.authResponseIsValid=!0,t.state=dw.Ok,this.handleSuccessfulValidation(),this.handleUnsuccessfulValidation(),t;if(e.authResult.id_token){var a=this.tokenHelperService.getHeaderFromToken(t.idToken,!1);if(i&&!t.decodedIdToken.at_hash)this.loggerService.logDebug("Code Flow active, and no at_hash in the id_token, skipping check!");else if(!this.tokenValidationService.validateIdTokenAtHash(t.accessToken,t.decodedIdToken.at_hash,a.alg)||!t.accessToken)return this.loggerService.logWarning("authorizedCallback incorrect at_hash"),t.state=dw.IncorrectAtHash,this.handleUnsuccessfulValidation(),t}return t.authResponseIsValid=!0,t.state=dw.Ok,this.handleSuccessfulValidation(),t}},{key:"isIdTokenAfterRefreshTokenRequestValid",value:function(e,t){if(!this.configurationProvider.openIDConfiguration.useRefreshToken)return!0;if(!e.existingIdToken)return!0;var n=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1);return n.iss!==t.iss?(this.loggerService.logDebug("iss do not match: ".concat(n.iss," ").concat(t.iss)),!1):n.azp!==t.azp?(this.loggerService.logDebug("azp do not match: ".concat(n.azp," ").concat(t.azp)),!1):n.sub!==t.sub?(this.loggerService.logDebug("sub do not match: ".concat(n.sub," ").concat(t.sub)),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(null==n?void 0:n.aud,null==t?void 0:t.aud)?!!this.configurationProvider.openIDConfiguration.disableRefreshIdTokenAuthTimeValidation||n.auth_time===t.auth_time||(this.loggerService.logDebug("auth_time do not match: ".concat(n.auth_time," ").concat(t.auth_time)),!1):(this.loggerService.logDebug("aud in new id_token is not valid: '".concat(null==n?void 0:n.aud,"' '").concat(t.aud,"'")),!1)}},{key:"handleSuccessfulValidation",value:function(){this.storagePersistanceService.write("authNonce",""),this.configurationProvider.openIDConfiguration.autoCleanStateAfterAuthentication&&this.storagePersistanceService.write("authStateControl",""),this.loggerService.logDebug("AuthorizedCallback token(s) validated, continue")}},{key:"handleUnsuccessfulValidation",value:function(){this.storagePersistanceService.write("authNonce",""),this.configurationProvider.openIDConfiguration.autoCleanStateAfterAuthentication&&this.storagePersistanceService.write("authStateControl",""),this.loggerService.logDebug("AuthorizedCallback token(s) invalid")}}]),e}()).\u0275fac=function(e){return new(e||Pm)(dr(ew),dr(nw),dr(tw),dr(Zm),dr($m),dr(bw),dr(aw))},Pm.\u0275prov=Pe({token:Pm,factory:Pm.\u0275fac}),Pm),_w=((Am=function(){function e(t,n,r,i,o){k(this,e),this.loggerService=t,this.stateValidationService=n,this.authStateService=r,this.resetAuthDataService=i,this.doc=o}return _(e,[{key:"callbackStateValidation",value:function(e){var t=this.stateValidationService.getValidatedStateResult(e);if(e.validationResult=t,t.authResponseIsValid)return this.authStateService.setAuthorizationData(t.accessToken,e.authResult),mh(e);var n="authorizedCallback, token(s) validation failed, resetting. Hash: ".concat(this.doc.location.hash);return this.loggerService.logWarning(n),this.resetAuthDataService.resetAuthorizationData(),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess),Id(n)}},{key:"publishUnauthorizedState",value:function(e,t){this.authStateService.updateAndPublishAuthState({authorizationState:fw.Unauthorized,validationResult:e.state,isRenewProcess:t})}}]),e}()).\u0275fac=function(e){return new(e||Am)(dr(Zm),dr(Cw),dr(rw),dr(pw),dr(xu))},Am.\u0275prov=Pe({token:Am,factory:Am.\u0275fac}),Am),Ew=((xm=function(){function e(t,n,r,i,o,s){k(this,e),this.loggerService=t,this.configurationProvider=n,this.authStateService=r,this.flowsDataService=i,this.userService=o,this.resetAuthDataService=s}return _(e,[{key:"callbackUser",value:function(e){var t=this,n=e.isRenewProcess,r=e.validationResult,i=e.authResult,o=e.refreshToken;return this.configurationProvider.openIDConfiguration.autoUserinfo?this.userService.getAndPersistUserDataInStore(n,r.idToken,r.decodedIdToken).pipe(Yd(function(s){if(s)return o||t.flowsDataService.setSessionState(i.session_state),t.publishAuthorizedState(r,n),mh(e);t.resetAuthDataService.resetAuthorizationData(),t.publishUnauthorizedState(r,n);var a="Called for userData but they were ".concat(s);return t.loggerService.logWarning(a),Id(a)}),av(function(e){var n="Failed to retrieve user info with error:  ".concat(e);return t.loggerService.logWarning(n),Id(n)})):(n&&!this.configurationProvider.openIDConfiguration.renewUserInfoAfterTokenRenew||r.decodedIdToken&&this.userService.setUserDataToStore(r.decodedIdToken),n||o||this.flowsDataService.setSessionState(i.session_state),this.publishAuthorizedState(r,n),mh(e))}},{key:"publishAuthorizedState",value:function(e,t){this.authStateService.updateAndPublishAuthState({authorizationState:fw.Authorized,validationResult:e.state,isRenewProcess:t})}},{key:"publishUnauthorizedState",value:function(e,t){this.authStateService.updateAndPublishAuthState({authorizationState:fw.Unauthorized,validationResult:e.state,isRenewProcess:t})}}]),e}()).\u0275fac=function(e){return new(e||xm)(dr(Zm),dr($m),dr(rw),dr(sw),dr(vw),dr(pw))},xm.\u0275prov=Pe({token:xm,factory:xm.\u0275fac}),xm),Fw=((Fm=function(){function e(t,n,r,i,o,s,a){k(this,e),this.codeFlowCallbackHandlerService=t,this.implicitFlowCallbackHandlerService=n,this.historyJwtKeysCallbackHandlerService=r,this.userHandlerService=i,this.stateValidationCallbackHandlerService=o,this.refreshSessionCallbackHandlerService=s,this.refreshTokenCallbackHandlerService=a}return _(e,[{key:"processCodeFlowCallback",value:function(e){var t=this;return this.codeFlowCallbackHandlerService.codeFlowCallback(e).pipe(Yd(function(e){return t.codeFlowCallbackHandlerService.codeFlowCodeRequest(e)}),Yd(function(e){return t.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(e)}),Yd(function(e){return t.stateValidationCallbackHandlerService.callbackStateValidation(e)}),Yd(function(e){return t.userHandlerService.callbackUser(e)}))}},{key:"processSilentRenewCodeFlowCallback",value:function(e){var t=this;return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e).pipe(Yd(function(e){return t.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(e)}),Yd(function(e){return t.stateValidationCallbackHandlerService.callbackStateValidation(e)}),Yd(function(e){return t.userHandlerService.callbackUser(e)}))}},{key:"processImplicitFlowCallback",value:function(e){var t=this;return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e).pipe(Yd(function(e){return t.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(e)}),Yd(function(e){return t.stateValidationCallbackHandlerService.callbackStateValidation(e)}),Yd(function(e){return t.userHandlerService.callbackUser(e)}))}},{key:"processRefreshToken",value:function(e){var t=this;return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens().pipe(Yd(function(n){return t.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(n,e)}),Yd(function(e){return t.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(e)}),Yd(function(e){return t.stateValidationCallbackHandlerService.callbackStateValidation(e)}),Yd(function(e){return t.userHandlerService.callbackUser(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Fm)(dr(hw),dr(mw),dr(yw),dr(Ew),dr(_w),dr(ww),dr(Sw))},Fm.\u0275prov=Pe({token:Fm,factory:Fm.\u0275fac}),Fm),xw=((Em=function(){function e(t){k(this,e),this.zone=t,this.runTokenValidationRunning=null}return _(e,[{key:"stopPeriodicallTokenCheck",value:function(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}},{key:"startPeriodicTokenCheck",value:function(e){var t=this,n=1e3*e;return new U(function(e){var r;return t.zone.runOutsideAngular(function(){r=setInterval(function(){return e.next()},n)}),function(){clearInterval(r)}})}}]),e}()).\u0275fac=function(e){return new(e||Em)(dr(Ga))},Em.\u0275prov=Pe({factory:function(){return new Em(dr(Ga))},token:Em,providedIn:"root"}),Em),Aw=((_m=function(){function e(t,n,r,i,o){k(this,e),this.flowsService=t,this.configurationProvider=n,this.router=r,this.flowsDataService=i,this.intervalService=o}return _(e,[{key:"authorizedImplicitFlowCallback",value:function(e){var t=this,n=this.flowsDataService.isSilentRenewRunning();return this.flowsService.processImplicitFlowCallback(e).pipe(kv(function(e){t.configurationProvider.openIDConfiguration.triggerAuthorizationResultEvent||e.isRenewProcess||t.router.navigate([t.configurationProvider.openIDConfiguration.postLoginRoute])}),av(function(e){return t.flowsDataService.resetSilentRenewRunning(),t.intervalService.stopPeriodicallTokenCheck(),t.configurationProvider.openIDConfiguration.triggerAuthorizationResultEvent||n||t.router.navigate([t.configurationProvider.openIDConfiguration.unauthorizedRoute]),Id(e)}))}}]),e}()).\u0275fac=function(e){return new(e||_m)(dr(Fw),dr($m),dr(ey),dr(sw),dr(xw))},_m.\u0275prov=Pe({factory:function(){return new _m(dr(Fw),dr($m),dr(ey),dr(sw),dr(xw))},token:_m,providedIn:"root"}),_m),Pw=((Cm=function(){function e(t,n,r,i,o){k(this,e),this.flowsService=t,this.flowsDataService=n,this.intervallService=r,this.configurationProvider=i,this.router=o}return _(e,[{key:"authorizedCallbackWithCode",value:function(e){var t=this,n=this.flowsDataService.isSilentRenewRunning();return this.flowsService.processCodeFlowCallback(e).pipe(kv(function(e){t.configurationProvider.openIDConfiguration.triggerAuthorizationResultEvent||e.isRenewProcess||t.router.navigate([t.configurationProvider.openIDConfiguration.postLoginRoute])}),av(function(e){return t.flowsDataService.resetSilentRenewRunning(),t.intervallService.stopPeriodicallTokenCheck(),t.configurationProvider.openIDConfiguration.triggerAuthorizationResultEvent||n||t.router.navigate([t.configurationProvider.openIDConfiguration.unauthorizedRoute]),Id(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Cm)(dr(Fw),dr(sw),dr(xw),dr($m),dr(ey))},Cm.\u0275prov=Pe({factory:function(){return new Cm(dr(Fw),dr(sw),dr(xw),dr($m),dr(ey))},token:Cm,providedIn:"root"}),Cm),Tw=((km=function(){function e(t,n,r,i){k(this,e),this.urlService=t,this.flowHelper=n,this.implicitFlowCallbackService=r,this.codeFlowCallbackService=i,this.stsCallbackInternal$=new W}return _(e,[{key:"stsCallback$",get:function(){return this.stsCallbackInternal$.asObservable()}},{key:"isCallback",value:function(e){return this.urlService.isCallbackFromSts(e)}},{key:"handleCallbackAndFireEvents",value:function(e){var t,n=this;return this.flowHelper.isCurrentFlowCodeFlow()?t=this.codeFlowCallbackService.authorizedCallbackWithCode(e):this.flowHelper.isCurrentFlowAnyImplicitFlow()&&(t=this.implicitFlowCallbackService.authorizedImplicitFlowCallback()),t.pipe(kv(function(){return n.stsCallbackInternal$.next()}))}}]),e}()).\u0275fac=function(e){return new(e||km)(dr(lw),dr(aw),dr(Aw),dr(Pw))},km.\u0275prov=Pe({factory:function(){return new km(dr(lw),dr(aw),dr(Aw),dr(Pw))},token:km,providedIn:"root"}),km),Iw=((bm=function(){function e(t,n){k(this,e),this.doc=t,this.loggerService=n}return _(e,[{key:"getExistingIFrame",value:function(e){var t=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(t))return t;var n=this.getIFrameFromWindow(e);return this.isIFrameElement(n)?n:null}},{key:"addIFrameToWindowBody",value:function(e){var t=this.doc.createElement("iframe");return t.id=e,t.title=e,this.loggerService.logDebug(t),t.style.display="none",this.doc.body.appendChild(t),t}},{key:"getIFrameFromParentWindow",value:function(e){try{var t=this.doc.defaultView.parent.document.getElementById(e);return this.isIFrameElement(t)?t:null}catch(n){return null}}},{key:"getIFrameFromWindow",value:function(e){var t=this.doc.getElementById(e);return this.isIFrameElement(t)?t:null}},{key:"isIFrameElement",value:function(e){return!!e&&e instanceof HTMLIFrameElement}}]),e}()).\u0275fac=function(e){return new(e||bm)(dr(xu),dr(Zm))},bm.\u0275prov=Pe({token:bm,factory:bm.\u0275fac}),bm),Rw=((Sm=function(){function e(t,n,r,i,o,s,a,u,c,l){k(this,e),this.configurationProvider=t,this.iFrameService=n,this.flowsService=r,this.resetAuthDataService=i,this.flowsDataService=o,this.authStateService=s,this.loggerService=a,this.flowHelper=u,this.implicitFlowCallbackService=c,this.intervalService=l,this.refreshSessionWithIFrameCompletedInternal$=new W}return _(e,[{key:"refreshSessionWithIFrameCompleted$",get:function(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}},{key:"getOrCreateIframe",value:function(){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody("myiFrameForSilentRenew")}},{key:"isSilentRenewConfigured",value:function(){return!this.configurationProvider.openIDConfiguration.useRefreshToken&&this.configurationProvider.openIDConfiguration.silentRenew}},{key:"codeFlowCallbackSilentRenewIframe",value:function(e){var t=this,n=new Ah({fromString:e[1]}),r=n.get("error");if(r)return this.authStateService.updateAndPublishAuthState({authorizationState:fw.Unauthorized,validationResult:dw.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(),this.flowsDataService.setNonce(""),this.intervalService.stopPeriodicallTokenCheck(),Id(r);var i=n.get("code"),o=n.get("state"),s=n.get("session_state");return this.flowsService.processSilentRenewCodeFlowCallback({code:i,refreshToken:null,state:o,sessionState:s,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null}).pipe(av(function(e){return t.intervalService.stopPeriodicallTokenCheck(),t.resetAuthDataService.resetAuthorizationData(),Id(e)}))}},{key:"silentRenewEventHandler",value:function(e){var t=this;if(this.loggerService.logDebug("silentRenewEventHandler"),e.detail){var n=mh(null);if(this.flowHelper.isCurrentFlowCodeFlow()){var r=e.detail.toString().split("?");n=this.codeFlowCallbackSilentRenewIframe(r)}else n=this.implicitFlowCallbackService.authorizedImplicitFlowCallback(e.detail);n.subscribe(function(e){t.refreshSessionWithIFrameCompletedInternal$.next(e),t.flowsDataService.resetSilentRenewRunning()},function(e){t.loggerService.logError("Error: "+e),t.refreshSessionWithIFrameCompletedInternal$.next(null),t.flowsDataService.resetSilentRenewRunning()})}}},{key:"getExistingIframe",value:function(){return this.iFrameService.getExistingIFrame("myiFrameForSilentRenew")}}]),e}()).\u0275fac=function(e){return new(e||Sm)(dr($m),dr(Iw),dr(Fw),dr(pw),dr(sw),dr(rw),dr(Zm),dr(aw),dr(Aw),dr(xw))},Sm.\u0275prov=Pe({token:Sm,factory:Sm.\u0275fac}),Sm),Dw=((wm=function(){function e(t,n,r,i,o){k(this,e),this.doc=t,this.loggerService=n,this.urlService=r,this.silentRenewService=i,this.renderer=o.createRenderer(null,null)}return _(e,[{key:"refreshSessionWithIframe",value:function(e){this.loggerService.logDebug("BEGIN refresh session Authorize Iframe renew");var t=this.urlService.getRefreshSessionSilentRenewUrl(e);return this.sendAuthorizeReqestUsingSilentRenew(t)}},{key:"sendAuthorizeReqestUsingSilentRenew",value:function(e){var t=this,n=this.silentRenewService.getOrCreateIframe();return this.initSilentRenewRequest(),this.loggerService.logDebug("sendAuthorizeReqestUsingSilentRenew for URL:"+e),new U(function(r){n.addEventListener("load",function e(){n.removeEventListener("load",e),t.loggerService.logDebug("removed event listener from IFrame"),r.next(!0),r.complete()}),n.contentWindow.location.replace(e)})}},{key:"initSilentRenewRequest",value:function(){var e=this,t=Math.random(),n=this.renderer.listen("window","oidc-silent-renew-init",function(e){e.detail!==t&&(n(),r())}),r=this.renderer.listen("window","oidc-silent-renew-message",function(t){return e.silentRenewService.silentRenewEventHandler(t)});this.doc.defaultView.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:t}))}}]),e}()).\u0275fac=function(e){return new(e||wm)(dr(xu),dr(Zm),dr(lw),dr(Rw),dr(As))},wm.\u0275prov=Pe({factory:function(){return new wm(dr(xu),dr(Zm),dr(lw),dr(Rw),dr(As))},token:wm,providedIn:"root"}),wm),Ow=((mm=function(){function e(t,n,r,i){k(this,e),this.loggerService=t,this.resetAuthDataService=n,this.flowsService=r,this.intervalService=i}return _(e,[{key:"refreshSessionWithRefreshTokens",value:function(e){var t=this;return this.loggerService.logDebug("BEGIN refresh session Authorize"),this.flowsService.processRefreshToken(e).pipe(av(function(e){return t.intervalService.stopPeriodicallTokenCheck(),t.resetAuthDataService.resetAuthorizationData(),Id(e)}))}}]),e}()).\u0275fac=function(e){return new(e||mm)(dr(Zm),dr(pw),dr(Fw),dr(xw))},mm.\u0275prov=Pe({factory:function(){return new mm(dr(Zm),dr(pw),dr(Fw),dr(xw))},token:mm,providedIn:"root"}),mm),Mw=((ym=function(){function e(t,n,r,i,o,s,a,u,c,l,h){k(this,e),this.resetAuthDataService=t,this.flowHelper=n,this.configurationProvider=r,this.flowsDataService=i,this.loggerService=o,this.userService=s,this.authStateService=a,this.refreshSessionIframeService=u,this.refreshSessionRefreshTokenService=c,this.intervalService=l,this.storagePersistanceService=h}return _(e,[{key:"startTokenValidationPeriodically",value:function(e){var t=this;if(!this.intervalService.runTokenValidationRunning&&this.configurationProvider.openIDConfiguration.silentRenew){this.loggerService.logDebug("starting token validation check every ".concat(e,"s"));var n=this.intervalService.startPeriodicTokenCheck(e).pipe(Yd(function(){var e=t.authStateService.getIdToken(),n=t.flowsDataService.isSilentRenewRunning(),r=t.userService.getUserDataFromStore();if(t.loggerService.logDebug("Checking: silentRenewRunning: ".concat(n," id_token: ").concat(!!e," userData: ").concat(!!r)),!r||n||!e)return mh(null);var i=t.authStateService.hasIdTokenExpired(),o=t.authStateService.hasAccessTokenExpiredIfExpiryExists();if(!i&&!o)return mh(null);if(!t.configurationProvider.openIDConfiguration.silentRenew)return t.resetAuthDataService.resetAuthorizationData(),mh(null);t.loggerService.logDebug("starting silent renew..."),t.flowsDataService.setSilentRenewRunning();var s=t.storagePersistanceService.read("storageCustomRequestParams");return t.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens()?t.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(s):t.refreshSessionIframeService.refreshSessionWithIframe(s)}));this.intervalService.runTokenValidationRunning=n.pipe(av(function(){return t.flowsDataService.resetSilentRenewRunning(),Id("periodically check failed")})).subscribe(function(){t.loggerService.logDebug("silent renew, periodic check finished!"),t.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens()&&t.flowsDataService.resetSilentRenewRunning()},function(e){t.loggerService.logError("silent renew failed!",e)})}}}]),e}()).\u0275fac=function(e){return new(e||ym)(dr(pw),dr(aw),dr($m),dr(sw),dr(Zm),dr(vw),dr(rw),dr(Dw),dr(Ow),dr(xw),dr(ew))},ym.\u0275prov=Pe({factory:function(){return new ym(dr(pw),dr(aw),dr($m),dr(sw),dr(Zm),dr(vw),dr(rw),dr(Dw),dr(Ow),dr(xw),dr(ew))},token:ym,providedIn:"root"}),ym),Nw=((gm=function(){function e(t){k(this,e),this.http=t}return _(e,[{key:"getWellKnownEndPointsFromUrl",value:function(e){return this.getWellKnownDocument(e).pipe(re(function(e){return{issuer:e.issuer,jwksUri:e.jwks_uri,authorizationEndpoint:e.authorization_endpoint,tokenEndpoint:e.token_endpoint,userinfoEndpoint:e.userinfo_endpoint,endSessionEndpoint:e.end_session_endpoint,checkSessionIframe:e.check_session_iframe,revocationEndpoint:e.revocation_endpoint,introspectionEndpoint:e.introspection_endpoint,parEndpoint:e.pushed_authorization_request_endpoint}}))}},{key:"getWellKnownDocument",value:function(e){var t=e;return e.includes("/.well-known/openid-configuration")||(t="".concat(e,"/.well-known/openid-configuration")),this.http.get(t)}}]),e}()).\u0275fac=function(e){return new(e||gm)(dr(qm))},gm.\u0275prov=Pe({token:gm,factory:gm.\u0275fac}),gm),Hw=((pm=function(){function e(t,n,r){k(this,e),this.publicEventsService=t,this.dataService=n,this.storagePersistanceService=r}return _(e,[{key:"getAuthWellKnownEndPoints",value:function(e){var t=this,n=this.storagePersistanceService.read("authWellKnownEndPoints");return n?mh(n):this.getWellKnownEndPointsFromUrl(e).pipe(kv(function(e){return t.storeWellKnownEndpoints(e)}),av(function(e){return t.publicEventsService.fireEvent(Ym.ConfigLoadingFailed,null),Id(e)}))}},{key:"storeWellKnownEndpoints",value:function(e){this.storagePersistanceService.write("authWellKnownEndPoints",e)}},{key:"getWellKnownEndPointsFromUrl",value:function(e){return this.dataService.getWellKnownEndPointsFromUrl(e)}}]),e}()).\u0275fac=function(e){return new(e||pm)(dr(Xm),dr(Nw),dr(ew))},pm.\u0275prov=Pe({token:pm,factory:pm.\u0275fac}),pm),Vw=((vm=function(){function e(t,n,r,i,o,s,a,u,c){k(this,e),this.flowHelper=t,this.configurationProvider=n,this.flowsDataService=r,this.loggerService=i,this.silentRenewService=o,this.authStateService=s,this.authWellKnownService=a,this.refreshSessionIframeService=u,this.refreshSessionRefreshTokenService=c}return _(e,[{key:"forceRefreshSession",value:function(e){var t,n=this;return this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens()?this.startRefreshSession(e).pipe(re(function(){return n.authStateService.areAuthStorageTokensValid()?{idToken:n.authStateService.getIdToken(),accessToken:n.authStateService.getAccessToken()}:null})):tl([this.startRefreshSession(e),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(tv(1))]).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bd;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bd;return function(r){var i,o=(i=e)instanceof Date&&!isNaN(+i),s=o?+e-n.now():Math.abs(e);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */return r.lift(new ky(s,o,t,n))}}(e,Id(new Ud),t)}(1e3*this.configurationProvider.openIDConfiguration.silentRenewTimeoutInSeconds),(t=this.timeoutRetryStrategy.bind(this),function(e){return e.lift(new _y(t,e))}),re(function(e){var t,r,i=a(e,2),o=(i[0],i[1]);return n.authStateService.areAuthStorageTokensValid()?{idToken:null===(t=null==o?void 0:o.authResult)||void 0===t?void 0:t.id_token,accessToken:null===(r=null==o?void 0:o.authResult)||void 0===r?void 0:r.access_token}:null}))}},{key:"startRefreshSession",value:function(e){var t,n=this,r=this.flowsDataService.isSilentRenewRunning();if(this.loggerService.logDebug("Checking: silentRenewRunning: ".concat(r)),r)return mh(null);var i=null===(t=this.configurationProvider.openIDConfiguration)||void 0===t?void 0:t.authWellknownEndpoint;return i?this.authWellKnownService.getAuthWellKnownEndPoints(i).pipe(Yd(function(){return n.flowsDataService.setSilentRenewRunning(),n.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens()?n.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e):n.refreshSessionIframeService.refreshSessionWithIframe(e)})):(this.loggerService.logError("no authwellknownendpoint given!"),mh(null))}},{key:"timeoutRetryStrategy",value:function(e){var t=this;return e.pipe(ue(function(e,n){var r=n+1;return!(e instanceof Ud)||r>3?Id(e):(t.loggerService.logDebug("forceRefreshSession timeout. Attempt #".concat(r)),t.flowsDataService.resetSilentRenewRunning(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Ld(t)?r=Number(t)<1?1:Number(t):J(t)&&(n=t),J(n)||(n=Bd),new U(function(t){var i=Ld(e)?e:+e-n.now();return n.schedule(Kd,i,{index:0,period:r,subscriber:t})})}(1e3*r))}))}}]),e}()).\u0275fac=function(e){return new(e||vm)(dr(aw),dr($m),dr(sw),dr(Zm),dr(Rw),dr(rw),dr(Hw),dr(Dw),dr(Ow))},vm.\u0275prov=Pe({factory:function(){return new vm(dr(aw),dr($m),dr(sw),dr(Zm),dr(Rw),dr(rw),dr(Hw),dr(Dw),dr(Ow))},token:vm,providedIn:"root"}),vm),jw=((dm=function(){function e(t,n,r,i,o,s){k(this,e),this.storagePersistanceService=t,this.loggerService=n,this.iFrameService=r,this.eventService=i,this.configurationProvider=o,this.zone=s,this.checkSessionReceived=!1,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new jd(!1)}return _(e,[{key:"checkSessionChanged$",get:function(){return this.checkSessionChangedInternal$.asObservable()}},{key:"isCheckSessionConfigured",value:function(){return this.configurationProvider.openIDConfiguration.startCheckSession}},{key:"start",value:function(){this.scheduledHeartBeatRunning||this.pollServerSession(this.configurationProvider.openIDConfiguration.clientId)}},{key:"stop",value:function(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}},{key:"serverStateChanged",value:function(){return this.configurationProvider.openIDConfiguration.startCheckSession&&this.checkSessionReceived}},{key:"getExistingIframe",value:function(){return this.iFrameService.getExistingIFrame("myiFrameForCheckSession")}},{key:"init",value:function(){var e=this;if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return mh(void 0);var t=this.storagePersistanceService.read("authWellKnownEndPoints");if(!t)return this.loggerService.logWarning("init check session: authWellKnownEndpoints is undefined. Returning."),mh();var n=this.getOrCreateIframe(),r=t.checkSessionIframe;return r?n.contentWindow.location.replace(r):this.loggerService.logWarning("init check session: checkSessionIframe is not configured to run"),new U(function(t){n.onload=function(){e.lastIFrameRefresh=Date.now(),t.next(),t.complete()}})}},{key:"pollServerSession",value:function(e){var t=this;this.outstandingMessages=0,function n(){t.init().pipe(tv(1)).subscribe(function(){var r,i=t.getExistingIframe();if(i&&e){t.loggerService.logDebug(i);var o=t.storagePersistanceService.read("session_state"),s=t.storagePersistanceService.read("authWellKnownEndPoints");if(o&&(null==s?void 0:s.checkSessionIframe)){var a=null===(r=new URL(s.checkSessionIframe))||void 0===r?void 0:r.origin;t.outstandingMessages++,i.contentWindow.postMessage(e+" "+o,a)}else t.loggerService.logDebug("OidcSecurityCheckSession pollServerSession session_state is '".concat(o,"'")),t.loggerService.logDebug("AuthWellKnownEndPoints is '".concat(JSON.stringify(s),"'")),t.checkSessionChangedInternal$.next(!0)}else t.loggerService.logWarning("OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist"),t.loggerService.logDebug(e),t.loggerService.logDebug(i);t.outstandingMessages>3&&t.loggerService.logError("OidcSecurityCheckSession not receiving check session response messages.\n                            Outstanding messages: ".concat(t.outstandingMessages,". Server unreachable?")),t.zone.runOutsideAngular(function(){t.scheduledHeartBeatRunning=setTimeout(function(){return t.zone.run(n)},t.heartBeatInterval)})})}()}},{key:"clearScheduledHeartBeat",value:function(){clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null}},{key:"messageHandler",value:function(e){var t,n=this.getExistingIframe(),r=this.storagePersistanceService.read("authWellKnownEndPoints"),i=!!(null===(t=null==r?void 0:r.checkSessionIframe)||void 0===t?void 0:t.startsWith(e.origin));this.outstandingMessages=0,n&&i&&e.source===n.contentWindow&&("error"===e.data?this.loggerService.logWarning("error from checksession messageHandler"):"changed"===e.data?(this.loggerService.logDebug(e),this.checkSessionReceived=!0,this.eventService.fireEvent(Ym.CheckSessionReceived,e.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(Ym.CheckSessionReceived,e.data),this.loggerService.logDebug(e.data+" from checksession messageHandler")))}},{key:"bindMessageEventToIframe",value:function(){var e=this.messageHandler.bind(this);window.addEventListener("message",e,!1)}},{key:"getOrCreateIframe",value:function(){var e=this.getExistingIframe();if(!e){var t=this.iFrameService.addIFrameToWindowBody("myiFrameForCheckSession");return this.bindMessageEventToIframe(),t}return e}}]),e}()).\u0275fac=function(e){return new(e||dm)(dr(ew),dr(Zm),dr(Iw),dr(Xm),dr($m),dr(Ga))},dm.\u0275prov=Pe({token:dm,factory:dm.\u0275fac}),dm),Uw=((fm=function(){function e(){k(this,e),this.STORAGE_IDENTIFIER="popupauth",this.receivedUrlInternal$=new W}return _(e,[{key:"receivedUrl$",get:function(){return this.receivedUrlInternal$.asObservable()}},{key:"isCurrentlyInPopup",value:function(){var e=sessionStorage.getItem(this.STORAGE_IDENTIFIER);return!!window.opener&&window.opener!==window&&!!e}},{key:"openPopUp",value:function(e,t){var n=this,r=this.getOptions(t);this.popUp=window.open(e,"_blank",r),this.popUp.sessionStorage.setItem(this.STORAGE_IDENTIFIER,"true"),window.addEventListener("message",function e(t){(null==t?void 0:t.data)&&"string"==typeof t.data&&(n.receivedUrlInternal$.next(t.data),n.cleanUp(e))},!1)}},{key:"sendMessageToMainWindow",value:function(e){window.opener&&this.sendMessage(e,window.location.href)}},{key:"cleanUp",value:function(e){window.removeEventListener("message",e,!1),this.popUp&&(this.popUp.sessionStorage.removeItem(this.STORAGE_IDENTIFIER),this.popUp.close(),this.popUp=null)}},{key:"sendMessage",value:function(e,t){window.opener.postMessage(e,t)}},{key:"getOptions",value:function(e){var t=Object.assign(Object.assign({},{width:500,height:500,left:50,top:50}),e||{});return Object.entries(t).map(function(e){var t=a(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(",")}}]),e}()).\u0275fac=function(e){return new(e||fm)},fm.\u0275prov=Pe({factory:function(){return new fm},token:fm,providedIn:"root"}),fm),Bw=((hm=function(){function e(t,n,r,i,o,s,a,u,c,l,h,f,d){k(this,e),this.doc=t,this.checkSessionService=n,this.silentRenewService=r,this.userService=i,this.loggerService=o,this.configurationProvider=s,this.authStateService=a,this.callbackService=u,this.refreshSessionService=c,this.periodicallyTokenCheckService=l,this.popupService=h,this.autoLoginService=f,this.router=d}return _(e,[{key:"checkAuth",value:function(e){var t=this;if(!this.configurationProvider.hasValidConfig())return this.loggerService.logError("Please provide a configuration before setting up the module"),mh(!1);this.loggerService.logDebug("STS server: "+this.configurationProvider.openIDConfiguration.stsServer);var n=e||this.doc.defaultView.location.toString();if(this.popupService.isCurrentlyInPopup())return this.popupService.sendMessageToMainWindow(n),mh(null);var r=this.callbackService.isCallback(n);return this.loggerService.logDebug("currentUrl to check auth with: ",n),(r?this.callbackService.handleCallbackAndFireEvents(n):mh(null)).pipe(re(function(){var e=t.authStateService.areAuthStorageTokensValid();return e&&(t.startCheckSessionAndValidation(),r||(t.authStateService.setAuthorizedAndFireEvent(),t.userService.publishUserDataIfExists())),t.loggerService.logDebug("checkAuth completed fired events, auth: "+e),e}),kv(function(){var e=t.autoLoginService.getStoredRedirectRoute();e&&(t.autoLoginService.deleteStoredRedirectRoute(),t.router.navigate([e]))}),av(function(e){return t.loggerService.logError(e),mh(!1)}))}},{key:"checkAuthIncludingServer",value:function(){var e=this;return this.checkAuth().pipe(Yd(function(t){return t?mh(t):e.refreshSessionService.forceRefreshSession().pipe(re(function(e){return!!(null==e?void 0:e.idToken)&&!!(null==e?void 0:e.accessToken)}),Yd(function(t){return t&&e.startCheckSessionAndValidation(),mh(t)}))}))}},{key:"startCheckSessionAndValidation",value:function(){this.checkSessionService.isCheckSessionConfigured()&&this.checkSessionService.start(),this.periodicallyTokenCheckService.startTokenValidationPeriodically(this.configurationProvider.openIDConfiguration.tokenRefreshInSeconds),this.silentRenewService.isSilentRenewConfigured()&&this.silentRenewService.getOrCreateIframe()}}]),e}()).\u0275fac=function(e){return new(e||hm)(dr(xu),dr(jw),dr(Rw),dr(vw),dr(Zm),dr($m),dr(rw),dr(Tw),dr(Vw),dr(Mw),dr(Uw),dr(iw),dr(ey))},hm.\u0275prov=Pe({token:hm,factory:hm.\u0275fac}),hm),Lw={result:!0,messages:[],level:null},Kw=[function(e){return e.stsServer?Lw:{result:!1,messages:["The STS URL MUST be provided in the configuration!"],level:"error"}},function(e){var t=e.useRefreshToken,n=e.silentRenew,r=(e.scope||"").split(" ").includes("offline_access");return t&&n&&!r?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:Lw},function(e){return e.redirectUrl?Lw:{result:!1,messages:["The redirectURL is required and missing from your config"],level:"error"}},function(e){return e.clientId?Lw:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"}},function(e){return!e.silentRenew||e.useRefreshToken||e.silentRenewUrl?Lw:{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}}],zw=((Km=function(){function e(t){k(this,e),this.loggerService=t}return _(e,[{key:"validateConfig",value:function(e){var t=this,n=Kw.map(function(t){return t(e)}).filter(function(e){return e.messages.length>0}),r=this.getAllMessagesOfType("error",n),i=this.getAllMessagesOfType("warning",n);return r.map(function(e){return t.loggerService.logError(e)}),i.map(function(e){return t.loggerService.logWarning(e)}),0===r.length}},{key:"getAllMessagesOfType",value:function(e,t){return t.filter(function(t){return t.level===e}).map(function(e){return e.messages}).reduce(function(e,t){return e.concat(t)},[])}}]),e}()).\u0275fac=function(e){return new(e||Km)(dr(Zm))},Km.\u0275prov=Pe({token:Km,factory:Km.\u0275fac}),Km),qw=((Lm=function(){function e(t,n,r,i,o,s){k(this,e),this.loggerService=t,this.publicEventsService=n,this.configurationProvider=r,this.authWellKnownService=i,this.storagePersistanceService=o,this.configValidationService=s}return _(e,[{key:"withConfig",value:function(e,t){var n=this;return new Promise(function(r,i){n.configValidationService.validateConfig(e)||(n.loggerService.logError("Validation of config rejected with errors. Config is NOT set."),r()),e.authWellknownEndpoint||(e.authWellknownEndpoint=e.stsServer);var o=n.configurationProvider.setConfig(e),s=n.storagePersistanceService.read("authWellKnownEndPoints");s&&(n.publicEventsService.fireEvent(Ym.ConfigLoaded,{configuration:e,wellknown:s}),r()),t&&(n.authWellKnownService.storeWellKnownEndpoints(t),n.publicEventsService.fireEvent(Ym.ConfigLoaded,{configuration:e,wellknown:t}),r()),o.eagerLoadAuthWellKnownEndpoints?n.authWellKnownService.getAuthWellKnownEndPoints(o.authWellknownEndpoint).pipe(av(function(e){return n.loggerService.logError("Getting auth well known endpoints failed on start",e),Id(e)}),kv(function(t){return n.publicEventsService.fireEvent(Ym.ConfigLoaded,{configuration:e,wellknown:t})})).subscribe(function(){return r()},function(){return i()}):(n.publicEventsService.fireEvent(Ym.ConfigLoaded,{configuration:e,wellknown:null}),r())})}}]),e}()).\u0275fac=function(e){return new(e||Lm)(dr(Zm),dr(Xm),dr($m),dr(Hw),dr(ew),dr(zw))},Lm.\u0275prov=Pe({token:Lm,factory:Lm.\u0275fac}),Lm),Ww=((Bm=function(){function e(t){k(this,e),this.doc=t}return _(e,[{key:"redirectTo",value:function(e){this.doc.location.href=e}}]),e}()).\u0275fac=function(e){return new(e||Bm)(dr(xu))},Bm.\u0275prov=Pe({factory:function(){return new Bm(dr(xu))},token:Bm,providedIn:"root"}),Bm),Gw=((Um=function(){function e(t,n){k(this,e),this.loggerService=t,this.flowHelper=n}return _(e,[{key:"hasConfigValidResponseType",value:function(){return!!this.flowHelper.isCurrentFlowAnyImplicitFlow()||!!this.flowHelper.isCurrentFlowCodeFlow()||(this.loggerService.logWarning("module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}}]),e}()).\u0275fac=function(e){return new(e||Um)(dr(Zm),dr(aw))},Um.\u0275prov=Pe({token:Um,factory:Um.\u0275fac}),Um),Jw=((jm=function(){function e(t,n,r,i){k(this,e),this.loggerService=t,this.urlService=n,this.dataService=r,this.storagePersistanceService=i}return _(e,[{key:"postParRequest",value:function(e){var t=this,n=new Eh;n=n.set("Content-Type","application/x-www-form-urlencoded");var r=this.storagePersistanceService.read("authWellKnownEndPoints");if(!r)return Id("Could not read PAR endpoint because authWellKnownEndPoints are not given");var i=r.parEndpoint;if(!i)return Id("Could not read PAR endpoint from authWellKnownEndpoints");var o=this.urlService.createBodyForParCodeFlowRequest(e);return this.dataService.post(i,o,n).pipe(re(function(e){return t.loggerService.logDebug("par response: ",e),{expiresIn:e.expires_in,requestUri:e.request_uri}}),av(function(e){var n="There was an error on ParService postParRequest";return t.loggerService.logError(n,e),Id(n)}))}}]),e}()).\u0275fac=function(e){return new(e||jm)(dr(Zm),dr(lw),dr(qm),dr(ew))},jm.\u0275prov=Pe({token:jm,factory:jm.\u0275fac}),jm),$w=((Vm=function(){function e(t,n,r,i,o,s,a,u,c,l,h){k(this,e),this.loggerService=t,this.responseTypeValidationService=n,this.urlService=r,this.redirectService=i,this.configurationProvider=o,this.authWellKnownService=s,this.popupService=a,this.checkAuthService=u,this.userService=c,this.authStateService=l,this.parService=h}return _(e,[{key:"loginPar",value:function(e){var t=this;if(this.responseTypeValidationService.hasConfigValidResponseType()){var n=this.configurationProvider.openIDConfiguration.authWellknownEndpoint;if(n){this.loggerService.logDebug("BEGIN Authorize OIDC Flow, no auth data");var r=e||{},i=r.urlHandler,o=r.customParams;this.authWellKnownService.getAuthWellKnownEndPoints(n).pipe(Yd(function(){return t.parService.postParRequest(o)})).subscribe(function(e){t.loggerService.logDebug("par response: ",e);var n=t.urlService.getAuthorizeParUrl(e.requestUri);t.loggerService.logDebug("par request url: ",n),n?i?i(n):t.redirectService.redirectTo(n):t.loggerService.logError("Could not create url with param ".concat(e.requestUri,": '").concat(n,"'"))})}else this.loggerService.logError("no authWellknownEndpoint given!")}else this.loggerService.logError("Invalid response type!")}},{key:"loginWithPopUpPar",value:function(e,t){var n=this;if(!this.responseTypeValidationService.hasConfigValidResponseType()){var r="Invalid response type!";return this.loggerService.logError(r),Id(r)}var i=this.configurationProvider.openIDConfiguration.authWellknownEndpoint;if(!i){var o="no authWellknownEndpoint given!";return this.loggerService.logError(o),Id(o)}this.loggerService.logDebug("BEGIN Authorize OIDC Flow with popup, no auth data");var s=(e||{}).customParams;return this.authWellKnownService.getAuthWellKnownEndPoints(i).pipe(Yd(function(){return n.parService.postParRequest(s)}),Yd(function(e){n.loggerService.logDebug("par response: ",e);var r=n.urlService.getAuthorizeParUrl(e.requestUri);if(n.loggerService.logDebug("par request url: ",r),!r){var i="Could not create url with param ".concat(e.requestUri,": 'url'");return n.loggerService.logError(i),Id(i)}return n.popupService.openPopUp(r,t),n.popupService.receivedUrl$.pipe(tv(1),Yd(function(e){return n.checkAuthService.checkAuth(e)}),re(function(e){return{isAuthenticated:e,userData:n.userService.getUserDataFromStore(),accessToken:n.authStateService.getAccessToken()}}))}))}}]),e}()).\u0275fac=function(e){return new(e||Vm)(dr(Zm),dr(Gw),dr(lw),dr(Ww),dr($m),dr(Hw),dr(Uw),dr(Bw),dr(vw),dr(rw),dr(Jw))},Vm.\u0275prov=Pe({token:Vm,factory:Vm.\u0275fac}),Vm),Zw=((Hm=function(){function e(t,n,r,i,o,s,a,u,c){k(this,e),this.loggerService=t,this.responseTypeValidationService=n,this.urlService=r,this.configurationProvider=i,this.authWellKnownService=o,this.popupService=s,this.checkAuthService=a,this.userService=u,this.authStateService=c}return _(e,[{key:"loginWithPopUpStandard",value:function(e,t){var n=this;if(!this.responseTypeValidationService.hasConfigValidResponseType()){var r="Invalid response type!";return this.loggerService.logError(r),Id(r)}var i=this.configurationProvider.openIDConfiguration.authWellknownEndpoint;if(!i){var o="no authWellknownEndpoint given!";return this.loggerService.logError(o),Id(o)}return this.loggerService.logDebug("BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.getAuthWellKnownEndPoints(i).pipe(Yd(function(){var r=(e||{}).customParams,i=n.urlService.getAuthorizeUrl(r);return n.popupService.openPopUp(i,t),n.popupService.receivedUrl$.pipe(tv(1),Yd(function(e){return n.checkAuthService.checkAuth(e)}),re(function(e){return{isAuthenticated:e,userData:n.userService.getUserDataFromStore(),accessToken:n.authStateService.getAccessToken()}}))}))}}]),e}()).\u0275fac=function(e){return new(e||Hm)(dr(Zm),dr(Gw),dr(lw),dr($m),dr(Hw),dr(Uw),dr(Bw),dr(vw),dr(rw))},Hm.\u0275prov=Pe({token:Hm,factory:Hm.\u0275fac}),Hm),Yw=((Nm=function(){function e(t,n,r,i,o,s){k(this,e),this.loggerService=t,this.responseTypeValidationService=n,this.urlService=r,this.redirectService=i,this.configurationProvider=o,this.authWellKnownService=s}return _(e,[{key:"loginStandard",value:function(e){var t=this;if(this.responseTypeValidationService.hasConfigValidResponseType()){var n=this.configurationProvider.openIDConfiguration.authWellknownEndpoint;n?(this.loggerService.logDebug("BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.getAuthWellKnownEndPoints(n).subscribe(function(){var n=e||{},r=n.urlHandler,i=n.customParams,o=t.urlService.getAuthorizeUrl(i);o?r?r(o):t.redirectService.redirectTo(o):t.loggerService.logError("Could not create url",o)})):this.loggerService.logError("no authWellknownEndpoint given!")}else this.loggerService.logError("Invalid response type!")}}]),e}()).\u0275fac=function(e){return new(e||Nm)(dr(Zm),dr(Gw),dr(lw),dr(Ww),dr($m),dr(Hw))},Nm.\u0275prov=Pe({token:Nm,factory:Nm.\u0275fac}),Nm),Xw=((Mm=function(){function e(t,n,r,i){k(this,e),this.configurationProvider=t,this.parLoginService=n,this.popUpLoginService=r,this.standardLoginService=i}return _(e,[{key:"login",value:function(e){return this.configurationProvider.openIDConfiguration.usePushedAuthorisationRequests?this.parLoginService.loginPar(e):this.standardLoginService.loginStandard(e)}},{key:"loginWithPopUp",value:function(e,t){return this.configurationProvider.openIDConfiguration.usePushedAuthorisationRequests?this.parLoginService.loginWithPopUpPar(e,t):this.popUpLoginService.loginWithPopUpStandard(e,t)}}]),e}()).\u0275fac=function(e){return new(e||Mm)(dr($m),dr($w),dr(Zw),dr(Yw))},Mm.\u0275prov=Pe({token:Mm,factory:Mm.\u0275fac}),Mm),Qw=((Om=function(){function e(t,n,r,i,o,s,a){k(this,e),this.dataService=t,this.storagePersistanceService=n,this.loggerService=r,this.urlService=i,this.checkSessionService=o,this.resetAuthDataService=s,this.redirectService=a}return _(e,[{key:"logoff",value:function(e){this.loggerService.logDebug("logoff, remove auth ");var t=this.getEndSessionUrl();this.resetAuthDataService.resetAuthorizationData(),t?this.checkSessionService.serverStateChanged()?this.loggerService.logDebug("only local login cleaned up, server session has changed"):e?e(t):this.redirectService.redirectTo(t):this.loggerService.logDebug("only local login cleaned up, no end_session_endpoint")}},{key:"logoffLocal",value:function(){this.resetAuthDataService.resetAuthorizationData(),this.checkSessionService.stop()}},{key:"logoffAndRevokeTokens",value:function(e){var t,n=this;return(null===(t=this.storagePersistanceService.read("authWellKnownEndPoints"))||void 0===t?void 0:t.revocationEndpoint)||(this.loggerService.logDebug("revocation endpoint not supported"),this.logoff(e)),this.storagePersistanceService.getRefreshToken()?this.revokeRefreshToken().pipe(Yd(function(e){return n.revokeAccessToken(e)}),av(function(e){return n.loggerService.logError("revoke token failed",e),Id("revoke token failed")}),kv(function(){return n.logoff(e)})):this.revokeAccessToken().pipe(av(function(e){return n.loggerService.logError("revoke access token failed",e),Id("revoke access token failed")}),kv(function(){return n.logoff(e)}))}},{key:"revokeAccessToken",value:function(e){var t=this,n=e||this.storagePersistanceService.getAccessToken(),r=this.urlService.createRevocationEndpointBodyAccessToken(n),i=this.urlService.getRevocationEndpointUrl(),o=new Eh;return o=o.set("Content-Type","application/x-www-form-urlencoded"),this.dataService.post(i,r,o).pipe(Yd(function(e){return t.loggerService.logDebug("revocation endpoint post response: ",e),mh(e)}),av(function(e){return t.loggerService.logError("Revocation request failed",e),Id("Revocation request failed")}))}},{key:"revokeRefreshToken",value:function(e){var t=this,n=e||this.storagePersistanceService.getRefreshToken(),r=this.urlService.createRevocationEndpointBodyRefreshToken(n),i=this.urlService.getRevocationEndpointUrl(),o=new Eh;return o=o.set("Content-Type","application/x-www-form-urlencoded"),this.dataService.post(i,r,o).pipe(Yd(function(e){return t.loggerService.logDebug("revocation endpoint post response: ",e),mh(e)}),av(function(e){return t.loggerService.logError("Revocation request failed",e),Id("Revocation request failed")}))}},{key:"getEndSessionUrl",value:function(){var e=this.storagePersistanceService.getIdToken();return this.urlService.createEndSessionUrl(e)}}]),e}()).\u0275fac=function(e){return new(e||Om)(dr(qm),dr(ew),dr(Zm),dr(lw),dr(jw),dr(pw),dr(Ww))},Om.\u0275prov=Pe({token:Om,factory:Om.\u0275fac}),Om),eS=((Dm=function(){function e(t,n,r,i,o,s,a,u,c,l,h,f){k(this,e),this.checkSessionService=t,this.checkAuthService=n,this.userService=r,this.tokenHelperService=i,this.configurationProvider=o,this.authStateService=s,this.flowsDataService=a,this.callbackService=u,this.logoffRevocationService=c,this.loginService=l,this.storagePersistanceService=h,this.refreshSessionService=f}return _(e,[{key:"configuration",get:function(){return{configuration:this.configurationProvider.openIDConfiguration,wellknown:this.storagePersistanceService.read("authWellKnownEndPoints")}}},{key:"userData$",get:function(){return this.userService.userData$}},{key:"isAuthenticated$",get:function(){return this.authStateService.authorized$}},{key:"checkSessionChanged$",get:function(){return this.checkSessionService.checkSessionChanged$}},{key:"stsCallback$",get:function(){return this.callbackService.stsCallback$}},{key:"checkAuth",value:function(e){return this.checkAuthService.checkAuth(e)}},{key:"checkAuthIncludingServer",value:function(){return this.checkAuthService.checkAuthIncludingServer()}},{key:"getToken",value:function(){return this.authStateService.getAccessToken()}},{key:"getIdToken",value:function(){return this.authStateService.getIdToken()}},{key:"getRefreshToken",value:function(){return this.authStateService.getRefreshToken()}},{key:"getPayloadFromIdToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getIdToken();return this.tokenHelperService.getPayloadFromToken(t,e)}},{key:"setState",value:function(e){this.flowsDataService.setAuthStateControl(e)}},{key:"getState",value:function(){return this.flowsDataService.getAuthStateControl()}},{key:"authorize",value:function(e){(null==e?void 0:e.customParams)&&this.storagePersistanceService.write("storageCustomRequestParams",e.customParams),this.loginService.login(e)}},{key:"authorizeWithPopUp",value:function(e){return(null==e?void 0:e.customParams)&&this.storagePersistanceService.write("storageCustomRequestParams",e.customParams),this.loginService.loginWithPopUp(e)}},{key:"forceRefreshSession",value:function(e){return e&&this.storagePersistanceService.write("storageCustomRequestParams",e),this.refreshSessionService.forceRefreshSession(e)}},{key:"logoffAndRevokeTokens",value:function(e){return this.logoffRevocationService.logoffAndRevokeTokens(e)}},{key:"logoff",value:function(e){return this.logoffRevocationService.logoff(e)}},{key:"logoffLocal",value:function(){return this.logoffRevocationService.logoffLocal()}},{key:"revokeAccessToken",value:function(e){return this.logoffRevocationService.revokeAccessToken(e)}},{key:"revokeRefreshToken",value:function(e){return this.logoffRevocationService.revokeRefreshToken(e)}},{key:"getEndSessionUrl",value:function(){return this.logoffRevocationService.getEndSessionUrl()}}]),e}()).\u0275fac=function(e){return new(e||Dm)(dr(jw),dr(Bw),dr(vw),dr(tw),dr($m),dr(rw),dr(sw),dr(Tw),dr(Qw),dr(Xw),dr(ew),dr(Vw))},Dm.\u0275prov=Pe({token:Dm,factory:Dm.\u0275fac}),Dm),tS=((Rm=function(){function e(t,n){k(this,e),this.configProvider=t,this.loggerService=n}return _(e,[{key:"read",value:function(e){var t;if(!this.hasStorage())return this.loggerService.logDebug("Wanted to read '".concat(e,"' but Storage was undefined")),!1;var n=null===(t=this.getStorage())||void 0===t?void 0:t.getItem(e);return n?JSON.parse(n):(this.loggerService.logDebug("Wanted to read '".concat(e,"' but nothing was found")),null)}},{key:"write",value:function(e,t){if(!this.hasStorage())return this.loggerService.logDebug("Wanted to write '".concat(e,"/").concat(t,"' but Storage was falsy")),!1;var n=this.getStorage();return n?(t=t||null,n.setItem("".concat(e),JSON.stringify(t)),!0):(this.loggerService.logDebug("Wanted to write '".concat(e,"/").concat(t,"' but Storage was falsy")),!1)}},{key:"remove",value:function(e){if(!this.hasStorage())return this.loggerService.logDebug("Wanted to remove '".concat(e,"' but Storage was falsy")),!1;var t=this.getStorage();return t?(t.removeItem("".concat(e)),!0):(this.loggerService.logDebug("Wanted to write '".concat(e,"' but Storage was falsy")),!1)}},{key:"getStorage",value:function(){var e;return null===(e=this.configProvider.openIDConfiguration)||void 0===e?void 0:e.storage}},{key:"hasStorage",value:function(){return"undefined"!=typeof Storage}}]),e}()).\u0275fac=function(e){return new(e||Rm)(dr($m),dr(Zm))},Rm.\u0275prov=Pe({token:Rm,factory:Rm.\u0275fac}),Rm),nS=((Im=function(){function e(){k(this,e)}return _(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[qw,Xm,aw,eS,nw,Wm,jw,sw,Fw,Rw,$m,Qw,vw,ow,zm,lw,rw,gw,ew,tw,Zm,Iw,bw,Xw,Jw,Nw,Hw,qm,Cw,zw,Bw,pw,Aw,yw,Gw,Ew,_w,ww,Sw,hw,mw,$w,Zw,Yw,iw,{provide:Qm,useClass:t.storage||tS}]}}}]),e}()).\u0275mod=lt({type:Im}),Im.\u0275inj=Te({factory:function(e){return new(e||Im)},imports:[[dc,ff]]}),Im),rS=((Tm=function(){function e(){k(this,e)}return _(e,[{key:"ngOnInit",value:function(){this.str=(new Document).URL,console.log(this.str)}}]),e}()).\u0275fac=function(e){return new(e||Tm)},Tm.\u0275cmp=st({type:Tm,selectors:[["menu"]],decls:7,vars:0,consts:[["href","#"]],template:function(e,t){1&e&&(Vo(0,"ul"),Vo(1,"li"),Vo(2,"a",0),is(3,"Item_1"),jo(),jo(),Vo(4,"li"),Vo(5,"a",0),is(6,"Item_2"),jo(),jo(),jo())},styles:["*[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]{color:#e7e7e7;font:normal 25px/normal BasisGrotesquePro,Consolas,sans-serif}ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:auto}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:auto;list-style-type:none;margin:0 0 30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font:inherit;color:inherit}"]}),Tm);function iS(e,t){if(1&e&&(Vo(0,"div",6),is(1),jo()),2&e){var n=Go();ui(1),ss('"',n.itemValue,'"')}}var oS=function(e){return{"item-input-edit":e}};function sS(e,t){if(1&e){var n=Bo();Vo(0,"input",7),zo("ngModelChange",function(e){return $t(n),Go().stringValue=e}),jo()}if(2&e){var r=Go();Jo("id",r.name),No("ngClass",ba(3,oS,r.edit))("ngModel",r.stringValue)}}function aS(e,t){if(1&e){var n=Bo();Vo(0,"button",8),zo("click",function(){return $t(n),Go().clickOnEdit()}),jo()}}function uS(e,t){if(1&e){var n=Bo();Vo(0,"button",9),zo("click",function(){return $t(n),Go().clickOnOk()}),jo()}}var cS,lS,hS=((lS=function(){function e(){k(this,e),this.edit=!1,console.log("constructor: item - "+this.name)}return _(e,[{key:"ngOnInit",value:function(){this.itemDescription=this.table?(new vd).getData():(new gd).value,this.itemName=this.itemDescription[this.name],this.itemValue=this.detailList[this.name],this.stringValue=this.itemValue}},{key:"clickOnEdit",value:function(){this.edit=!0}},{key:"clickOnOk",value:function(){this.edit=!1,this.detailList[this.name]=this.stringValue,this.itemValue=this.stringValue,console.log("name: "+this.name+" value:"+this.stringValue),console.log(this.detailList)}}]),e}()).\u0275fac=function(e){return new(e||lS)},lS.\u0275cmp=st({type:lS,selectors:[["item"]],inputs:{name:"name",value:"value",detailList:"detailList",table:"table"},decls:9,vars:5,consts:[[1,"item-wrap"],[1,"item-header"],["class","item-value",4,"ngIf","ngIfElse"],["onedit",""],["class","item-btn",3,"click",4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"item-value"],["type","text",1,"item-input",3,"id","ngClass","ngModel","ngModelChange"],[1,"item-btn",3,"click"],[1,"item-btn","item-btn-ok",3,"click"]],template:function(e,t){if(1&e&&(Vo(0,"div",0),Vo(1,"div",1),is(2),jo(),Do(3,iS,2,1,"div",2),Do(4,sS,1,5,"ng-template",null,3,Ea),Do(6,aS,1,0,"button",4),Do(7,uS,1,0,"ng-template",null,5,Ea),jo()),2&e){var n=Oo(5),r=Oo(8);ui(2),ss("",t.itemName,":"),ui(1),No("ngIf",!t.edit)("ngIfElse",n),ui(3),No("ngIf",!t.edit)("ngIfElse",r)}},directives:[uc,ll,ic,jl,ph],styles:['.item-wrap[_ngcontent-%COMP%]{height:auto;display:flex;align-items:center}.item-wrap[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{color:#646464}.item-wrap[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%], .item-wrap[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{height:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content;font:normal 18px/normal BasisGrotesquePro,Consolas,sans-serif}.item-wrap[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{margin-left:10px;color:#4177dd}.item-wrap[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]{border-radius:1px 3px 3px 1px;background-color:#efefef;border:1px solid #e5e5e5;margin-left:auto;height:27px;width:35px;font:normal 12px/normal WebHostingHub-Glyphs,sans-serif;color:#a1a1a1;margin-right:50px;cursor:pointer}.item-wrap[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]:focus{outline:none}.item-wrap[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]:before{content:"\\f1B7"}.item-wrap[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{width:0;height:27px;box-sizing:border-box;margin-left:10px;border:1px solid #e2e2e2;border-right-width:0;border-radius:3px 1px 1px 3px;font:normal 18px/normal BasisGrotesquePro,Consolas,sans-serif;color:#7194d6;padding:0 10px;transition:width 1s ease-in-out}.item-wrap[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]:focus{outline:none}.item-wrap[_ngcontent-%COMP%]   .item-input-edit[_ngcontent-%COMP%]{width:50%;border-color:#9ad998;border-width:1px 0 1px 1px;margin-left:auto}.item-wrap[_ngcontent-%COMP%]   .item-btn-ok[_ngcontent-%COMP%]{background-color:#9ad998;border-color:#9ad998;margin-left:0}.item-wrap[_ngcontent-%COMP%]   .item-btn-ok[_ngcontent-%COMP%]:before{content:"\\2713"}.item-wrap[_ngcontent-%COMP%]   .item-input-ok[_ngcontent-%COMP%]{border-color:#9ad998;border-width:2px 0 2px 2px}']}),lS),fS=((cS=function(){function e(){k(this,e)}return _(e,[{key:"ngOnInit",value:function(){this.itemDescription=this.table?(new vd).getData():(new gd).value,this.name=this.itemDescription[this.value]}},{key:"onChange",value:function(){this.itemObj[this.value]=this.item}}]),e}()).\u0275fac=function(e){return new(e||cS)},cS.\u0275cmp=st({type:cS,selectors:[["new-item"]],inputs:{value:"value",itemObj:"itemObj",table:"table"},decls:4,vars:3,consts:[[1,"item-wrap"],[1,"item-header"],["type","text",1,"item-input","item-input-edit",3,"id","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Vo(0,"div",0),Vo(1,"div",1),is(2),jo(),Vo(3,"input",2),zo("ngModelChange",function(e){return t.item=e})("ngModelChange",function(){return t.onChange()}),jo(),jo()),2&e&&(ui(2),ss("",t.name,":"),ui(1),Jo("id",t.value),No("ngModel",t.item))},directives:[ll,jl,ph],styles:['.item-wrap[_ngcontent-%COMP%]{height:auto;display:flex;align-items:center}.item-wrap[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{height:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content;font:normal 16px/normal BasisGrotesquePro,Consolas,sans-serif;color:#646464}.item-wrap[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{width:50%;height:30px;box-sizing:border-box;margin:0 30px 0 auto;border:1px solid #e2e2e2;border-radius:1px;font:normal 18px/normal BasisGrotesquePro,Consolas,sans-serif;color:#7194d6;padding:0 10px;transition:width 1s ease-in-out}.item-wrap[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]:focus{outline:none}.item-wrap[_ngcontent-%COMP%]   .item-btn-ok[_ngcontent-%COMP%]{background-color:#9ad998;border-color:#9ad998;margin-left:0}.item-wrap[_ngcontent-%COMP%]   .item-btn-ok[_ngcontent-%COMP%]:before{content:"\\2713"}.item-wrap[_ngcontent-%COMP%]   .item-input-ok[_ngcontent-%COMP%]{border-color:#9ad998;border-width:2px 0 2px 2px}']}),cS);function dS(e,t){1&e&&Uo(0,"div")}function vS(e,t){if(1&e&&(Vo(0,"th"),is(1),jo()),2&e){var n=t.$implicit;ui(1),os(n)}}function pS(e,t){if(1&e&&(Vo(0,"td"),is(1),jo()),2&e){var n=t.$implicit,r=Go().$implicit;Io("id",n),ui(1),os(r[n])}}var gS=function(e,t){return{odd:e,even:t}};function yS(e,t){if(1&e){var n=Bo();Vo(0,"tr",37),zo("click",function(){$t(n);var e=t.index;return Go(2).showDetail(e)}),Do(1,pS,2,2,"td",35),jo()}if(2&e){var r=t.odd,i=t.even,o=Go(2);No("ngClass",ka(2,gS,r,i)),ui(1),No("ngForOf",o.imsTableElement)}}function mS(e,t){if(1&e&&(Vo(0,"div",34),Vo(1,"table"),Vo(2,"thead"),Vo(3,"tr"),Do(4,vS,2,1,"th",35),jo(),jo(),Vo(5,"tbody"),Do(6,yS,2,5,"tr",36),jo(),Uo(7,"tfoot"),jo(),jo()),2&e){var n=Go();ui(4),No("ngForOf",n.imsTableHeader),ui(2),No("ngForOf",n.responseObj)}}function wS(e,t){1&e&&Uo(0,"div")}function SS(e,t){if(1&e&&(Vo(0,"th"),is(1),jo()),2&e){var n=t.$implicit;ui(1),os(n)}}function bS(e,t){if(1&e&&(Vo(0,"td"),is(1),jo()),2&e){var n=t.$implicit,r=Go().$implicit;Io("id",n),ui(1),os(r[n])}}function kS(e,t){if(1&e){var n=Bo();Vo(0,"tr",37),zo("click",function(){$t(n);var e=t.index;return Go(2).showDetail(e)}),Do(1,bS,2,2,"td",35),jo()}if(2&e){var r=t.odd,i=t.even,o=Go(2);No("ngClass",ka(2,gS,r,i)),ui(1),No("ngForOf",o.mssTableElement)}}function CS(e,t){if(1&e&&(Vo(0,"table"),Vo(1,"thead"),Vo(2,"tr"),Do(3,SS,2,1,"th",35),jo(),jo(),Vo(4,"tbody"),Do(5,kS,2,5,"tr",36),jo(),Uo(6,"tfoot"),jo()),2&e){var n=Go();ui(3),No("ngForOf",n.mssTableHeader),ui(2),No("ngForOf",n.responseObj)}}function _S(e,t){1&e&&Uo(0,"div")}function ES(e,t){if(1&e){var n=Bo();Vo(0,"item",40),zo("detailListChange",function(e){return $t(n),Go(2).detailList=e}),jo()}if(2&e){var r=t.$implicit,i=Go(2);No("table",i.isIms)("detailList",i.detailList)("name",r)("value",r)}}function FS(e,t){if(1&e&&(Vo(0,"div",38),Do(1,ES,1,4,"item",39),jo()),2&e){var n=Go();ui(1),No("ngForOf",n.itemList)}}function xS(e,t){1&e&&Uo(0,"div")}function AS(e,t){if(1&e){var n=Bo();Vo(0,"new-item",42),zo("itemObjChange",function(e){return $t(n),Go(2).newItemObj=e}),jo()}if(2&e){var r=t.$implicit,i=Go(2);No("table",i.isIms)("value",r)("itemObj",i.newItemObj)}}function PS(e,t){if(1&e&&(Vo(0,"div",38),Do(1,AS,1,3,"new-item",41),jo()),2&e){var n=Go();ui(1),No("ngForOf",n.itemList)}}var TS,IS,RS=function(e){return{check:e}},DS=function(e,t){return{show:e,hide:t}},OS=function(e){return{"menu-show":e}},MS=function(e){return{"sub-menu-show":e}},NS=((IS=function(){function e(t,n,r,i){k(this,e),this.httpService=t,this.signalRService=n,this.notify=r,this.oidcSecurityService=i,this.count=0,this.stringSearch="",this.checkIms="\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c vIMS",this.checkMss="\u041c\u0421\u0421 \u043d\u0430 SMG vIMS",this.isIms=!1,this.isMss=!1,this.show=!1,this.base=null,this.itemList=[],this.imsTableElement=(new pd).getIms(),this.mssTableElement=(new pd).getMss(),this.imsTableHeader=[],this.mssTableHeader=[],this.isMenu=!1,this.newItemShow=!1,this.imsFieldDescription=(new vd).getData(),this.mssFieldDescription=(new gd).value;for(var o=0;o<this.imsTableElement.length;o++)this.imsTableHeader[o]=this.imsFieldDescription[this.imsTableElement[o]];for(var s=0;s<this.mssTableElement.length;s++)this.mssTableHeader[s]=this.mssFieldDescription[this.mssTableElement[s]]}return _(e,[{key:"ngOnInit",value:function(){this.signalRService.run(),this.oidcSecurityService.checkAuth().subscribe(function(e){return console.log("Is auth",e)})}},{key:"login",value:function(){console.log(window.location.origin),this.oidcSecurityService.authorize()}},{key:"logout",value:function(){this.oidcSecurityService.logoff()}},{key:"checkTable",value:function(){for(var e in this.isIms&&(this.newItemObj=(new vd).getData(),this.itemList=(new vd).array),this.isMss&&(this.newItemObj=(new gd).value,this.itemList=(new gd).array),this.newItemObj)Object.prototype.hasOwnProperty.call(this.newItemObj,e)&&(this.newItemObj[e]="");this.responseObj=[]}},{key:"onMenuShow",value:function(){this.isMenu=!this.isMenu}},{key:"onCheck",value:function(e){this.notify.onEvent(),this.base=e,"ims"===e&&(this.isIms=!0,this.isMss=!1),"mss"===e&&(this.isIms=!1,this.isMss=!0),this.checkTable()}},{key:"onSubmit",value:function(e){var t=this;if(this.signalRService.isConnected()&&(this.signalRService.sendMessage(),this.signalRService.sendMessageAny("SendMessageUser","Pablo","Hello")),!(this.stringSearch.length<=0)&&(this.isIms||this.isMss)){var n=new vf;n.query=this.stringSearch,this.isIms?n.table="ims":this.isMss&&(n.table="mss"),this.httpService.getData(n).subscribe(function(e){var n=t.toArray(e);t.count=n.length,t.responseObj=t.toArray(e),console.log(e)})}}},{key:"showDetail",value:function(e){this.show?this.show=!this.show:(this.show=!this.show,this.detailList=this.responseObj[e])}},{key:"newBtnClick",value:function(){(this.isIms||this.isMss)&&(this.isIms?this.newItemList=this.imsFieldDescription:this.isMss&&(this.newItemList=this.mssFieldDescription),this.newItemShow=!this.newItemShow)}},{key:"onSave",value:function(e){var t=new vf;t.data=JSON.stringify(e),this.isIms?t.table="ims":this.isMss&&(t.table="mss"),this.httpService.editJsonData(e.Id,t).subscribe(),console.log(e)}},{key:"onSaveNew",value:function(e){for(var t in this.newItemObj)if(Object.prototype.hasOwnProperty.call(this.newItemObj,t)&&""!=this.newItemObj[t])return void this.sendDataForSaveNew(e);console.log("Data not saved. All fields empty.")}},{key:"sendDataForSaveNew",value:function(e){console.log(this.newItemObj),e.Id=0;var t=new vf;t.data=JSON.stringify(e),this.isIms?t.table="ims":this.isMss&&(t.table="mss"),this.httpService.putData(t).subscribe()}},{key:"toArray",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}}]),e}()).\u0275fac=function(e){return new(e||IS)(Mo(df),Mo(dd),Mo(Cd),Mo(eS))},IS.\u0275cmp=st({type:IS,selectors:[["data-base"]],features:[Ss([df,dd,Cd])],decls:64,vars:32,consts:[["id","base"],["id","header",1,""],[1,"menu-icon",3,"click"],["id","icon"],["id","logo"],["id","user"],[1,"button",3,"click"],["id","select_menu",1,""],[1,"checkbox",3,"ngClass"],["id","mss","type","radio","name","group",3,"change"],["id","ims","type","radio","name","group",3,"change"],["id","table_wrap",1,""],["id","search",1,""],["id","i_search","type","text","placeholder","\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",1,"input",3,"ngModel","ngModelChange"],["id","submit_search",1,"button",3,"click"],[1,"icon-serch"],[1,"box"],[4,"ngIf","ngIfThen"],["ims",""],["mss",""],[1,"status-bar"],[1,"copy-r"],["id","",1,"detail-wrap",3,"ngClass"],[1,"item-header"],[1,"item-h-ok",3,"click"],[1,"item-h-cancel",3,"click"],["item",""],["id","",1,"new-item-wrap",3,"ngClass"],[1,"new-item-header"],["newitem",""],[1,"new-btn",3,"click"],[1,"new-btn-icon"],[1,"menu",3,"ngClass"],[3,"ngClass"],[1,"tab-content"],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"items-wrap"],[3,"table","detailList","name","value","detailListChange",4,"ngFor","ngForOf"],[3,"table","detailList","name","value","detailListChange"],[3,"table","value","itemObj","itemObjChange",4,"ngFor","ngForOf"],[3,"table","value","itemObj","itemObjChange"]],template:function(e,t){if(1&e&&(Vo(0,"div",0),Vo(1,"div",1),Vo(2,"div",2),zo("click",function(){return t.onMenuShow()}),Uo(3,"span"),Uo(4,"span"),jo(),Uo(5,"div",3),Vo(6,"div",4),is(7,"\u0411\u0414 vIMS \u041c\u0420\u0424 \u0423\u0440\u0430\u043b"),jo(),Vo(8,"div",5),is(9,"anonymous-ii"),jo(),Vo(10,"button",6),zo("click",function(){return t.login()}),is(11,"Login"),jo(),Vo(12,"button",6),zo("click",function(){return t.logout()}),is(13,"Logout"),jo(),jo(),Vo(14,"div",7),Vo(15,"label",8),Vo(16,"input",9),zo("change",function(){return t.onCheck("mss")}),jo(),is(17),jo(),Vo(18,"label",8),Vo(19,"input",10),zo("change",function(){return t.onCheck("ims")}),jo(),is(20),jo(),jo(),Vo(21,"div",11),Vo(22,"div",12),Vo(23,"div"),Vo(24,"input",13),zo("ngModelChange",function(e){return t.stringSearch=e}),jo(),jo(),Vo(25,"div"),Vo(26,"button",14),zo("click",function(e){return t.onSubmit(e)}),Uo(27,"span",15),jo(),jo(),jo(),Vo(28,"div",16),Do(29,dS,1,0,"div",17),Do(30,mS,8,2,"ng-template",null,18,Ea),Do(32,wS,1,0,"div",17),Do(33,CS,7,2,"ng-template",null,19,Ea),jo(),Vo(35,"div",20),Vo(36,"p"),is(37),jo(),Vo(38,"p",21),is(39,"\u041b\u0435\u0448\u043e\u043a \u041a.\u0410. 2021"),jo(),jo(),jo(),Vo(40,"div",22),Vo(41,"div",23),Vo(42,"button",24),zo("click",function(){return t.onSave(t.detailList)}),is(43,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),jo(),Vo(44,"button",25),zo("click",function(){return t.showDetail(-1)}),is(45,"\u0412\u044b\u0439\u0442\u0438"),jo(),jo(),Do(46,_S,1,0,"div",17),Do(47,FS,2,1,"ng-template",null,26,Ea),jo(),jo(),Vo(49,"div",27),Vo(50,"div",28),Vo(51,"button",24),zo("click",function(){return t.onSaveNew(t.newItemObj)}),is(52,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),jo(),Vo(53,"button",25),zo("click",function(){return t.newBtnClick()}),is(54,"\u0412\u044b\u0439\u0442\u0438"),jo(),jo(),Do(55,xS,1,0,"div",17),Do(56,PS,2,1,"ng-template",null,29,Ea),jo(),Vo(58,"div",30),zo("click",function(){return t.newBtnClick()}),Uo(59,"span",31),jo(),Vo(60,"div",32),Uo(61,"menu",33),Vo(62,"p"),is(63,"Test"),jo(),jo()),2&e){var n=Oo(31),r=Oo(34),i=Oo(48),o=Oo(57);ui(15),No("ngClass",ba(18,RS,t.isMss)),ui(2),ss("",t.checkMss," "),ui(1),No("ngClass",ba(20,RS,t.isIms)),ui(2),ss("",t.checkIms," "),ui(4),No("ngModel",t.stringSearch),ui(5),No("ngIf",t.isIms)("ngIfThen",n),ui(3),No("ngIf",t.isMss)("ngIfThen",r),ui(5),ss("\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.count,""),ui(3),No("ngClass",ka(22,DS,t.show,!t.show)),ui(6),No("ngIf",t.show)("ngIfThen",i),ui(3),No("ngClass",ka(25,DS,t.newItemShow,!t.newItemShow)),ui(6),No("ngIf",t.newItemShow)("ngIfThen",o),ui(5),No("ngClass",ba(28,OS,t.isMenu)),ui(1),No("ngClass",ba(30,MS,t.isMenu))}},directives:[ic,ll,jl,ph,uc,rS,sc,hS,fS],styles:['.odd[_ngcontent-%COMP%]{background-color:hsla(0,0%,91.4%,.349)}.even[_ngcontent-%COMP%]{background-color:transparent}#base[_ngcontent-%COMP%]{display:grid;grid-template-rows:50px 50px auto;background-color:#eee}#header[_ngcontent-%COMP%]{height:50px;background-color:#8348fc;display:flex;z-index:1000}#icon[_ngcontent-%COMP%]{display:inline-block;width:50px}#user[_ngcontent-%COMP%]{width:200px;margin-left:auto;margin-right:100px;font:normal 20px/normal BasisGrotesquePro,Consolas,sans-serif;padding:11px}#logo[_ngcontent-%COMP%], #user[_ngcontent-%COMP%]{display:inline-block;height:auto;color:#e7e7e7;cursor:pointer}#logo[_ngcontent-%COMP%]{width:300px;margin-left:50px;font:normal 30px/normal BasisGrotesquePro,Consolas,sans-serif;padding:7px}.menu-icon[_ngcontent-%COMP%]{width:50px;height:50px;cursor:pointer;padding:5px}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:3px;display:block;width:31px;background-color:#fff;margin:11px auto}.menu[_ngcontent-%COMP%]{position:fixed;left:-300px;top:50px;height:100%;width:300px;background-color:#8348fc;z-index:1001;transition:left .5s ease-in-out}.menu[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]{padding:50px}.menu-show[_ngcontent-%COMP%]{background-color:#8348fc;left:0}.sub-menu-show[_ngcontent-%COMP%]{visibility:visible}#select_menu[_ngcontent-%COMP%]{display:flex;height:50px;background-color:#eee;box-shadow:0 1px 13px #2f2f2f;z-index:1}#table_wrap[_ngcontent-%COMP%]{background-color:#eee;overflow:hidden}.box[_ngcontent-%COMP%]{overflow:auto;width:100%;margin-top:50px;padding:0 50px;height:calc(100% - 177px)}#search[_ngcontent-%COMP%]{display:flex;margin:50px auto auto}#search[_ngcontent-%COMP%], #table[_ngcontent-%COMP%]{height:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content;box-sizing:border-box}#table[_ngcontent-%COMP%]{margin:auto}.input[_ngcontent-%COMP%]{height:50px;width:600px;border:solid #d1d1d1;border-width:0 0 3px;box-sizing:border-box;font:normal 30px/normal BasisGrotesquePro,Consolas,sans-serif;padding:5px;background-color:transparent;outline-style:none;color:#636363}.button[_ngcontent-%COMP%]{height:50px;width:100px;border-style:none;background-color:#8348fc;color:#e4e4e4;font:normal 20px/normal BasisGrotesquePro,Consolas,sans-serif;border-radius:10px;cursor:pointer;position:relative}button#submit_search[_ngcontent-%COMP%]{transition:.5s ease-in-out}button#submit_search[_ngcontent-%COMP%]:hover{background-color:#6535c5}button#submit_search[_ngcontent-%COMP%]:focus{outline:none}.status-bar[_ngcontent-%COMP%]{height:27px;position:absolute;bottom:0;background-color:#eee;border:solid #cbcbcb;border-width:2px 0 0;color:#6a6a6a;font:normal 15px/normal Consolas,sans-serif}.status-bar[_ngcontent-%COMP%]   .copy-r[_ngcontent-%COMP%]{position:absolute;right:10px;color:#7a7a7a}.status-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:auto;width:auto;display:inline-block;margin:3px 10px}#search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 5px}table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{background:inherit}table[_ngcontent-%COMP%]{height:auto;border-collapse:collapse}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   #NumbersRange[_ngcontent-%COMP%]{width:200px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font:normal 15px/normal BasisGrotesquePro,Consolas,sans-serif;padding:0 10px 40px;position:-webkit-sticky;position:sticky;top:0;background:inherit}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:auto;width:auto;font:normal 13px/normal BasisGrotesquePro,Consolas,sans-serif;color:#5a5a5a;padding:10px;text-align:center}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   #NumbersRange[_ngcontent-%COMP%]{width:200px;word-break:break-word}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:solid #c7c7c7;border-width:0 0 1px}.place-component[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]{height:auto;display:grid;grid-template-columns:150px 150px 150px 150px 150px 150px 150px 150px 150px 150px 150px 150px 150px 150px 150px;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:auto}.place-component[_ngcontent-%COMP%]{cursor:pointer}.place-component[_ngcontent-%COMP%]:hover{background-color:#bcbcbc;outline:1px solid #010101}.cell[_ngcontent-%COMP%]{border:1px solid #9b9b9b;padding:5px 10px;box-sizing:border-box;font:700 11px/normal BasisGrotesquePro,Consolas,sans-serif;color:#5a5a5a;text-align:center}.cell-header[_ngcontent-%COMP%]{border-width:2px 1px;background-color:#e6e6e6}.icon-serch[_ngcontent-%COMP%]{position:absolute;height:auto;width:auto;top:10px;left:40px}.icon-serch[_ngcontent-%COMP%]:before{content:"\\f0C5";font:normal 25px/normal WebHostingHub-Glyphs,sans-serif}.checkbox[_ngcontent-%COMP%]{display:block;width:auto;margin:10px auto;height:auto;cursor:pointer;font:700 20px/normal BasisGrotesquePro,Consolas,sans-serif;color:#565656}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:auto;width:auto;display:none}.check[_ngcontent-%COMP%]{color:#8348fc;border:solid #8348fc;border-width:0 0 5px}div.show[_ngcontent-%COMP%]{visibility:visible}div.hide[_ngcontent-%COMP%]{display:none;visibility:hidden}.detail-wrap[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-rows:70px auto;position:absolute;top:0;box-sizing:border-box;background-color:#efefef;z-index:10000}.detail-wrap[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{border:solid #cdcdcd;border-width:0 0 1px}.detail-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]{display:grid;padding:10px 5px 20px 50px;grid-template-columns:50% 50%;grid-gap:5px;height:-webkit-max-content;height:-moz-max-content;height:max-content}.new-item-wrap[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto;grid-template-rows:70px auto;grid-gap:5px;position:absolute;top:0;box-sizing:border-box;background-color:#efefef;z-index:10000}.new-item-wrap[_ngcontent-%COMP%]   .new-item-header[_ngcontent-%COMP%]{border:solid #cdcdcd;border-width:0 0 1px}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]{display:grid;padding:10px 5px 20px 50px;grid-template-columns:50% 50%;grid-gap:5px;height:-webkit-max-content;height:-moz-max-content;height:max-content}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]{height:auto;display:flex;align-items:center}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{color:#646464}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%], .new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{height:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content;font:normal 12px/normal BasisGrotesquePro,Consolas,sans-serif}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{margin-left:10px;color:#4177dd}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]{border-radius:1px 3px 3px 1px;background-color:#efefef;border:1px solid #e5e5e5;margin-left:auto;height:20px;width:35px;font:normal 12px/normal WebHostingHub-Glyphs,sans-serif;color:#a1a1a1;margin-right:50px;cursor:pointer}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]:focus{outline:none}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]:before{content:"\\f1B7"}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{width:50%;height:28px;box-sizing:border-box;margin:0 30px 0 auto;border:1px solid #e2e2e2;border-radius:1px;font:normal 15px/normal BasisGrotesquePro,Consolas,sans-serif;color:#7194d6;padding:0 10px;transition:width 1s ease-in-out}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]:focus{outline:none}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-btn-ok[_ngcontent-%COMP%]{background-color:#9ad998;border-color:#9ad998;margin-left:0}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-btn-ok[_ngcontent-%COMP%]:before{content:"\\2713"}.new-item-wrap[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]   .item-wrap[_ngcontent-%COMP%]   .item-input-ok[_ngcontent-%COMP%]{border-color:#9ad998;border-width:2px 0 2px 2px}.item-h-ok[_ngcontent-%COMP%]{background-color:#8348fc;color:#d8d8d8;right:130px}.item-h-cancel[_ngcontent-%COMP%], .item-h-ok[_ngcontent-%COMP%]{border:0 solid #e5e5e5;height:43px;width:104px;font:normal 18px/normal BasisGrotesquePro,WebHostingHub-Glyphs,sans-serif;cursor:pointer;border-radius:3px;position:absolute;top:10px}.item-h-cancel[_ngcontent-%COMP%]{background-color:#d28686;color:#5e5e5e;right:13px}.new-btn[_ngcontent-%COMP%]{position:fixed;height:60px;width:60px;z-index:9999;right:20px;bottom:30px;border-radius:30px;background-color:#8348fc;cursor:pointer}.new-btn[_ngcontent-%COMP%]   .new-btn-icon[_ngcontent-%COMP%]{position:absolute;height:30px;width:30px;left:15px;bottom:35px}.new-btn[_ngcontent-%COMP%]   .new-btn-icon[_ngcontent-%COMP%]:before{content:"\\002B";font:normal 60px/normal BasisGrotesquePro,WebHostingHub-Glyphs,sans-serif;height:30px;display:inline-block;width:30px;color:#e0e0e0}']}),IS),HS=((TS=function(){function e(t,n){k(this,e),this._httpService=t,this.title=n,this.name=""}return _(e,[{key:"ngOnInit",value:function(){this.title.setTitle("\u0411\u0414 vIMS")}}]),e}()).\u0275fac=function(e){return new(e||TS)(Mo(df),Mo(el))},TS.\u0275cmp=st({type:TS,selectors:[["app"]],features:[Ss([df])],decls:1,vars:0,template:function(e,t){1&e&&Uo(0,"data-base")},directives:[NS],encapsulation:2}),TS);function VS(e){return function(){return e.withConfig({stsServer:"http://localhost:5000",redirectUrl:window.location.origin+"/signin-oidc",postLogoutRedirectUri:window.location.origin,clientId:"smsis_portal_web",scope:"openid profile smsis.portal",responseType:"code",silentRenew:!0,silentRenewUrl:window.location.origin+"/silent-renew.html",renewTimeBeforeTokenExpiresInSeconds:10})}}var jS,US,BS=((US=function e(){k(this,e)}).\u0275mod=lt({type:US}),US.\u0275inj=Te({factory:function(e){return new(e||US)},providers:[qw,{provide:Fa,useFactory:VS,deps:[qw],multi:!0}],imports:[[nS.forRoot()],nS]}),US),LS=((jS=function e(){k(this,e)}).\u0275mod=lt({type:jS,bootstrap:[HS]}),jS.\u0275inj=Te({factory:function(e){return new(e||jS)},imports:[[Yc,yh,ff,BS,fy.forRoot([])]]}),jS);!function(){if(ou)throw new Error("Cannot enable prod mode after platform setup.");iu=!1}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(),$c().bootstrapModule(LS)},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]])}();